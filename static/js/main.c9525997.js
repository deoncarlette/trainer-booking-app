/*! For license information please see main.c9525997.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,p(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!N.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+_(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),j(s,t,a,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+_(o=e[c],c);l+=j(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,a,u=i+_(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return j(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,R(k);else{var t=r(u);null!==t&&P(w,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,v(C),C=-1),m=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,E=null,C=-1,T=5,_=-1;function j(){return!(t.unstable_now()-_<T)}function I(){if(null!==E){var e=t.unstable_now();_=e;var n=!0;try{n=E(!0,e)}finally{n?S():(N=!1,E=null)}}else N=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=I,S=function(){A.postMessage(null)}}else S=function(){y(I,0)};function R(e){E=e,N||(N=!0,S())}function P(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,P(w,i-s))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(k))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,O=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ne=null;function Ee(e){if(e=xa(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=Sa(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function _e(e,t){return e(t)}function je(){}var Ie=!1;function De(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return _e(e,t,n)}finally{Ie=!1,(null!==Se||null!==Ne)&&(je(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Sa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Re=!1}function Me(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Oe=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Oe=e}};function Be(e,t,n,r,a,i,s,o,l){Le=!1,Oe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return qe(a),e;if(s===r)return qe(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Nt,Et,Ct=!1,Tt=[],_t=null,jt=null,It=null,Dt=new Map,At=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ot(e){var t=ba(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==_t&&Ft(_t)&&(_t=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),Dt.forEach(Ut),At.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==jt&&Bt(jt,e),null!==It&&Bt(It,e),Dt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Qt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Kt(e,t,n,r){if(qt){var a=Yt(e,t,n,r);if(null===a)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=Lt(_t,e,t,n,r,a),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,a),!0;case"mouseover":return It=Lt(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Dt.set(i,Lt(Dt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Wr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=ba(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=O({},cn,{view:0,detail:0}),hn=an(dn),fn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(O({},fn,{dataTransfer:0})),gn=an(O({},dn,{relatedTarget:0})),yn=an(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),xn=an(O({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Nn}var Cn=O({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),_n=an(O({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=an(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=O({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Dn),Rn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,On=u&&(!Pn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Gn(e){Ur(e,0)}function Yn(e){if(K(ka(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Kn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,we(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Nr={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),_r=Er("animationstart"),jr=Er("transitionend"),Ir=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(_r,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Oe;Le=!1,Oe=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Or(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Or(a,o,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Vr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var a=Wt;break;case 4:a=Qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}De((function(){var r=i,a=we(n),s=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case Tr:case _r:l=yn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ae(m,h))&&u.push(Qr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:ka(l),f=null==c?o:ka(c),(o=new u(p,m+"leave",l,n,a)).target=d,o.relatedTarget=f,p=null,ba(a)===r&&((u=new u(h,m+"enter",c,n,a)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Gr(f))m++;for(f=0,p=h;p;p=Gr(p))f++;for(;0<m-f;)u=Gr(u),m--;for(;0<f-m;)h=Gr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Yr(s,o,l,u,!1),null!==c&&null!==d&&Yr(s,d,c,u,!0)}if("select"===(l=(o=r?ka(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(qn(o))if(Xn)g=sr;else{g=ar;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(s,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?ka(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(s,n,a)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,a),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=v))}Ur(s,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ae(e,n))&&r.unshift(Qr(e,i,a)),null!=(i=Ae(e,t))&&r.push(Qr(e,i,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ae(n,i))&&s.unshift(Qr(n,l,o)):a||null!=(l=Ae(n,i))&&s.push(Qr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function ea(){}var ta=null,na=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aa="function"===typeof setTimeout?setTimeout:void 0,ia="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(la)}:aa;function la(e){setTimeout((function(){throw e}))}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ha=Math.random().toString(36).slice(2),fa="__reactFiber$"+ha,ma="__reactProps$"+ha,pa="__reactContainer$"+ha,ga="__reactEvents$"+ha,ya="__reactListeners$"+ha,va="__reactHandles$"+ha;function ba(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[fa])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ka(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Sa(e){return e[ma]||null}var Na=[],Ea=-1;function Ca(e){return{current:e}}function Ta(e){0>Ea||(e.current=Na[Ea],Na[Ea]=null,Ea--)}function _a(e,t){Ea++,Na[Ea]=e.current,e.current=t}var ja={},Ia=Ca(ja),Da=Ca(!1),Aa=ja;function Ra(e,t){var n=e.type.contextTypes;if(!n)return ja;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Ta(Da),Ta(Ia)}function La(e,t,n){if(Ia.current!==ja)throw Error(i(168));_a(Ia,t),_a(Da,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return O({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ja,Aa=Ia.current,_a(Ia,e),_a(Da,Da.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ta(Da),Ta(Ia),_a(Ia,e)):Ta(Da),_a(Da,n)}var Va=null,Ba=!1,za=!1;function Ha(e){null===Va?Va=[e]:Va.push(e)}function qa(){if(!za&&null!==Va){za=!0;var e=0,t=bt;try{var n=Va;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Va=null,Ba=!1}catch(a){throw null!==Va&&(Va=Va.slice(e+1)),Ke(Ze,qa),a}finally{bt=t,za=!1}}return null}var Wa=[],Qa=0,Ka=null,Ga=0,Ya=[],$a=0,Xa=null,Ja=1,Za="";function ei(e,t){Wa[Qa++]=Ga,Wa[Qa++]=Ka,Ka=e,Ga=t}function ti(e,t,n){Ya[$a++]=Ja,Ya[$a++]=Za,Ya[$a++]=Xa,Xa=e;var r=Ja;e=Za;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ja=1<<32-st(t)+a|n<<a|r,Za=i+e}else Ja=1<<i|n<<a|r,Za=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Ka;)Ka=Wa[--Qa],Wa[Qa]=null,Ga=Wa[--Qa],Wa[Qa]=null;for(;e===Xa;)Xa=Ya[--$a],Ya[$a]=null,Za=Ya[--$a],Ya[$a]=null,Ja=Ya[--$a],Ya[$a]=null}var ai=null,ii=null,si=!1,oi=null;function li(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ai=e,ii=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ai=e,ii=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Ja,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ai=e,ii=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function di(e){if(si){var t=ii;if(t){var n=t;if(!ci(e,t)){if(ui(e))throw Error(i(418));t=ua(n.nextSibling);var r=ai;t&&ci(e,t)?li(r,n):(e.flags=-4097&e.flags|2,si=!1,ai=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ai=e}}}function hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ai=e}function fi(e){if(e!==ai)return!1;if(!si)return hi(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ii)){if(ui(e))throw mi(),Error(i(418));for(;t;)li(e,t),t=ua(t.nextSibling)}if(hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ii=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ii=null}}else ii=ai?ua(e.stateNode.nextSibling):null;return!0}function mi(){for(var e=ii;e;)e=ua(e.nextSibling)}function pi(){ii=ai=null,si=!1}function gi(e){null===oi?oi=[e]:oi.push(e)}var yi=x.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&xi(i)===t.type)?((r=a(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case k:return(t=Vc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Oc(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case A:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);bi(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);bi(t,r)}return null}function p(a,i,o,l){for(var c=null,u=null,d=i,p=i=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=f(a,d,o[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=s(y,i,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===o.length)return n(a,d),si&&ei(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(i=s(d,i,p),null===u?c=d:u.sibling=d,u=d);return si&&ei(a,p),c}for(d=r(a,d);p<o.length;p++)null!==(g=m(d,a,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),si&&ei(a,p),c}function g(a,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,p=o,g=o=0,y=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var b=f(a,p,v.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(a,p),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,p=y}if(v.done)return n(a,p),si&&ei(a,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return si&&ei(a,g),u}for(p=r(a,p);!v.done;g++,v=l.next())null!==(v=m(p,a,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(a,e)})),si&&ei(a,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(i=a(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&xi(c)===u.type){n(r,u.sibling),(i=a(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((i=Oc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return o(r);case k:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Vc(s,r.mode,l)).return=r,r=i}return o(r);case A:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return p(r,i,s,l);if(M(s))return g(r,i,s,l);bi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Uc(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var ki=wi(!0),Si=wi(!1),Ni=Ca(null),Ei=null,Ci=null,Ti=null;function _i(){Ti=Ci=Ei=null}function ji(e){var t=Ni.current;Ta(Ni),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Di(e,t){Ei=e,Ti=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ei)throw Error(i(308));Ci=e,Ei.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Ri=null;function Pi(e){null===Ri?Ri=[e]:Ri.push(e)}function Mi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Pi(t)):(n.next=a.next,a.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Li(e,n)}return null===(a=r.interleaved)?(t.next=t,Pi(r)):(t.next=a.next,a.next=t),r.interleaved=t,Li(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=O({},d,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Qi={},Ki=Ca(Qi),Gi=Ca(Qi),Yi=Ca(Qi);function $i(e){if(e===Qi)throw Error(i(174));return e}function Xi(e,t){switch(_a(Yi,t),_a(Gi,e),_a(Ki,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(Ki),_a(Ki,t)}function Ji(){Ta(Ki),Ta(Gi),Ta(Yi)}function Zi(e){$i(Yi.current);var t=$i(Ki.current),n=le(t,e.type);t!==n&&(_a(Gi,e),_a(Ki,n))}function es(e){Gi.current===e&&(Ta(Ki),Ta(Gi))}var ts=Ca(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function as(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var is=x.ReactCurrentDispatcher,ss=x.ReactCurrentBatchConfig,os=0,ls=null,cs=null,us=null,ds=!1,hs=!1,fs=0,ms=0;function ps(){throw Error(i(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ys(e,t,n,r,a,s){if(os=s,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?eo:to,e=n(r,a),hs){s=0;do{if(hs=!1,fs=0,25<=s)throw Error(i(301));s+=1,us=cs=null,t.updateQueue=null,is.current=no,e=n(r,a)}while(hs)}if(is.current=Zs,t=null!==cs&&null!==cs.next,os=0,us=cs=ls=null,ds=!1,t)throw Error(i(300));return e}function vs(){var e=0!==fs;return fs=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function xs(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=xs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=cs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((os&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ls.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ls.lanes|=s,Fl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=xs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(wo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function Es(e,t){var n=ls,r=xs(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,wo=!0),r=r.queue,Os(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,As(9,Ts.bind(null,n,r,a,t),void 0,null),null===Dl)throw Error(i(349));0!==(30&os)||Cs(n,t,a)}return a}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Is(e)}function _s(e,t,n){return n((function(){js(t)&&Is(e)}))}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Is(e){var t=Li(e,1);null!==t&&ac(t,e,1,-1)}function Ds(e){var t=bs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,ls,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return xs().memoizedState}function Ps(e,t,n,r){var a=bs();ls.flags|=e,a.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var a=xs();r=void 0===r?null:r;var i=void 0;if(null!==cs){var s=cs.memoizedState;if(i=s.destroy,null!==r&&gs(r,s.deps))return void(a.memoizedState=As(t,n,i,r))}ls.flags|=e,a.memoizedState=As(1|t,n,i,r)}function Ls(e,t){return Ps(8390656,8,e,t)}function Os(e,t){return Ms(2048,8,e,t)}function Fs(e,t){return Ms(4,2,e,t)}function Us(e,t){return Ms(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4,4,Vs.bind(null,t,e),n)}function zs(){}function Hs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&os)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ls.lanes|=n,Fl|=n,e.baseState=!0),t)}function Qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ss.transition;ss.transition={};try{e(!1),t()}finally{bt=n,ss.transition=r}}function Ks(){return xs().memoizedState}function Gs(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Xs(t,n);else if(null!==(n=Mi(e,t,n,r))){ac(n,e,r,nc()),Js(n,t,r)}}function Ys(e,t,n){var r=rc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Xs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Pi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Mi(e,t,a,r))&&(ac(n,e,r,a=nc()),Js(n,t,r))}}function $s(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function Xs(e,t){hs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zs={readContext:Ai,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},eo={readContext:Ai,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:Ds,useDebugValue:zs,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=Qs.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,a=bs();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Dl)throw Error(i(349));0!==(30&os)||Cs(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ls(_s.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bs(),t=Dl.identifierPrefix;if(si){var n=Za;t=":"+t+"R"+(n=(Ja&~(1<<32-st(Ja)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:Ai,useCallback:Hs,useContext:Ai,useEffect:Os,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:ks,useRef:Rs,useState:function(){return ks(ws)},useDebugValue:zs,useDeferredValue:function(e){return Ws(xs(),cs.memoizedState,e)},useTransition:function(){return[ks(ws)[0],xs().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Es,useId:Ks,unstable_isNewReconciler:!1},no={readContext:Ai,useCallback:Hs,useContext:Ai,useEffect:Os,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:Ss,useRef:Rs,useState:function(){return Ss(ws)},useDebugValue:zs,useDeferredValue:function(e){var t=xs();return null===cs?t.memoizedState=e:Ws(t,cs.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],xs().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Es,useId:Ks,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),i=Vi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,a))&&(ac(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),i=Vi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,a))&&(ac(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),a=Vi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bi(e,a,r))&&(ac(t,e,r,n),zi(t,e,r))}};function so(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function oo(e,t,n){var r=!1,a=ja,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Pa(t)?Aa:Ia.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):ja),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Pa(t)?Aa:Ia.current,a.context=Ra(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ao(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&io.enqueueReplaceState(a,a.state,null),qi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Vi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Kl=r),fo(0,t)},n}function go(e,t,n){(n=Vi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xo=x.ReactCurrentOwner,wo=!1;function ko(e,t,n,r){t.child=null===e?Si(t,null,n,r):ki(t,e.child,n,r)}function So(e,t,n,r,a){n=n.render;var i=t.ref;return Di(t,a),r=ys(e,t,n,r,i,a),n=vs(),null===e||wo?(si&&n&&ni(t),t.flags|=1,ko(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qo(e,t,a))}function No(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Eo(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Qo(e,t,a)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Qo(e,t,a);0!==(131072&e.flags)&&(wo=!0)}}return _o(e,t,n,r,a)}function Co(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Ml,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Ml,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_a(Ml,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_a(Ml,Pl),Pl|=r;return ko(e,t,a,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,a){var i=Pa(n)?Aa:Ia.current;return i=Ra(t,i),Di(t,a),n=ys(e,t,n,r,i,a),r=vs(),null===e||wo?(si&&r&&ni(t),t.flags|=1,ko(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qo(e,t,a))}function jo(e,t,n,r,a){if(Pa(n)){var i=!0;Fa(t)}else i=!1;if(Di(t,a),null===t.stateNode)Wo(e,t),oo(t,n,r),co(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Ra(t,c=Pa(n)?Aa:Ia.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&lo(t,s,r,c),Oi=!1;var h=t.memoizedState;s.state=h,qi(t,r,s,a),l=t.memoizedState,o!==r||h!==l||Da.current||Oi?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Oi||so(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ui(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Ra(t,l=Pa(n)?Aa:Ia.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&lo(t,s,r,l),Oi=!1,h=t.memoizedState,s.state=h,qi(t,r,s,a);var m=t.memoizedState;o!==d||h!==m||Da.current||Oi?("function"===typeof f&&(ao(t,n,f,r),m=t.memoizedState),(c=Oi||so(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,i,a)}function Io(e,t,n,r,a,i){To(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ua(t,n,!1),Qo(e,t,i);r=t.stateNode,xo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,o,i)):ko(e,t,o,i),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Xi(e,t.containerInfo)}function Ao(e,t,n,r,a){return pi(),gi(a),t.flags|=256,ko(e,t,n,r),t.child}var Ro,Po,Mo,Lo,Oo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,a=t.pendingProps,s=ts.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_a(ts,1&s),null===e)return di(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,a,0,null),e=Oc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Oo,e):Vo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=ho(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(s=Oc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&ki(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=ho(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Dl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Li(e,a),ac(r,e,a,-1))}return yc(),Bo(e,t,o,r=ho(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ii=ua(a.nextSibling),ai=t,si=!0,oi=null,null!==e&&(Ya[$a++]=Ja,Ya[$a++]=Za,Ya[$a++]=Xa,Ja=e.id,Za=e.overflow,Xa=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Mc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Mc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Vo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&gi(r),ki(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Ho(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ko(e,t,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(ts,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ho(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ns(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ho(t,!0,n,null,i);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Pa(t.type)&&Ma(),Go(t),null;case 3:return r=t.stateNode,Ji(),Ta(Da),Ta(Ia),as(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oi&&(lc(oi),oi=null))),Po(e,t),Go(t),null;case 5:es(t);var a=$i(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=$i(Ki.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fa]=t,r[ma]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Vr(Mr[a],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ae(r,s),Vr("invalid",r)}for(var l in ve(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":Q(r),Z(r,s,!0);break;case"textarea":Q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ea)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ma]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),a=r;break;case"iframe":case"object":case"embed":Vr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Vr(Mr[a],e);a=r;break;case"source":Vr("error",e),a=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),a=r;break;case"details":Vr("toggle",e),a=r;break;case"input":$(e,r),a=Y(e,r),Vr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=O({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Vr("invalid",e)}for(s in ve(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Vr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=$i(Yi.current),$i(Ki.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(s=r.nodeValue!==n)&&null!==(e=ai))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Go(t),null;case 13:if(Ta(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ii&&0!==(1&t.mode)&&0===(128&t.flags))mi(),pi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fa]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==oi&&(lc(oi),oi=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===Ll&&(Ll=3):yc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Ji(),Po(e,t),null===e&&Hr(t.stateNode.containerInfo),Go(t),null;case 10:return ji(t.type._context),Go(t),null;case 19:if(Ta(ts),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ko(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ns(e))){for(t.flags|=128,Ko(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!si)return Go(t),null}else 2*Xe()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ts.current,_a(ts,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $o(e,t){switch(ri(t),t.tag){case 1:return Pa(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Ta(Da),Ta(Ia),as(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Ta(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(ts),null;case 4:return Ji(),null;case 10:return ji(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Mo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,$i(Ki.current);var i,s=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=O({},a,{value:void 0}),r=O({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=ea)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Jo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var rl=!1;function al(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&nl(t,n,i)}a=a.next}while(a!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ma],delete t[ga],delete t[ya],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ea));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Jo||tl(n,t);case 6:var r=hl,a=fl;hl=null,ml(e,t,n),fl=a,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),zt(e)):ca(hl,n.stateNode));break;case 4:r=hl,a=fl,hl=n.stateNode.containerInfo,fl=!0,ml(e,t,n),hl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&nl(n,t,s),a=a.next}while(a!==r)}ml(e,t,n);break;case 1:if(!Jo&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,ml(e,t,n),Jo=r):ml(e,t,n);break;default:ml(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(i(160));pl(s,o,a),hl=null,fl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Cc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),bl(e),4&r){try{al(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{al(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(a,s),be(l,o);var u=be(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":J(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(a,!!s.multiple,m,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ma]=s}catch(g){Cc(e,e.return,g)}}break;case 6:if(yl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Cc(e,e.return,g)}}break;case 3:if(yl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:yl(t,e),bl(e);break;case 13:yl(t,e),bl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=Xe())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||d,yl(t,e),Jo=u):yl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(m=(f=el).child,f.tag){case 0:case 11:case 14:case 15:al(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==m?(m.return=f,el=m):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),dl(e,cl(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,cl(e),s);break;default:throw Error(i(161))}}catch(wa){Cc(e,e.return,wa)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var a=el,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Xo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Xo;var c=Jo;if(Xo=s,(Jo=l)&&!c)for(el=a;null!==el;)l=(s=el).child,22===s.tag&&null!==s.memoizedState?Nl(a):null!==l?(l.return=s,el=l):Nl(a);for(;null!==i;)el=i,wl(i,t,n),i=i.sibling;el=a,Xo=o,Jo=c}kl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,el=i):kl(e)}}function kl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&sl(t)}catch(Jh){Cc(t,t.return,Jh)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function Nl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(wa){Cc(t,n,wa)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(wa){Cc(t,a,wa)}}var i=t.return;try{sl(t)}catch(wa){Cc(t,i,wa)}break;case 5:var s=t.return;try{sl(t)}catch(wa){Cc(t,s,wa)}}}catch(wa){Cc(t,t.return,wa)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var El,Cl=Math.ceil,Tl=x.ReactCurrentDispatcher,_l=x.ReactCurrentOwner,jl=x.ReactCurrentBatchConfig,Il=0,Dl=null,Al=null,Rl=0,Pl=0,Ml=Ca(0),Ll=0,Ol=null,Fl=0,Ul=0,Vl=0,Bl=null,zl=null,Hl=0,ql=1/0,Wl=null,Ql=!1,Kl=null,Gl=null,Yl=!1,$l=null,Xl=0,Jl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Il)?Xe():-1!==ec?ec:ec=Xe()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==yi.transition?(0===tc&&(tc=pt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ac(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(i(185));yt(e,n,r),0!==(2&Il)&&e===Dl||(e===Dl&&(0===(2&Il)&&(Ul|=n),4===Ll&&cc(e,Rl)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=Xe()+500,Ba&&qa()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Dl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ba=!0,Ha(e)}(uc.bind(null,e)):Ha(uc.bind(null,e)),oa((function(){0===(6&Il)&&qa()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(ec=-1,tc=0,0!==(6&Il))throw Error(i(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=ht(e,e===Dl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Il;Il|=2;var s=gc();for(Dl===e&&Rl===t||(Wl=null,ql=Xe()+500,mc(e,t));;)try{xc();break}catch(l){pc(e,l)}_i(),Tl.current=s,Il=a,null!==Al?t=0:(Dl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Ol,mc(e,0),cc(e,r),ic(e,Xe()),n;if(6===t)cc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(s=mt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ol,mc(e,0),cc(e,r),ic(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Sc(e,zl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Hl+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aa(Sc.bind(null,e,zl,Wl),t);break}Sc(e,zl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=aa(Sc.bind(null,e,zl,Wl),r);break}Sc(e,zl,Wl);break;default:throw Error(i(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&lc(t)),e}function lc(e){null===zl?zl=e:zl.push.apply(zl,e)}function cc(e,t){for(t&=~Vl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Il))throw Error(i(327));Nc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,mc(e,0),cc(e,t),ic(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Wl),ic(e,Xe()),null}function dc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=Xe()+500,Ba&&qa())}}function hc(e){null!==$l&&0===$l.tag&&0===(6&Il)&&Nc();var t=Il;Il|=1;var n=jl.transition,r=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=r,jl.transition=n,0===(6&(Il=t))&&qa()}}function fc(){Pl=Ml.current,Ta(Ml)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ia(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ri(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:Ji(),Ta(Da),Ta(Ia),as();break;case 5:es(r);break;case 4:Ji();break;case 13:case 19:Ta(ts);break;case 10:ji(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Dl=e,Al=e=Mc(e.current,null),Rl=Pl=t,Ll=0,Ol=null,Vl=Ul=Fl=0,zl=Bl=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ri=null}return e}function pc(e,t){for(;;){var n=Al;try{if(_i(),is.current=Zs,ds){for(var r=ls.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ds=!1}if(os=0,us=cs=ls=null,hs=!1,fs=0,_l.current=null,null===n||null===n.return){Ll=1,Ol=t,Al=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vo(o);if(null!==m){m.flags&=-257,bo(m,o,l,0,t),1&m.mode&&yo(s,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){yo(s,u,t),yc();break e}c=Error(i(426))}else if(si&&1&l.mode){var y=vo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bo(y,o,l,0,t),gi(uo(c,l));break e}}s=c=uo(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[s]:Bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Hi(s,po(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Hi(s,go(s,l,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function gc(){var e=Tl.current;return Tl.current=Zs,null===e?Zs:e}function yc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Dl||0===(268435455&Fl)&&0===(268435455&Ul)||cc(Dl,Rl)}function vc(e,t){var n=Il;Il|=2;var r=gc();for(Dl===e&&Rl===t||(Wl=null,mc(e,t));;)try{bc();break}catch(a){pc(e,a)}if(_i(),Il=n,Tl.current=r,null!==Al)throw Error(i(261));return Dl=null,Rl=0,Ll}function bc(){for(;null!==Al;)wc(Al)}function xc(){for(;null!==Al&&!Ye();)wc(Al)}function wc(e){var t=El(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?kc(e):Al=t,_l.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Pl)))return void(Al=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=bt,a=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,r){do{Nc()}while(null!==$l);if(0!==(6&Il))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Dl&&(Al=Dl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Dc(tt,(function(){return Nc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=jl.transition,jl.transition=null;var o=bt;bt=1;var l=Il;Il|=4,_l.current=null,function(e,t){if(ta=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Fr){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(na={focusedElem:e,selectionRange:n},qt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ro(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(Fr){Cc(t,t.return,Fr)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}p=rl,rl=!1}(e,n),vl(n,e),mr(na),qt=!!ta,na=ta=null,e.current=n,xl(n,e,a),$e(),Il=l,bt=o,jl.transition=s}else e.current=n;if(Yl&&(Yl=!1,$l=e,Xl=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ql)throw Ql=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Nc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,qa()}(e,t,n,r)}finally{jl.transition=a,bt=r}return null}function Nc(){if(null!==$l){var e=xt(Xl),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Xl=0,0!==(6&Il))throw Error(i(331));var a=Il;for(Il|=4,el=e.current;null!==el;){var s=el,o=s.child;if(0!==(16&el.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:al(8,d,s)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,m=d.return;if(ol(d),d===u){el=null;break}if(null!==f){f.return=m,el=f;break}el=m}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}el=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,el=o;else e:for(;null!==el;){if(0!==(2048&(s=el).flags))switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,el=v;break e}el=s.return}}var b=e.current;for(el=b;null!==el;){var x=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,el=x;else e:for(o=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(k){Cc(l,l.return,k)}if(l===o){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(Il=a,qa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,jl.transition=t}}return!1}function Ec(e,t,n){e=Bi(e,t=po(0,t=uo(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Bi(t,e=go(t,e=uo(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Xe()-Hl?mc(e,0):Vl|=n),ic(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Li(e,t))&&(yt(e,t,n),ic(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Dc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Oc(n.children,a,s,t);case N:o=8,a|=8;break;case E:return(e=Rc(12,n,t,2|a)).elementType=E,e.lanes=s,e;case j:return(e=Rc(13,n,t,a)).elementType=j,e.lanes=s,e;case I:return(e=Rc(19,n,t,a)).elementType=I,e.lanes=s,e;case R:return Fc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case _:o=11;break e;case D:o=14;break e;case A:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,i,s,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function Hc(e){if(!e)return ja;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Oa(e,n,t)}return t}function qc(e,t,n,r,a,i,s,o,l){return(e=zc(n,r,!0,e,0,i,0,o,l)).context=Hc(null),n=e.current,(i=Vi(r=nc(),a=rc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,a),e.current.lanes=a,yt(e,a,r),ic(e,r),e}function Wc(e,t,n,r){var a=t.current,i=nc(),s=rc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(a,t,s))&&(ac(e,a,s,i),zi(e,a,s)),s}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Da.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),pi();break;case 5:Zi(t);break;case 1:Pa(t.type)&&Fa(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(Ni,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(_a(ts,1&ts.current),null!==(e=Qo(e,t,n))?e.sibling:null);_a(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return Qo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,si&&0!==(1048576&t.flags)&&ti(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Ra(t,Ia.current);Di(t,n),a=ys(null,t,r,e,a,n);var s=vs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(s=!0,Fa(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fi(t),a.updater=io,t.stateNode=a,a._reactInternals=t,co(t,r,e,n),t=Io(null,t,r,!0,s,n)):(t.tag=0,si&&s&&ni(t),ko(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=ro(r,e),a){case 0:t=_o(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=So(null,t,r,e,n);break e;case 14:t=No(null,t,r,ro(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 1:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 3:e:{if(Do(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Ui(e,t),qi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ao(e,t,r,n,a=uo(Error(i(423)),t));break e}if(r!==a){t=Ao(e,t,r,n,a=uo(Error(i(424)),t));break e}for(ii=ua(t.stateNode.containerInfo.firstChild),ai=t,si=!0,oi=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===a){t=Qo(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&di(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ra(r,a)?o=null:null!==s&&ra(r,s)&&(t.flags|=32),To(e,t),ko(e,t,o,n),t.child;case 6:return null===e&&di(t),null;case 13:return Uo(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,So(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,_a(Ni,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Da.current){t=Qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Vi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ii(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ii(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}ko(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Di(t,n),r=r(a=Ai(a)),t.flags|=1,ko(e,t,r,n),t.child;case 14:return a=ro(r=t.type,t.pendingProps),No(e,t,r,a=ro(r.type,a),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ro(r,a),Wo(e,t),t.tag=1,Pa(r)?(e=!0,Fa(t)):e=!1,Di(t,n),oo(t,r,a),co(t,r,a,n),Io(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return Co(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Qc(s);o.call(e)}}Wc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Qc(s);i.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=s,e[pa]=s.current,Hr(8===e.nodeType?e.parentNode:e),hc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Qc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[pa]=l.current,Hr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,a,r);return Qc(s)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Il)&&(ql=Xe()+500,qa()))}break;case 13:hc((function(){var t=Li(e,1);if(null!==t){var n=nc();ac(t,e,1,n)}})),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)ac(t,e,134217728,nc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=rc(e),n=Li(e,t);if(null!==n)ac(n,e,t,nc());Gc(e,t)}},Nt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Sa(r);if(!a)throw Error(i(90));K(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=dc,je=hc;var nu={usingClientEntryPoint:!1,Events:[xa,ka,Sa,Ce,Te,dc]},ru={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},au={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{at=iu.inject(au),it=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",a=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Hr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),a=n(391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const d=["sri"],h=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return E((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return k("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:S(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let m={get action(){return o},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,h),l=e,()=>{a.removeEventListener(y,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=k(m.location,e,t);n&&n(r,e),c=d()+1;let u=w(r,c),h=m.createHref(r);try{s.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}i&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let r=k(m.location,e,t);n&&n(r,e),c=d();let a=w(r,c),u=m.createHref(r);s.replaceState(a,"",u),i&&l&&l({action:o,location:m.location,delta:0})},go:e=>s.go(e)};return m}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,n,r){let a=H(("string"===typeof t?N(t):t).pathname||"/",n);if(null==a)return null;let i=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=z(a);s=U(i[o],e,r)}return s}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(b(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let o=G([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),j(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:F(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of I(e.path))a(e,t,r);else a(e,t)})),t}function I(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=I(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var D=/^:[\w-]+$/,A=3,R=2,P=1,M=10,L=-2,O=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=L),t&&(r+=R),n.filter((e=>!O(e))).reduce(((e,t)=>e+(D.test(t)?A:""===t?P:M)),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:G([i,u.pathname]),pathnameBase:Y(G([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=G([i,u.pathnameBase]))}return s}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Q(e){let t=W(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function K(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let i,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?N(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:$(r),hash:X(a)}}(r,i),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ae=r.createContext(new Map);ae.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var se=r.createContext(null);se.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var le=r.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function ue(){return null!=r.useContext(oe)}function de(){return b(ue(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(se).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(le);return e?function(){let{router:e}=Ne("useNavigate"),t=Ce("useNavigate"),n=r.useRef(!1);fe((()=>{n.current=!0}));let a=r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,he),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},a)))}),[e,t]);return a}():function(){b(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(se),{matches:a}=r.useContext(le),{pathname:i}=de(),s=JSON.stringify(Q(a)),o=r.useRef(!1);fe((()=>{o.current=!0}));let l=r.useCallback((function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,he),!o.current)return;if("number"===typeof r)return void n.go(r);let l=K(r,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:G([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[t,n,s,i,e]);return l}()}r.createContext(null);function pe(){let{matches:e}=r.useContext(le),t=e[e.length-1];return t?t.params:{}}function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(le),{pathname:a}=de(),i=JSON.stringify(Q(n));return r.useMemo((()=>K(e,JSON.parse(i),a,"path"===t)),[e,i,a,t])}function ye(e,t,n,a){b(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(se),{matches:s}=r.useContext(le),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";je(c,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=de();if(t){var p;let e="string"===typeof t?N(t):t;b("/"===d||(null===(p=e.pathname)||void 0===p?void 0:p.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let g=f.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=T(e,{pathname:y});x(h||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),x(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=ke(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:G([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:G([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,a);return t&&w?r.createElement(oe.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function ve(){let e=Te(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,o)}var be=r.createElement(ve,null),xe=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(le.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:a}=e,i=r.useContext(te);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(le.Provider,{value:t},a)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||be,s&&(o<0&&0===c?(je("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,c+1)),p=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(we,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(xe,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let t=r.useContext(te);return b(t,Se(e)),t}function Ee(e){let t=r.useContext(ne);return b(t,Se(e)),t}function Ce(e){let t=function(e){let t=r.useContext(le);return b(t,Se(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Te(){var e;let t=r.useContext(ce),n=Ee("useRouteError"),a=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var _e={};function je(e,t,n){t||_e[e]||(_e[e]=!0,x(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ye(t,void 0,r,n)}));function Ie(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:n=null,location:a,navigationType:i="POP",navigator:s,static:o=!1}=e;b(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof a&&(a=N(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=a,p=r.useMemo((()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:m},navigationType:i}}),[l,u,d,h,f,m,i]);return x(null!=p,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:r.createElement(se.Provider,{value:c},r.createElement(oe.Provider,{children:n,value:p}))}function Ae(e){let{children:t,location:n}=e;return ye(Re(t),n)}r.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Re(e.props.children,i));b(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Re(e.props.children,i)),n.push(s)})),n}var Pe="get",Me="application/x-www-form-urlencoded";function Le(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||Fe.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function Ve(e,t){let n,r,a,i,s;if(Le(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?H(s,t):null,n=e.getAttribute("method")||Pe,a=Ue(e.getAttribute("enctype"))||Me,i=new FormData(e)}else if(function(e){return Le(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Le(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?H(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Pe,a=Ue(e.getAttribute("formenctype"))||Ue(s.getAttribute("enctype"))||Me,i=new FormData(s,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Le(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,a=Me,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function He(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function We(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!He(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function Ge(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ye=new Set([100,101,204,205]);function $e(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===H(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function Xe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(Je,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Je(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=rt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?r.createElement(ut,null):null)))}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=r.useContext(te);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=r.useContext(ne);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=r.createContext(void 0);function rt(){let e=r.useContext(nt);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function st(e){let{page:t}=e,n=i(e,h),{router:a}=et(),s=r.useMemo((()=>T(a.routes,t,a.basename)),[a.routes,t,a.basename]);return s?r.createElement(lt,u({page:t,matches:s},n)):null}function ot(e){let{manifest:t,routeModules:n}=rt(),[a,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]})));return Ke(r.flat(1).filter(qe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),a}function lt(e){let{page:t,matches:n}=e,a=i(e,f),s=de(),{manifest:o,routeModules:l}=rt(),{basename:c}=et(),{loaderData:d,matches:h}=tt(),m=r.useMemo((()=>We(t,n,h,o,s,"data")),[t,n,h,o,s]),p=r.useMemo((()=>We(t,n,h,o,s,"assets")),[t,n,h,o,s]),g=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let a=o.routes[t.route.id];a&&a.hasLoader&&(!m.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let a=$e(t,c);return r&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[c,d,s,o,m,n,t,l]),y=r.useMemo((()=>Qe(p,o)),[p,o]),v=ot(p);return r.createElement(r.Fragment,null,g.map((e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},a)))),y.map((e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},a)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t},n))})))}nt.displayName="FrameworkContext";var ct=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:s,routeDiscovery:o,ssr:l}=rt(),{router:c,static:h,staticContext:f}=et(),{matches:m}=tt(),p=Ze(o,l);s&&(s.didRenderScripts=!0);let g=it(m,null,a);r.useEffect((()=>{ct=!0}),[]);let y=r.useMemo((()=>{var a;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];Be(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,d),a=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach((e=>{let n=T(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let l=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(s),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(o),type:"module",async:!0})))}),[]),v=ct?[]:(b=t.entry.imports.concat(Qe(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let x="object"===typeof t.sri?t.sri:{};return ct?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,p?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0}))),y)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.6.2")}catch(Nv){}function ft(e){let{basename:t,children:n,window:a}=e,i=r.useRef();null==i.current&&(i.current=v({window:a,v5Compat:!0}));let s=i.current,[o,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>s.listen(c)),[s,c]),r.createElement(De,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=r.forwardRef((function(e,t){let n,{onClick:a,discover:s="render",prefetch:o="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:p,preventScrollReset:g,viewTransition:y}=e,v=i(e,m),{basename:w}=r.useContext(se),k="string"===typeof p&&mt.test(p),N=!1;if("string"===typeof p&&k&&(n=p,ht))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=H(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:N=!0}catch(Nv){x(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(se),{hash:i,pathname:s,search:o}=ge(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:G([n,s])),a.createHref({pathname:l,search:o,hash:i})}(p,{relative:l}),[C,T,_]=function(e,t){let n=r.useContext(nt),[a,i]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(a){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let m=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:at(l,m),onBlur:at(c,p),onMouseEnter:at(u,m),onMouseLeave:at(d,p),onTouchStart:at(h,m)}]:[!1,f,{}]}(o,v),j=function(e){let{target:t,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=ge(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:S(c)===S(u);l(e,{replace:t,state:a,preventScrollReset:i,relative:s,viewTransition:o})}}),[c,l,u,n,a,t,e,i,s,o])}(p,{replace:d,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});let I=r.createElement("a",u(u(u({},v),_),{},{href:n||E,onClick:N||c?a:function(e){a&&a(e),e.defaultPrevented||j(e)},ref:dt(t,T),target:f,"data-discover":k||"render"!==s?void 0:"true"}));return C&&!k?r.createElement(r.Fragment,null,I,r.createElement(st,{page:E})):I}));pt.displayName="Link";var gt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,f=i(e,p),m=ge(c,{relative:f.relative}),g=de(),y=r.useContext(ne),{navigator:v,basename:x}=r.useContext(se),w=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=bt("useViewTransitionState"),i=ge(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=H(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=H(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=V(i.pathname,o)||null!=V(i.pathname,s)}(m)&&!0===d,k=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,S=g.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&x&&(N=H(N,x)||N);const E="/"!==k&&k.endsWith("/")?k.length-1:k.length;let C,T=S===k||!o&&S.startsWith(k)&&"/"===S.charAt(E),_=null!=N&&(N===k||!o&&N.startsWith(k)&&"/"===N.charAt(k.length)),j={isActive:T,isPending:_,isTransitioning:w},I=T?n:void 0;C="function"===typeof s?s(j):[s,T?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof l?l(j):l;return r.createElement(pt,u(u({},f),{},{"aria-current":I,className:C,ref:t,style:D,to:c,viewTransition:d}),"function"===typeof h?h(j):h)}));gt.displayName="NavLink";var yt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:l,state:c,method:d=Pe,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:y}=e,v=i(e,g),x=kt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(se),a=r.useContext(le);b(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s=u({},ge(e||".",{relative:t})),o=de();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:G([n,s.pathname]));return S(s)}(h,{relative:m}),k="get"===d.toLowerCase()?"get":"post",N="string"===typeof h&&mt.test(h);return r.createElement("form",u(u({ref:t,method:k,action:w,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:c,relative:m,preventScrollReset:p,viewTransition:y})}},v),{},{"data-discover":N||"render"!==n?void 0:"true"}))}));function vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(te);return b(t,vt(e)),t}yt.displayName="Form";var xt=0,wt=()=>"__".concat(String(++xt),"__");function kt(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(se),n=Ce("useRouteId");return r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Ve(r,t);if(!1===a.navigate){let t=a.fetcherKey||wt();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}const St=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(St(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const s=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new Et;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ct=function(e){return function(e){const t=St(e);return Nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tt=function(e){try{return Nt.decodeString(e,!0)}catch(Nv){console.error("base64Decode failed: ",Nv)}return null};function _t(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const jt=()=>{try{return _t().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/trainer-booking-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCrDBWI-GcPQi6gjQ_kxcau4XURzJr7XRc",REACT_APP_FIREBASE_AUTH_DOMAIN:"built-relentless.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"built-relentless",REACT_APP_FIREBASE_STORAGE_BUCKET:"built-relentless.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1095158432810",REACT_APP_FIREBASE_APP_ID:"G-55RFX43SJR"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Nv){return}const t=e&&Tt(e[1]);return t&&JSON.parse(t)})()}catch(Nv){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Nv))}},It=e=>{const t=(e=>{var t,n;return null===(n=null===(t=jt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Dt=()=>{var e;return null===(e=jt())||void 0===e?void 0:e.config};class At{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Rt(e){return e.endsWith(".cloudworkstations.dev")}async function Pt(e){return(await fetch(e,{credentials:"include"})).ok}function Mt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(i)),""].join(".")}const Lt={};let Ot=!1;function Ft(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Rt(window.location.host)||Lt[e]===t||Lt[e]||Ot)return;function n(e){return"__firebase__banner__".concat(e)}Lt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lt))Lt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ot=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}a?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Ut(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vt(){var e;const t=null===(e=jt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Nv){return!1}}function Bt(){return!Vt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zt(){try{return"object"===typeof indexedDB}catch(Nv){return!1}}class Ht extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Wt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new Ht(n,i,t)}}const Wt=/\{\$([^}]+)}/g;function Qt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Kt(n)&&Kt(i)){if(!Qt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Kt(e){return null!==e&&"object"===typeof e}function Gt(e){return e&&e._delegate?e._delegate:e}class Yt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $t="[DEFAULT]";class Xt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new At;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Nv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Nv){if(r)return null;throw Nv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$t})}catch(Nv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Nv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===$t?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;return this.component?this.component.multipleInstances?e:$t:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zt=[];var en;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(en||(en={}));const tn={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},nn=en.INFO,rn={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},an=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class sn{constructor(e){this.name=e,this._logLevel=nn,this._logHandler=an,this._userLogHandler=null,Zt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...t),this._logHandler(this,en.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...t),this._logHandler(this,en.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.INFO,...t),this._logHandler(this,en.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.WARN,...t),this._logHandler(this,en.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.ERROR,...t),this._logHandler(this,en.ERROR,...t)}}let on,ln;const cn=new WeakMap,un=new WeakMap,dn=new WeakMap,hn=new WeakMap,fn=new WeakMap;let mn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return un.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ln||(ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vn(this),n),yn(cn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yn(e.apply(vn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(vn(this),t,...r);return dn.set(i,t.sort?t.sort():[t]),yn(i)}}function gn(e){return"function"===typeof e?pn(e):(e instanceof IDBTransaction&&function(e){if(un.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));un.set(e,t)}(e),t=e,(on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,mn):e);var t}function yn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(yn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&cn.set(t,e)})).catch((()=>{})),fn.set(t,e),t}(e);if(hn.has(e))return hn.get(e);const t=gn(e);return t!==e&&(hn.set(e,t),fn.set(t,e)),t}const vn=e=>fn.get(e);const bn=["get","getKey","getAll","getAllKeys","count"],xn=["put","add","delete","clear"],wn=new Map;function kn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wn.get(t))return wn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=xn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!bn.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),a&&t.done]))[0]};return wn.set(t,i),i}mn=(e=>u(u({},e),{},{get:(t,n,r)=>kn(t,n)||e.get(t,n,r),has:(t,n)=>!!kn(t,n)||e.has(t,n)}))(mn);class Sn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Nn="@firebase/app",En="0.13.1",Cn=new sn("@firebase/app"),Tn="@firebase/app-compat",_n="@firebase/analytics-compat",jn="@firebase/analytics",In="@firebase/app-check-compat",Dn="@firebase/app-check",An="@firebase/auth",Rn="@firebase/auth-compat",Pn="@firebase/database",Mn="@firebase/data-connect",Ln="@firebase/database-compat",On="@firebase/functions",Fn="@firebase/functions-compat",Un="@firebase/installations",Vn="@firebase/installations-compat",Bn="@firebase/messaging",zn="@firebase/messaging-compat",Hn="@firebase/performance",qn="@firebase/performance-compat",Wn="@firebase/remote-config",Qn="@firebase/remote-config-compat",Kn="@firebase/storage",Gn="@firebase/storage-compat",Yn="@firebase/firestore",$n="@firebase/ai",Xn="@firebase/firestore-compat",Jn="firebase",Zn="[DEFAULT]",er={[Nn]:"fire-core",[Tn]:"fire-core-compat",[jn]:"fire-analytics",[_n]:"fire-analytics-compat",[Dn]:"fire-app-check",[In]:"fire-app-check-compat",[An]:"fire-auth",[Rn]:"fire-auth-compat",[Pn]:"fire-rtdb",[Mn]:"fire-data-connect",[Ln]:"fire-rtdb-compat",[On]:"fire-fn",[Fn]:"fire-fn-compat",[Un]:"fire-iid",[Vn]:"fire-iid-compat",[Bn]:"fire-fcm",[zn]:"fire-fcm-compat",[Hn]:"fire-perf",[qn]:"fire-perf-compat",[Wn]:"fire-rc",[Qn]:"fire-rc-compat",[Kn]:"fire-gcs",[Gn]:"fire-gcs-compat",[Yn]:"fire-fst",[Xn]:"fire-fst-compat",[$n]:"fire-vertex","fire-js":"fire-js",[Jn]:"fire-js-all"},tr=new Map,nr=new Map,rr=new Map;function ar(e,t){try{e.container.addComponent(t)}catch(Nv){Cn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Nv)}}function ir(e){const t=e.name;if(rr.has(t))return Cn.debug("There were multiple attempts to register component ".concat(t,".")),!1;rr.set(t,e);for(const n of tr.values())ar(n,e);for(const n of nr.values())ar(n,e);return!0}function sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function or(e){return null!==e&&void 0!==e&&void 0!==e.settings}const lr=new qt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const ur="11.9.0";function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Zn,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw lr.create("bad-app-name",{appName:String(a)});if(n||(n=Dt()),!n)throw lr.create("no-options");const i=tr.get(a);if(i){if(Qt(n,i.options)&&Qt(r,i.config))return i;throw lr.create("duplicate-app",{appName:a})}const s=new Jt(a);for(const l of rr.values())s.addComponent(l);const o=new cr(n,r,s);return tr.set(a,o),o}function hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;const t=tr.get(e);if(!t&&e===Zn&&Dt())return dr();if(!t)throw lr.create("no-app",{appName:e});return t}function fr(e,t,n){var r;let a=null!==(r=er[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cn.warn(e.join(" "))}ir(new Yt("".concat(a,"-version"),(()=>({library:a,version:t})),"VERSION"))}const mr="firebase-heartbeat-store";let pr=null;function gr(){return pr||(pr=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=yn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(yn(s.result),e.oldVersion,e.newVersion,yn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(mr)}catch(Nv){console.warn(Nv)}}}).catch((e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})}))),pr}async function yr(e,t){try{const n=(await gr()).transaction(mr,"readwrite"),r=n.objectStore(mr);await r.put(t,vr(e)),await n.done}catch(Nv){if(Nv instanceof Ht)Cn.warn(Nv.message);else{const t=lr.create("idb-set",{originalErrorMessage:null===Nv||void 0===Nv?void 0:Nv.message});Cn.warn(t.message)}}}function vr(e){return"".concat(e.name,"!").concat(e.options.appId)}class br{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Nv){Cn.warn(Nv)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),kr(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Ct(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(Nv){return Cn.warn(Nv),""}}}function xr(){return(new Date).toISOString().substring(0,10)}class wr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await gr()).transaction(mr),n=await t.objectStore(mr).get(vr(e));return await t.done,n}catch(Nv){if(Nv instanceof Ht)Cn.warn(Nv.message);else{const t=lr.create("idb-get",{originalErrorMessage:null===Nv||void 0===Nv?void 0:Nv.message});Cn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function kr(e){return Ct(JSON.stringify({version:2,heartbeats:e})).length}var Sr;Sr="",ir(new Yt("platform-logger",(e=>new Sn(e)),"PRIVATE")),ir(new Yt("heartbeat",(e=>new br(e)),"PRIVATE")),fr(Nn,En,Sr),fr(Nn,En,"esm2017"),fr("fire-js","");var Nr,Er,Cr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Tr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^n&(a^i))+r[0]+3614090360&4294967295;s=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(a=a.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new p(a,t)}for(a=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new p(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,i=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),p=e.i(i)>>>16,g=65535&e.i(i);n[2*a+2*i]+=f*g,m(n,2*a+2*i),n[2*a+2*i+1]+=l*g,m(n,2*a+2*i+1),n[2*a+2*i+1]+=f*p,m(n,2*a+2*i+1),n[2*a+2*i+2]+=l*p,m(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Er=Tr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),a=a.j(l).add(s(c))):a=(a=a.j(r)).add(s(c))}return a},Nr=Tr.Integer=r}).apply("undefined"!==typeof Cr?Cr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var _r,jr,Ir,Dr,Ar,Rr,Pr,Mr,Lr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Or={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Lr&&Lr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){a.setTimeout((()=>{throw e}),0)}function N(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,_=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=a.Promise.resolve(void 0);T=()=>{e.then(D)}};var D=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){S(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,R);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var O="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}B.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=H(e,t,r,a);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function Q(e,t,n,r,a){if(r&&r.once)return G(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,a);return null}return n=te(n),e&&e[O]?e.K(t,n,s(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,a);return null}return n=te(n),e&&e[O]?e.L(t,n,s(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function Y(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,a);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[O]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,a))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,a)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[O])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var a=t;w(t=new R(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];a=ae(s,r,!0,t)&&a}if(a=ae(s=t.g=e,r,!0,t)&&a,a=ae(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ae(s=t.g=n[i],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&z(e.i,s),a=!1!==o.call(l,r)&&a}}return a&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[O]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var xe={},we=null;function ke(){return we=we||new ne}function Se(e){R.call(this,xe.La,e)}function Ne(e){const t=ke();re(t,new Se(t))}function Ee(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function Ce(e){const t=ke();re(t,new Ee(t,e))}function Te(e,t){R.call(this,xe.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Se,R),xe.STAT_EVENT="statevent",d(Ee,R),xe.Ma="timingevent",d(Te,R),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var De,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Pe,me),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},De=new Pe;var Oe={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var s=Q(n,a[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function We(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Ce(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=h||7==t||Ne(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Qt(this.g);e="";var i=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Qe(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ke(this),Qe(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==h&&(this.s=4,Ce(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Oe){this.s=4,Ce(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),an(d),d.M=!0,Ce(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Qe(this)}else Ie(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=k(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),Qe(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ne(),Ce(17)),Ke(this),this.s=2,Qe(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,s=0;s<a;s++)t.call(void 0,r[s],n&&n[s],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){kt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return kt(e),t=Ct(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new fe}function jt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let a=e;s(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(Nv){throw t.push(r+"type="+encodeURIComponent("_badmap")),Nv}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){kt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,Nt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var a=i;""!==s[r]&&(a+="="+encodeURIComponent(String(s[r]))),e.push(a)}}return this.i=e.join("&")},d(It,me),It.prototype.g=function(){return new Dt(this.l,this.j)},It.prototype.i=(pt={},function(){return pt}),d(Dt,ne),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Pt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(at)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!Ft.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Nv){}}}function qt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function $t(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(a.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),_||(T(),_=!0),j.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=a[o].g;const l=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),s=!1;else try{jt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),_||(T(),_=!0),j.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=ke(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new je;if(a.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&ot(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new It({eb:n})):new Ot(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?pe(this.o):pe(De),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,a,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Mt(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Ue(a,n,null)):Ue(a,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),$t(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,mn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Mr=Or.createWebChannelTransport=function(){return new pn},Pr=Or.getStatEventTarget=function(){return ke()},Rr=Or.Event=xe,Ar=Or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Dr=Or.ErrorCode=Ae,Re.COMPLETE="complete",Ir=Or.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,jr=Or.WebChannel=ge,Or.FetchXmlHttpFactory=It,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,_r=Or.XhrIo=Ot}).apply("undefined"!==typeof Lr?Lr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Fr="@firebase/firestore",Ur="4.7.17";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let Br="11.9.0";const zr=new sn("@firebase/firestore");function Hr(){return zr.logLevel}function qr(e){if(zr.logLevel<=en.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Kr);zr.debug("Firestore (".concat(Br,"): ").concat(e),...a)}}function Wr(e){if(zr.logLevel<=en.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Kr);zr.error("Firestore (".concat(Br,"): ").concat(e),...a)}}function Qr(e){if(zr.logLevel<=en.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Kr);zr.warn("Firestore (".concat(Br,"): ").concat(e),...a)}}function Kr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Gr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Yr(e,r,n)}function Yr(e,t,n){let r="FIRESTORE (".concat(Br,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function $r(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||Yr(t,a,r)}function Xr(e,t){return e}const Jr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zr extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ea{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ta{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class na{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vr.UNAUTHENTICATED)))}shutdown(){}}class ra{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aa{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$r(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ea,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{qr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(qr("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ea)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(qr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($r("string"==typeof t.accessToken,31837,{l:t}),new ta(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $r(null===e||"string"==typeof e,2055,{h:e}),new Vr(e)}}class ia{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sa{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ia(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class la{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$r(void 0===this.o,3512);const n=e=>{null!=e.error&&qr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,qr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{qr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):qr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oa(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?($r("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new oa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ca(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function ua(){return new TextEncoder}class da{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ca(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ha(e,t){return e<t?-1:e>t?1:0}function fa(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return ha(r,a);{const i=ua(),s=pa(i.encode(ma(e,n)),i.encode(ma(t,n)));return 0!==s?s:ha(r,a)}}n+=r>65535?2:1}return ha(e.length,t.length)}function ma(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function pa(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ha(e[n],t[n]);return ha(e.length,t.length)}function ga(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ya=-62135596800,va=1e6;class ba{static now(){return ba.fromMillis(Date.now())}static fromDate(e){return ba.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*va);return new ba(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ya)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/va}_compareTo(e){return this.seconds===e.seconds?ha(this.nanoseconds,e.nanoseconds):ha(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ya;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xa{static fromTimestamp(e){return new xa(e)}static min(){return new xa(new ba(0,0))}static max(){return new xa(new ba(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wa="__name__";class ka{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Gr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ka.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ka.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ha(e.length,t.length)}static compareSegments(e,t){const n=ka.isNumericId(e),r=ka.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ka.extractNumericId(e).compare(ka.extractNumericId(t)):fa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class Sa extends ka{construct(e,t,n){return new Sa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Zr(Jr.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter((e=>e.length>0)))}return new Sa(e)}static emptyPath(){return new Sa([])}}const Na=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ea extends ka{construct(e,t,n){return new Ea(e,t,n)}static isValidIdentifier(e){return Na.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ea.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===wa}static keyField(){return new Ea([wa])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Zr(Jr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zr(Jr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zr(Jr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new Zr(Jr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ea(t)}static emptyPath(){return new Ea([])}}class Ca{constructor(e){this.path=e}static fromPath(e){return new Ca(Sa.fromString(e))}static fromName(e){return new Ca(Sa.fromString(e).popFirst(5))}static empty(){return new Ca(Sa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ca(new Sa(e.slice()))}}const Ta=-1;class _a{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_a.UNKNOWN_ID=-1;function ja(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=xa.fromTimestamp(1e9===r?new ba(n+1,0):new ba(n,r));return new Da(a,Ca.empty(),t)}function Ia(e){return new Da(e.readTime,e.key,Ta)}class Da{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Da(xa.min(),Ca.empty(),Ta)}static max(){return new Da(xa.max(),Ca.empty(),Ta)}}function Aa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ca.comparator(e.documentKey,t.documentKey),0!==n?n:ha(e.largestBatchId,t.largestBatchId))}const Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ma(e){if(e.code!==Jr.FAILED_PRECONDITION||e.message!==Ra)throw e;qr("LocalStore","Unexpectedly lost primary lease")}class La{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new La(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof La?t:La.resolve(t)}catch(e){return La.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):La.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):La.reject(t)}static resolve(e){return new La(((t,n)=>{t(e)}))}static reject(e){return new La(((t,n)=>{n(e)}))}static waitFor(e){return new La(((t,n)=>{let r=0,a=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++a,i&&a===r&&t()}),(e=>n(e)))})),i=!0,a===r&&t()}))}static or(e){let t=La.resolve(!1);for(const n of e)t=t.next((e=>e?La.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new La(((n,r)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++s,s===a&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new La(((n,r)=>{const a=()=>{!0===e()?t().next((()=>{a()}),r):n()};a()}))}}function Oa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fa(e){return"IndexedDbTransactionError"===e.name}class Ua{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ua.le=-1;const Va=-1;function Ba(e){return null==e}function za(e){return 0===e&&1/e==-1/0}function Ha(e){return"number"==typeof e&&Number.isInteger(e)&&!za(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const qa="\x01";function Wa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ka(t)),t=Qa(e.get(n),t);return Ka(t)}function Qa(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case qa:n+="\x01\x11";break;default:n+=t}}return n}function Ka(e){return e+qa+"\x01"}const Ga="remoteDocuments",Ya="owner",$a="mutationQueues",Xa="mutations";const Ja="documentMutations",Za="remoteDocumentsV14",ei="remoteDocumentGlobal",ti="targets",ni="targetDocuments",ri="targetGlobal",ai="collectionParents",ii="clientMetadata",si="bundles",oi="namedQueries",li="indexConfiguration",ci="indexState",ui="indexEntries",di="documentOverlays",hi="globals",fi=[$a,Xa,Ja,Ga,ti,Ya,ri,ni,ii,ei,ai,si,oi],mi=[$a,Xa,Ja,Za,ti,Ya,ri,ni,ii,ei,ai,si,oi,di],pi=mi,gi=[...pi,li,ci,ui];function yi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xi{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wi(this.root,e,this.comparator,!1)}getReverseIterator(){return new wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wi(this.root,e,this.comparator,!0)}}class wi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:ki.RED,this.left=null!=r?r:ki.EMPTY,this.right=null!=a?a:ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new ki(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ki.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gr(27949);return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Gr(57766)}get value(){throw Gr(16141)}get color(){throw Gr(16727)}get left(){throw Gr(29726)}get right(){throw Gr(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ni(this.data.getIterator())}getIteratorFrom(e){return new Ni(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Si))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class Ni{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ei{constructor(e){this.fields=e,e.sort(Ea.comparator)}static empty(){return new Ei([])}unionWith(e){let t=new Si(Ea.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ci extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ci("Invalid base64 string: "+e):e}}(e);return new Ti(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ha(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const _i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(e){if($r(!!e,39018),"string"==typeof e){let t=0;const n=_i.exec(e);if($r(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ii(e.seconds),nanos:Ii(e.nanos)}}function Ii(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Di(e){return"string"==typeof e?Ti.fromBase64String(e):Ti.fromUint8Array(e)}const Ai="server_timestamp",Ri="__type__",Pi="__previous_value__",Mi="__local_write_time__";function Li(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ri])||void 0===n?void 0:n.stringValue)===Ai}function Oi(e){const t=e.mapValue.fields[Pi];return Li(t)?Oi(t):t}function Fi(e){const t=ji(e.mapValue.fields[Mi].timestampValue);return new ba(t.seconds,t.nanos)}class Ui{constructor(e,t,n,r,a,i,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Vi="(default)";class Bi{constructor(e,t){this.projectId=e,this.database=t||Vi}static empty(){return new Bi("","")}get isDefaultDatabase(){return this.database===Vi}isEqual(e){return e instanceof Bi&&e.projectId===this.projectId&&e.database===this.database}}const zi="__type__",Hi="__max__",qi={mapValue:{fields:{__type__:{stringValue:Hi}}}},Wi="__vector__",Qi="value";function Ki(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Li(e)?4:cs(e)?9007199254740991:os(e)?10:11:Gr(28295,{value:e})}function Gi(e,t){if(e===t)return!0;const n=Ki(e);if(n!==Ki(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fi(e).isEqual(Fi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ji(e.timestampValue),r=ji(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Di(e.bytesValue).isEqual(Di(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ii(e.geoPointValue.latitude)===Ii(t.geoPointValue.latitude)&&Ii(e.geoPointValue.longitude)===Ii(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ii(e.integerValue)===Ii(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ii(e.doubleValue),r=Ii(t.doubleValue);return n===r?za(n)===za(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ga(e.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yi(n)!==yi(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Gi(n[a],r[a])))return!1;return!0}(e,t);default:return Gr(52216,{left:e})}}function Yi(e,t){return void 0!==(e.values||[]).find((e=>Gi(e,t)))}function $i(e,t){if(e===t)return 0;const n=Ki(e),r=Ki(t);if(n!==r)return ha(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ha(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ii(e.integerValue||e.doubleValue),r=Ii(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xi(e.timestampValue,t.timestampValue);case 4:return Xi(Fi(e),Fi(t));case 5:return fa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Di(e),r=Di(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=ha(n[a],r[a]);if(0!==e)return e}return ha(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ha(Ii(e.latitude),Ii(t.latitude));return 0!==n?n:ha(Ii(e.longitude),Ii(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ji(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,i;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Qi])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Qi])||void 0===r?void 0:r.arrayValue,u=ha((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ji(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qi.mapValue&&t===qi.mapValue)return 0;if(e===qi.mapValue)return 1;if(t===qi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=fa(r[s],i[s]);if(0!==e)return e;const t=$i(n[r[s]],a[i[s]]);if(0!==t)return t}return ha(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Gr(23264,{Pe:n})}}function Xi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ha(e,t);const n=ji(e),r=ji(t),a=ha(n.seconds,r.seconds);return 0!==a?a:ha(n.nanos,r.nanos)}function Ji(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=$i(n[a],r[a]);if(e)return e}return ha(n.length,r.length)}function Zi(e){return es(e)}function es(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ji(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Di(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ca.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=es(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(es(e.fields[a]));return n+"}"}(e.mapValue):Gr(61005,{value:e})}function ts(e){switch(Ki(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oi(e);return t?16+ts(t):16;case 5:return 2*e.stringValue.length;case 6:return Di(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ts(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return vi(e.fields,((e,n)=>{t+=e.length+ts(n)})),t}(e.mapValue);default:throw Gr(13486,{value:e})}}function ns(e){return!!e&&"integerValue"in e}function rs(e){return!!e&&"arrayValue"in e}function as(e){return!!e&&"nullValue"in e}function is(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ss(e){return!!e&&"mapValue"in e}function os(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zi])||void 0===n?void 0:n.stringValue)===Wi}function ls(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ls(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ls(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cs(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Hi}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ss(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ls(t)}setAll(e){let t=Ea.emptyPath(),n={},r=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=ls(e):r.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());ss(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ss(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vi(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new us(ls(this.value))}}function ds(e){const t=[];return vi(e.fields,((e,n)=>{const r=new Ea([e]);if(ss(n)){const e=ds(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ei(t)}class hs{constructor(e,t,n,r,a,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new hs(e,0,xa.min(),xa.min(),xa.min(),us.empty(),0)}static newFoundDocument(e,t,n,r){return new hs(e,1,t,xa.min(),n,r,0)}static newNoDocument(e,t){return new hs(e,2,t,xa.min(),xa.min(),us.empty(),0)}static newUnknownDocument(e,t){return new hs(e,3,t,xa.min(),xa.min(),us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class fs{constructor(e,t){this.position=e,this.inclusive=t}}function ms(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(r=i.field.isKeyField()?Ca.comparator(Ca.fromName(s.referenceValue),n.key):$i(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function ps(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gi(e.position[n],t.position[n]))return!1;return!0}class gs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ys(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class vs{}class bs extends vs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ts(e,t,n):"array-contains"===t?new Ds(e,n):"in"===t?new As(e,n):"not-in"===t?new Rs(e,n):"array-contains-any"===t?new Ps(e,n):new bs(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _s(e,n):new js(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison($i(t,this.value)):null!==t&&Ki(this.value)===Ki(t)&&this.matchesComparison($i(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends vs{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xs(e,t)}matches(e){return ws(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ws(e){return"and"===e.op}function ks(e){return Ss(e)&&ws(e)}function Ss(e){for(const t of e.filters)if(t instanceof xs)return!1;return!0}function Ns(e){if(e instanceof bs)return e.field.canonicalString()+e.op.toString()+Zi(e.value);if(ks(e))return e.filters.map((e=>Ns(e))).join(",");{const t=e.filters.map((e=>Ns(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Es(e,t){return e instanceof bs?function(e,t){return t instanceof bs&&e.op===t.op&&e.field.isEqual(t.field)&&Gi(e.value,t.value)}(e,t):e instanceof xs?function(e,t){return t instanceof xs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Es(n,t.filters[r])),!0)}(e,t):void Gr(19439)}function Cs(e){return e instanceof bs?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zi(e.value))}(e):e instanceof xs?function(e){return e.op.toString()+" {"+e.getFilters().map(Cs).join(" ,")+"}"}(e):"Filter"}class Ts extends bs{constructor(e,t,n){super(e,t,n),this.key=Ca.fromName(n.referenceValue)}matches(e){const t=Ca.comparator(e.key,this.key);return this.matchesComparison(t)}}class _s extends bs{constructor(e,t){super(e,"in",t),this.keys=Is("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class js extends bs{constructor(e,t){super(e,"not-in",t),this.keys=Is("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Is(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ca.fromName(e.referenceValue)))}class Ds extends bs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rs(t)&&Yi(t.arrayValue,this.value)}}class As extends bs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yi(this.value.arrayValue,t)}}class Rs extends bs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Yi(this.value.arrayValue,t)}}class Ps extends bs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yi(this.value.arrayValue,e)))}}class Ms{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=s,this.Ie=null}}function Ls(e){return new Ms(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Os(e){const t=Xr(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ns(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ba(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Zi(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Zi(e))).join(",")),t.Ie=e}return t.Ie}function Fs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ys(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Es(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ps(e.startAt,t.startAt)&&ps(e.endAt,t.endAt)}function Us(e){return Ca.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Vs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Bs(e,t,n,r,a,i,s,o){return new Vs(e,t,n,r,a,i,s,o)}function zs(e){return new Vs(e)}function Hs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qs(e){return null!==e.collectionGroup}function Ws(e){const t=Xr(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Si(Ea.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new gs(r,n))})),e.has(Ea.keyField().canonicalString())||t.Ee.push(new gs(Ea.keyField(),n))}return t.Ee}function Qs(e){const t=Xr(e);return t.de||(t.de=Ks(t,Ws(e))),t.de}function Ks(e,t){if("F"===e.limitType)return Ls(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new gs(e.field,t)}));const n=e.endAt?new fs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fs(e.startAt.position,e.startAt.inclusive):null;return Ls(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gs(e,t,n){return new Vs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ys(e,t){return Fs(Qs(e),Qs(t))&&e.limitType===t.limitType}function $s(e){return"".concat(Os(Qs(e)),"|lt:").concat(e.limitType)}function Xs(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Cs(e))).join(", "),"]")),Ba(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Zi(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Zi(e))).join(",")),"Target(".concat(t,")")}(Qs(e)),"; limitType=").concat(e.limitType,")")}function Js(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ca.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ws(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ms(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ws(e),t))&&!(e.endAt&&!function(e,t,n){const r=ms(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ws(e),t))}(e,t)}function Zs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eo(e){return(t,n)=>{let r=!1;for(const a of Ws(e)){const e=to(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function to(e,t,n){const r=e.field.isKeyField()?Ca.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?$i(r,a):Gr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gr(19790,{direction:e.dir})}}class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vi(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return bi(this.inner)}size(){return this.innerSize}}const ro=new xi(Ca.comparator);function ao(){return ro}const io=new xi(Ca.comparator);function so(){let e=io;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function oo(e){let t=io;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function lo(){return uo()}function co(){return uo()}function uo(){return new no((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ho=new xi(Ca.comparator),fo=new Si(Ca.comparator);function mo(){let e=fo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const po=new Si(ha);function go(){return po}function yo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(t)?"-0":t}}function vo(e){return{integerValue:""+e}}function bo(e,t){return Ha(t)?vo(t):yo(e,t)}class xo{constructor(){this._=void 0}}function wo(e,t,n){return e instanceof No?function(e,t){const n={fields:{[Ri]:{stringValue:Ai},[Mi]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Li(t)&&(t=Oi(t)),t&&(n.fields[Pi]=t),{mapValue:n}}(n,t):e instanceof Eo?Co(e,t):e instanceof To?_o(e,t):function(e,t){const n=So(e,t),r=Io(n)+Io(e.Re);return ns(n)&&ns(e.Re)?vo(r):yo(e.serializer,r)}(e,t)}function ko(e,t,n){return e instanceof Eo?Co(e,t):e instanceof To?_o(e,t):n}function So(e,t){return e instanceof jo?function(e){return ns(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class No extends xo{}class Eo extends xo{constructor(e){super(),this.elements=e}}function Co(e,t){const n=Do(t);for(const r of e.elements)n.some((e=>Gi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class To extends xo{constructor(e){super(),this.elements=e}}function _o(e,t){let n=Do(t);for(const r of e.elements)n=n.filter((e=>!Gi(e,r)));return{arrayValue:{values:n}}}class jo extends xo{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Io(e){return Ii(e.integerValue||e.doubleValue)}function Do(e){return rs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ao{constructor(e,t){this.version=e,this.transformResults=t}}class Ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ro}static exists(e){return new Ro(void 0,e)}static updateTime(e){return new Ro(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Po(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mo{}function Lo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qo(e.key,Ro.none()):new Bo(e.key,e.data,Ro.none());{const n=e.data,r=us.empty();let a=new Si(Ea.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new zo(e.key,r,new Ei(a.toArray()),Ro.none())}}function Oo(e,t,n){e instanceof Bo?function(e,t,n){const r=e.value.clone(),a=qo(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zo?function(e,t,n){if(!Po(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qo(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Ho(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fo(e,t,n,r){return e instanceof Bo?function(e,t,n,r){if(!Po(e.precondition,t))return n;const a=e.value.clone(),i=Wo(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof zo?function(e,t,n,r){if(!Po(e.precondition,t))return n;const a=Wo(e.fieldTransforms,r,t),i=t.data;return i.setAll(Ho(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Po(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Uo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=So(r.transform,e||null);null!=a&&(null===n&&(n=us.empty()),n.set(r.field,a))}return n||null}function Vo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ga(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eo&&t instanceof Eo||e instanceof To&&t instanceof To?ga(e.elements,t.elements,Gi):e instanceof jo&&t instanceof jo?Gi(e.Re,t.Re):e instanceof No&&t instanceof No}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bo extends Mo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zo extends Mo{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ho(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qo(e,t,n){const r=new Map;$r(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,ko(s,o,n[a]))}return r}function Wo(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,wo(e,i,t))}return r}class Qo extends Mo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ko extends Mo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Go{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Oo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=co();return this.mutations.forEach((r=>{const a=e.get(r.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(r.key)?null:s;const o=Lo(i,s);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(xa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mo())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,((e,t)=>Vo(e,t)))&&ga(this.baseMutations,e.baseMutations,((e,t)=>Vo(e,t)))}}class Yo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$r(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=ho;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new Yo(e,t,n,r)}}class $o{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Xo{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jo,Zo;function el(e){switch(e){case Jr.OK:return Gr(64938);case Jr.CANCELLED:case Jr.UNKNOWN:case Jr.DEADLINE_EXCEEDED:case Jr.RESOURCE_EXHAUSTED:case Jr.INTERNAL:case Jr.UNAVAILABLE:case Jr.UNAUTHENTICATED:return!1;case Jr.INVALID_ARGUMENT:case Jr.NOT_FOUND:case Jr.ALREADY_EXISTS:case Jr.PERMISSION_DENIED:case Jr.FAILED_PRECONDITION:case Jr.ABORTED:case Jr.OUT_OF_RANGE:case Jr.UNIMPLEMENTED:case Jr.DATA_LOSS:return!0;default:return Gr(15467,{code:e})}}function tl(e){if(void 0===e)return Wr("GRPC error has no .code"),Jr.UNKNOWN;switch(e){case Jo.OK:return Jr.OK;case Jo.CANCELLED:return Jr.CANCELLED;case Jo.UNKNOWN:return Jr.UNKNOWN;case Jo.DEADLINE_EXCEEDED:return Jr.DEADLINE_EXCEEDED;case Jo.RESOURCE_EXHAUSTED:return Jr.RESOURCE_EXHAUSTED;case Jo.INTERNAL:return Jr.INTERNAL;case Jo.UNAVAILABLE:return Jr.UNAVAILABLE;case Jo.UNAUTHENTICATED:return Jr.UNAUTHENTICATED;case Jo.INVALID_ARGUMENT:return Jr.INVALID_ARGUMENT;case Jo.NOT_FOUND:return Jr.NOT_FOUND;case Jo.ALREADY_EXISTS:return Jr.ALREADY_EXISTS;case Jo.PERMISSION_DENIED:return Jr.PERMISSION_DENIED;case Jo.FAILED_PRECONDITION:return Jr.FAILED_PRECONDITION;case Jo.ABORTED:return Jr.ABORTED;case Jo.OUT_OF_RANGE:return Jr.OUT_OF_RANGE;case Jo.UNIMPLEMENTED:return Jr.UNIMPLEMENTED;case Jo.DATA_LOSS:return Jr.DATA_LOSS;default:return Gr(39323,{code:e})}}(Zo=Jo||(Jo={}))[Zo.OK=0]="OK",Zo[Zo.CANCELLED=1]="CANCELLED",Zo[Zo.UNKNOWN=2]="UNKNOWN",Zo[Zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zo[Zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zo[Zo.NOT_FOUND=5]="NOT_FOUND",Zo[Zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zo[Zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zo[Zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zo[Zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zo[Zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zo[Zo.ABORTED=10]="ABORTED",Zo[Zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zo[Zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zo[Zo.INTERNAL=13]="INTERNAL",Zo[Zo.UNAVAILABLE=14]="UNAVAILABLE",Zo[Zo.DATA_LOSS=15]="DATA_LOSS";let nl=null;const rl=new Nr([4294967295,4294967295],0);function al(e){const t=ua().encode(e),n=new Er;return n.update(t),new Uint8Array(n.digest())}function il(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Nr([n,r],0),new Nr([a,i],0)]}class sl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ol("Invalid padding: ".concat(t));if(n<0)throw new ol("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ol("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ol("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Nr.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Nr.fromNumber(n)));return 1===r.compare(rl)&&(r=new Nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=al(e),[n,r]=il(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new sl(a,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=al(e),[n,r]=il(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ll{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ll(xa.min(),r,new xi(ha),ao(),mo())}}class cl{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new cl(n,t,mo(),mo(),mo())}}class ul{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class dl{constructor(e,t){this.targetId=e,this.Ce=t}}class hl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ti.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fl{constructor(){this.Fe=0,this.Me=gl(),this.xe=Ti.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mo(),t=mo(),n=mo();return this.Me.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gr(38017,{changeType:a})}})),new cl(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=gl()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$r(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ml{constructor(e){this.ze=e,this.je=new Map,this.He=ao(),this.Je=pl(),this.Ye=pl(),this.Ze=new xi(ha)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Gr(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const a=r.target;if(Us(a))if(0===n){const e=new Ca(a.path);this.tt(t,e,hs.newNoDocument(e,xa.min()))}else $r(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),a=n?this.lt(n,e,r):1;if(0!==a){this.st(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==nl||nl.ht(function(e,t,n,r,a){var i,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,a))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,s;try{i=Di(n).toUint8Array()}catch(e){if(e instanceof Ci)return Qr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new sl(i,r,a)}catch(e){return Qr(e instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const a=this.ze.Pt(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const a=this._t(r);if(a){if(n.current&&Us(a.target)){const t=new Ca(a.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,hs.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=mo();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new ll(e,t,this.Ze,this.He,n);return this.He=ao(),this.Je=pl(),this.Ye=pl(),this.Ze=new xi(ha),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fl,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Si(ha),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Si(ha),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||qr("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fl),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function pl(){return new xi(Ca.comparator)}function gl(){return new xi(Ca.comparator)}const yl={asc:"ASCENDING",desc:"DESCENDING"},vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bl={and:"AND",or:"OR"};class xl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wl(e,t){return e.useProto3Json||Ba(t)?t:{value:t}}function kl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nl(e,t){return kl(e,t.toTimestamp())}function El(e){return $r(!!e,49232),xa.fromTimestamp(function(e){const t=ji(e);return new ba(t.seconds,t.nanos)}(e))}function Cl(e,t){return Tl(e,t).canonicalString()}function Tl(e,t){const n=function(e){return new Sa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function _l(e){const t=Sa.fromString(e);return $r(Gl(t),10190,{key:t.toString()}),t}function jl(e,t){return Cl(e.databaseId,t.path)}function Il(e,t){const n=_l(t);if(n.get(1)!==e.databaseId.projectId)throw new Zr(Jr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zr(Jr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ca(Pl(n))}function Dl(e,t){return Cl(e.databaseId,t)}function Al(e){const t=_l(e);return 4===t.length?Sa.emptyPath():Pl(t)}function Rl(e){return new Sa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pl(e){return $r(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ml(e,t,n){return{name:jl(e,t),fields:n.value.mapValue.fields}}function Ll(e,t){let n;if(t instanceof Bo)n={update:Ml(e,t.key,t.value)};else if(t instanceof Qo)n={delete:jl(e,t.key)};else if(t instanceof zo)n={update:Ml(e,t.key,t.data),updateMask:Kl(t.fieldMask)};else{if(!(t instanceof Ko))return Gr(16599,{ft:t.type});n={verify:jl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof No)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof To)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jo)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Gr(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gr(27497)}(e,t.precondition)),n}function Ol(e,t){return{documents:[Dl(e,t.path)]}}function Fl(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dl(e,a);const i=function(e){if(0!==e.length)return Ql(xs.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ql(e.field),direction:Bl(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=wl(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:a}}function Ul(e){let t=Al(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){$r(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Vl(e);return t instanceof xs&&ks(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new gs(Wl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ba(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new fs(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new fs(n,t)}(n.endAt)),Bs(t,a,s,i,o,"F",l,c)}function Vl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wl(e.unaryFilter.field);return bs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wl(e.unaryFilter.field);return bs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wl(e.unaryFilter.field);return bs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wl(e.unaryFilter.field);return bs.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gr(61313);default:return Gr(60726)}}(e):void 0!==e.fieldFilter?function(e){return bs.create(Wl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gr(58110);default:return Gr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xs.create(e.compositeFilter.filters.map((e=>Vl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gr(1026)}}(e.compositeFilter.op))}(e):Gr(30097,{filter:e})}function Bl(e){return yl[e]}function zl(e){return vl[e]}function Hl(e){return bl[e]}function ql(e){return{fieldPath:e.canonicalString()}}function Wl(e){return Ea.fromServerFormat(e.fieldPath)}function Ql(e){return e instanceof bs?function(e){if("=="===e.op){if(is(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NAN"}};if(as(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(is(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NAN"}};if(as(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(e.field),op:zl(e.op),value:e.value}}}(e):e instanceof xs?function(e){const t=e.getFilters().map((e=>Ql(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hl(e.op),filters:t}}}(e):Gr(54877,{filter:e})}function Kl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Gl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Yl{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xa.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xa.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ti.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $l{constructor(e){this.wt=e}}function Xl(e){const t=Ul({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gs(t,t.limit,"L"):t}class Jl{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ii(e.integerValue));else if("doubleValue"in e){const n=Ii(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),za(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=ji(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Di(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?cs(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):os(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Gr(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const a=e.fields||{};this.Mt(t,53);const i=Qi,s=(null===(r=null===(n=a[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Ii(s)),this.Nt(i,t),this.Ct(a[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Ca.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Jl.Wt=new Jl;class Zl{constructor(){this.Cn=new ec}addToCollectionParentIndex(e,t){return this.Cn.add(t),La.resolve()}getCollectionParents(e,t){return La.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return La.resolve()}deleteFieldIndex(e,t){return La.resolve()}deleteAllFieldIndexes(e){return La.resolve()}createTargetIndexes(e,t){return La.resolve()}getDocumentsMatchingTarget(e,t){return La.resolve(null)}getIndexType(e,t){return La.resolve(0)}getFieldIndexes(e,t){return La.resolve([])}getNextCollectionGroupToUpdate(e){return La.resolve(null)}getMinOffset(e,t){return La.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,t){return La.resolve(Da.min())}updateCollectionGroup(e,t,n){return La.resolve()}updateIndexEntries(e,t){return La.resolve()}}class ec{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Si(Sa.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Si(Sa.comparator)).toArray()}}new Uint8Array(0);const tc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nc=41943040;class rc{static withCacheSize(e){return new rc(e,rc.DEFAULT_COLLECTION_PERCENTILE,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}rc.DEFAULT_COLLECTION_PERCENTILE=10,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rc.DEFAULT=new rc(nc,rc.DEFAULT_COLLECTION_PERCENTILE,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rc.DISABLED=new rc(-1,0,0);class ac{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ac(0)}static lr(){return new ac(-1)}}const ic="LruGarbageCollector",sc=1048576;function oc(e,t){let[n,r]=e,[a,i]=t;const s=ha(n,a);return 0===s?ha(r,i):s}class lc{constructor(e){this.Er=e,this.buffer=new Si(oc),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();oc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){qr(ic,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fa(e)?qr(ic,"Ignoring IndexedDB error during garbage collection: ",e):await Ma(e)}await this.mr(3e5)}))}}class uc{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return La.resolve(Ua.le);const n=new lc(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qr("LruGarbageCollector","Garbage collection skipped; disabled"),La.resolve(tc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(qr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),tc):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,a,i,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(qr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Hr()<=en.DEBUG&&qr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),La.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e}))))}}function dc(e,t){return new uc(e,t)}class hc{constructor(){this.changes=new no((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?La.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fo(n.mutation,e,Ei.empty(),ba.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,mo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mo();const r=lo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=so();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=lo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,mo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let a=ao();const i=uo(),s=uo();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof zo)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Fo(s.mutation,t,s.mutation.getFieldMask(),ba.now())):i.set(t.key,Ei.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new fc(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=uo();let r=new xi(((e,t)=>e-t)),a=mo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||Ei.empty();s=a.applyToLocalView(i,s),n.set(e,s);const o=(r.get(a.batchId)||mo()).add(e);r=r.insert(a.batchId,o)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=co();l.forEach((e=>{if(!a.has(e)){const r=Lo(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return La.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ca.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):La.resolve(lo());let s=Ta,o=a;return i.next((t=>La.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?La.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,o,t,mo()))).next((e=>({batchId:s,changes:oo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ca(t)).next((e=>{let t=so();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=so();return this.indexManager.getCollectionParents(e,a).next((s=>La.forEach(s,(s=>{const o=function(e,t){return new Vs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((e=>{a.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,hs.newInvalidDocument(r)))}));let n=so();return e.forEach(((e,r)=>{const i=a.get(e);void 0!==i&&Fo(i.mutation,r,Ei.empty(),ba.now()),Js(t,r)&&(n=n.insert(e,r))})),n}))}}class pc{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return La.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:El(e.createTime)}}(t)),La.resolve()}getNamedQuery(e,t){return La.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Xl(e.bundledQuery),readTime:El(e.readTime)}}(t)),La.resolve()}}class gc{constructor(){this.overlays=new xi(Ca.comparator),this.Qr=new Map}getOverlay(e,t){return La.resolve(this.overlays.get(t))}getOverlays(e,t){const n=lo();return La.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),La.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),La.resolve()}getOverlaysForCollection(e,t,n){const r=lo(),a=t.length+1,i=new Ca(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return La.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new xi(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=lo(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=lo(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return La.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new $o(t,n));let a=this.Qr.get(t);void 0===a&&(a=mo(),this.Qr.set(t,a)),this.Qr.set(t,a.add(n.key))}}class yc{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(e){return La.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,La.resolve()}}class vc{constructor(){this.$r=new Si(bc.Ur),this.Kr=new Si(bc.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new bc(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new bc(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new Ca(new Sa([])),n=new bc(t,e),r=new bc(t,e+1),a=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),a.push(e.key)})),a}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ca(new Sa([])),n=new bc(t,e),r=new bc(t,e+1);let a=mo();return this.Kr.forEachInRange([n,r],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new bc(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class bc{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ca.comparator(e.key,t.key)||ha(e.Zr,t.Zr)}static Wr(e,t){return ha(e.Zr,t.Zr)||Ca.comparator(e.key,t.key)}}class xc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Si(bc.Ur)}checkEmpty(e){return La.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Go(a,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Xr=this.Xr.add(new bc(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return La.resolve(i)}lookupMutationBatch(e,t){return La.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),a=r<0?0:r;return La.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return La.resolve(0===this.mutationQueue.length?Va:this.nr-1)}getAllMutationBatches(e){return La.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new bc(t,0),r=new bc(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);a.push(t)})),La.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Si(ha);return t.forEach((e=>{const t=new bc(e,0),r=new bc(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),La.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;Ca.isDocumentKey(a)||(a=a.child(""));const i=new bc(new Ca(a),0);let s=new Si(ha);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Zr)),!0)}),i),La.resolve(this.ni(s))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){$r(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return La.forEach(t.mutations,(r=>{const a=new bc(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new bc(t,0),r=this.Xr.firstAfterOrEqual(n);return La.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,La.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wc{constructor(e){this.ii=e,this.docs=new xi(Ca.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return La.resolve(n?n.document.mutableCopy():hs.newInvalidDocument(t))}getEntries(e,t){let n=ao();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hs.newInvalidDocument(e))})),La.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=ao();const i=t.path,s=new Ca(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Aa(Ia(s),n)<=0||(r.has(s.key)||Js(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return La.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Gr(9500)}si(e,t){return La.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new kc(this)}getSize(e){return La.resolve(this.size)}}class kc extends hc{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),La.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Sc{constructor(e){this.persistence=e,this.oi=new no((e=>Os(e)),Fs),this.lastRemoteSnapshotVersion=xa.min(),this.highestTargetId=0,this._i=0,this.ai=new vc,this.targetCount=0,this.ui=ac.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),La.resolve()}getLastRemoteSnapshotVersion(e){return La.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return La.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),La.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),La.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ac(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,La.resolve()}updateTargetData(e,t){return this.Tr(t),La.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,La.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.oi.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.oi.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),La.waitFor(a).next((()=>r))}getTargetCount(e){return La.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return La.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),La.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((t=>{a.push(r.markPotentiallyOrphaned(e,t))})),La.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),La.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return La.resolve(n)}containsKey(e,t){return La.resolve(this.ai.containsKey(t))}}class Nc{constructor(e,t){this.ci={},this.overlays={},this.li=new Ua(0),this.hi=!1,this.hi=!0,this.Pi=new yc,this.referenceDelegate=e(this),this.Ti=new Sc(this),this.indexManager=new Zl,this.remoteDocumentCache=function(e){return new wc(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new $l(t),this.Ei=new pc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new xc(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){qr("MemoryPersistence","Starting transaction:",e);const r=new Ec(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return La.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class Ec extends Pa{constructor(e){super(),this.currentSequenceNumber=e}}class Cc{constructor(e){this.persistence=e,this.Vi=new vc,this.mi=null}static fi(e){return new Cc(e)}get gi(){if(this.mi)return this.mi;throw Gr(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),La.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),La.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),La.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return La.forEach(this.gi,(n=>{const r=Ca.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,xa.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return La.or([()=>La.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Tc{constructor(e,t){this.persistence=e,this.yi=new no((e=>Wa(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=dc(this,t)}static fi(e,t){return new Tc(e,t)}di(){}Ai(e){return La.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return La.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?La.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,a.removeEntry(r,xa.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),La.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),La.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),La.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),La.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ts(e.data.value)),t}Dr(e,t,n){return La.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return La.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _c{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=mo(),r=mo();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new _c(e,t.fromCache,n,r)}}class jc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ic{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Bt()?8:Oa(Ut())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ws(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.bs(e,t,r,n).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const n=new jc;return this.Ss(e,t,n).next((r=>{if(a.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>a.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Hr()<=en.DEBUG&&qr("QueryEngine","SDK will not create cache indexes for query:",Xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),La.resolve()):(Hr()<=en.DEBUG&&qr("QueryEngine","Query:",Xs(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Hr()<=en.DEBUG&&qr("QueryEngine","The SDK decides to create cache indexes for query:",Xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(t))):La.resolve())}ws(e,t){if(Hs(t))return La.resolve(null);let n=Qs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Gs(t,null,"F"),n=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const a=mo(...r);return this.ys.getDocuments(e,a).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.vs(t,r);return this.Cs(t,i,a,n.readTime)?this.ws(e,Gs(t,null,"F")):this.Fs(e,i,t,n)}))))})))))}bs(e,t,n,r){return Hs(t)||r.isEqual(xa.min())?La.resolve(null):this.ys.getDocuments(e,n).next((a=>{const i=this.vs(t,a);return this.Cs(t,i,n,r)?La.resolve(null):(Hr()<=en.DEBUG&&qr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xs(t)),this.Fs(e,i,t,ja(r,Ta)).next((e=>e)))}))}vs(e,t){let n=new Si(eo(e));return t.forEach(((t,r)=>{Js(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return Hr()<=en.DEBUG&&qr("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.ys.getDocumentsMatchingQuery(e,t,Da.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Dc="LocalStore";class Ac{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new xi(ha),this.Os=new no((e=>Os(e)),Fs),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mc(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function Rc(e,t,n,r){return new Ac(e,t,n,r)}async function Pc(e,t){const n=Xr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((a=>(r=a,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],i=[];let s=mo();for(const e of r){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ks:e,removedBatchIds:a,addedBatchIds:i})))}))}))}function Mc(e){const t=Xr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function Lc(e,t,n){let r=mo(),a=mo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ao();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(xa.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):qr(Dc,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{qs:r,Qs:a}}))}function Oc(e,t){const n=Xr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Va),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Fc(e,t){const n=Xr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((a=>a?(r=a,La.resolve(r)):n.Ti.allocateTargetId(e).next((a=>(r=new Yl(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function Uc(e,t,n){const r=Xr(e),a=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!Fa(e))throw e;qr(Dc,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function Vc(e,t,n){const r=Xr(e);let a=xa.min(),i=mo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Xr(e),a=r.Os.get(n);return void 0!==a?La.resolve(r.xs.get(a)):r.Ti.getTargetData(t,n)}(r,e,Qs(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?a:xa.min(),n?i:mo()))).next((e=>(Bc(r,Zs(t),e),{documents:e,$s:i})))))}function Bc(e,t,n){let r=e.Ns.get(t)||xa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class zc{constructor(){this.activeTargetIds=go()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hc{constructor(){this.xo=new zc,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qc{No(e){}shutdown(){}}const Wc="ConnectivityMonitor";class Qc{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){qr(Wc,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){qr(Wc,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kc=null;function Gc(){return null===Kc?Kc=268435456+Math.round(2147483648*Math.random()):Kc++,"0x"+Kc.toString(16)}const Yc="RestConnection",$c={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xc{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===Vi?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,a){const i=Gc(),s=this.jo(e,t.toUriEncodedString());qr(Yc,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,a);const{host:l}=new URL(s),c=Rt(l);return this.Jo(e,s,o,n,c).then((t=>(qr(Yc,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw Qr(Yc,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t}))}Yo(e,t,n,r,a,i){return this.zo(e,t,n,r,a)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Br,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=$c[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Jc{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Zc="WebChannelConnection";class eu extends Xc{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const i=Gc();return new Promise(((a,s)=>{const o=new _r;o.setWithCredentials(!0),o.listenOnce(Ir.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Dr.NO_ERROR:const t=o.getResponseJson();qr(Zc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Dr.TIMEOUT:qr(Zc,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Zr(Jr.DEADLINE_EXCEEDED,"Request time out"));break;case Dr.HTTP_ERROR:const n=o.getStatus();if(qr(Zc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jr).indexOf(t)>=0?t:Jr.UNKNOWN}(t.status);s(new Zr(e,t.message))}else s(new Zr(Jr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Zr(Jr.UNAVAILABLE,"Connection failed."));break;default:Gr(9055,{h_:e,streamId:i,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{qr(Zc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);qr(Zc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=Gc(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Mr(),s=Pr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");qr(Zc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.E_(u);let d=!1,h=!1;const f=new Jc({Zo:t=>{h?qr(Zc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(qr(Zc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),qr(Zc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,jr.EventType.OPEN,(()=>{h||(qr(Zc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),m(u,jr.EventType.CLOSE,(()=>{h||(h=!0,qr(Zc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),m(u,jr.EventType.ERROR,(t=>{h||(h=!0,Qr(Zc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Zr(Jr.UNAVAILABLE,"The operation could not be completed")))})),m(u,jr.EventType.MESSAGE,(t=>{var n;if(!h){const a=t.data[0];$r(!!a,16349);const i=a,s=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){qr(Zc,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Jo[e];if(void 0!==t)return tl(t)}(t),a=s.message;void 0===n&&(n=Jr.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),h=!0,f.u_(new Zr(n,a)),u.close()}else qr(Zc,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.c_(a)}})),m(s,Rr.STAT_EVENT,(t=>{t.stat===Ar.PROXY?qr(Zc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ar.NOPROXY&&qr(Zc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function tu(){return"undefined"!=typeof document?document:null}function nu(e){return new xl(e,!0)}class ru{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&qr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const au="PersistentStream";class iu{constructor(e,t,n,r,a,i,s,o){this.xi=e,this.S_=n,this.D_=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ru(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===Jr.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Jr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Zr(Jr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return qr(au,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(qr(au,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class su extends iu{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?($r(void 0===t||"string"==typeof t,58123),Ti.fromBase64String(t||"")):($r(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ti.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Jr.UNKNOWN:tl(e.code);return new Zr(t,e.message||"")}(s);n=new hl(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Il(e,r.document.name),i=El(r.document.updateTime),s=r.document.createTime?El(r.document.createTime):xa.min(),o=new us({mapValue:{fields:r.document.fields}}),l=hs.newFoundDocument(a,i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ul(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Il(e,r.document),i=r.readTime?El(r.readTime):xa.min(),s=hs.newNoDocument(a,i),o=r.removedTargetIds||[];n=new ul([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Il(e,r.document),i=r.removedTargetIds||[];n=new ul([],i,a,null)}else{if(!("filter"in t))return Gr(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new Xo(r,a),s=e.targetId;n=new dl(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xa.min():t.readTime?El(t.readTime):xa.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Rl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Us(r)?{documents:Ol(e,r)}:{query:Fl(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Sl(e,t.resumeToken);const r=wl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xa.min())>0){n.readTime=kl(e,t.snapshotVersion.toTimestamp());const r=wl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Rl(this.serializer),t.removeTarget=e,this.Q_(t)}}class ou extends iu{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return $r(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$r(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){$r(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?($r(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?El(e.updateTime):El(t);return n.isEqual(xa.min())&&(n=El(t)),new Ao(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=El(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Rl(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ll(this.serializer,e)))};this.Q_(t)}}class lu{}class cu extends lu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Zr(Jr.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,s]=a;return this.connection.zo(e,Tl(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zr(Jr.UNKNOWN,e.toString())}))}Yo(e,t,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Yo(e,Tl(t,n),r,s,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zr(Jr.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class uu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(Wr(t),this.ua=!1):qr("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const du="RemoteStore";class hu{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No((e=>{n.enqueueAndForget((async()=>{wu(this)&&(qr(du,"Restarting streams for network reachability change."),await async function(e){const t=Xr(e);t.da.add(4),await mu(t),t.Va.set("Unknown"),t.da.delete(4),await fu(t)}(this))}))})),this.Va=new uu(n,r)}}async function fu(e){if(wu(e))for(const t of e.Aa)await t(!0)}async function mu(e){for(const t of e.Aa)await t(!1)}function pu(e,t){const n=Xr(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),xu(n)?bu(n):Vu(n).N_()&&yu(n,t))}function gu(e,t){const n=Xr(e),r=Vu(n);n.Ea.delete(t),r.N_()&&vu(n,t),0===n.Ea.size&&(r.N_()?r.k_():wu(n)&&n.Va.set("Unknown"))}function yu(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vu(e).Z_(t)}function vu(e,t){e.ma.Ke(t),Vu(e).X_(t)}function bu(e){e.ma=new ml({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Vu(e).start(),e.Va.ca()}function xu(e){return wu(e)&&!Vu(e).O_()&&e.Ea.size>0}function wu(e){return 0===Xr(e).da.size}function ku(e){e.ma=void 0}async function Su(e){e.Va.set("Online")}async function Nu(e){e.Ea.forEach(((t,n)=>{yu(e,t)}))}async function Eu(e,t){ku(e),xu(e)?(e.Va.Pa(t),bu(e)):e.Va.set("Unknown")}async function Cu(e,t,n){if(e.Va.set("Online"),t instanceof hl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){qr(du,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tu(e,n)}else if(t instanceof ul?e.ma.Xe(t):t instanceof dl?e.ma.ot(t):e.ma.nt(t),!n.isEqual(xa.min()))try{const t=await Mc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ea.get(r);a&&e.Ea.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Ti.EMPTY_BYTE_STRING,r.snapshotVersion)),vu(e,t);const a=new Yl(r.target,t,n,r.sequenceNumber);yu(e,a)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){qr(du,"Failed to raise snapshot:",t),await Tu(e,t)}}async function Tu(e,t,n){if(!Fa(t))throw t;e.da.add(1),await mu(e),e.Va.set("Offline"),n||(n=()=>Mc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{qr(du,"Retrying IndexedDB access"),await n(),e.da.delete(1),await fu(e)}))}function _u(e,t){return t().catch((n=>Tu(e,n,t)))}async function ju(e){const t=Xr(e),n=Bu(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Va;for(;Iu(t);)try{const e=await Oc(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Du(t,e)}catch(e){await Tu(t,e)}Au(t)&&Ru(t)}function Iu(e){return wu(e)&&e.Ia.length<10}function Du(e,t){e.Ia.push(t);const n=Bu(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Au(e){return wu(e)&&!Bu(e).O_()&&e.Ia.length>0}function Ru(e){Bu(e).start()}async function Pu(e){Bu(e).ia()}async function Mu(e){const t=Bu(e);for(const n of e.Ia)t.ta(n.mutations)}async function Lu(e,t,n){const r=e.Ia.shift(),a=Yo.from(r,t,n);await _u(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await ju(e)}async function Ou(e,t){t&&Bu(e).ea&&await async function(e,t){if(function(e){return el(e)&&e!==Jr.ABORTED}(t.code)){const n=e.Ia.shift();Bu(e).L_(),await _u(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ju(e)}}(e,t),Au(e)&&Ru(e)}async function Fu(e,t){const n=Xr(e);n.asyncQueue.verifyOperationInProgress(),qr(du,"RemoteStore received new credentials");const r=wu(n);n.da.add(3),await mu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await fu(n)}async function Uu(e,t){const n=Xr(e);t?(n.da.delete(2),await fu(n)):t||(n.da.add(2),await mu(n),n.Va.set("Unknown"))}function Vu(e){return e.fa||(e.fa=function(e,t,n){const r=Xr(e);return r.oa(),new su(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Su.bind(null,e),n_:Nu.bind(null,e),i_:Eu.bind(null,e),Y_:Cu.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),xu(e)?bu(e):e.Va.set("Unknown")):(await e.fa.stop(),ku(e))}))),e.fa}function Bu(e){return e.ga||(e.ga=function(e,t,n){const r=Xr(e);return r.oa(),new ou(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Pu.bind(null,e),i_:Ou.bind(null,e),na:Mu.bind(null,e),ra:Lu.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await ju(e)):(await e.ga.stop(),e.Ia.length>0&&(qr(du,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class zu{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,s=new zu(e,t,i,r,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zr(Jr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hu(e,t){if(Wr("AsyncQueue","".concat(t,": ").concat(e)),Fa(e))return new Zr(Jr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ca.comparator(t.key,n.key):(e,t)=>Ca.comparator(e.key,t.key),this.keyedMap=so(),this.sortedSet=new xi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wu{constructor(){this.pa=new xi(Ca.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Gr(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qu{constructor(e,t,n,r,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Qu(e,t,qu.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ys(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ku{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Gu{constructor(){this.queries=Yu(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Xr(e),r=n.queries;n.queries=Yu(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Zr(Jr.ABORTED,"Firestore shutting down"))}}function Yu(){return new no((e=>$s(e)),Ys)}async function $u(e,t){const n=Xr(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.Da()&&t.va()&&(r=2):(i=new Ku,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(a,!0);break;case 1:i.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Hu(e,"Initialization of query '".concat(Xs(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&ed(n)}async function Xu(e,t){const n=Xr(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.va()?0:1:!i.Da()&&t.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ju(e,t){const n=Xr(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(a)&&(r=!0);t.ba=a}}r&&ed(n)}function Zu(e,t,n){const r=Xr(e),a=r.queries.get(t);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(t)}function ed(e){e.Ca.forEach((e=>{e.next()}))}var td,nd;(nd=td||(td={})).xa="default",nd.Cache="cache";class rd{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==td.Cache}}class ad{constructor(e){this.key=e}}class id{constructor(e){this.key=e}}class sd{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mo(),this.mutatedKeys=mo(),this.Za=eo(e),this.Xa=new qu(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Wu,r=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Js(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Xa:i,nu:n,Cs:s,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const i=e.nu.wa();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gr(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const s=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==i.length||l?{snapshot:new Qu(this.query,e.Xa,a,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Wu,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=mo(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new id(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new ad(n))})),t}au(e){this.Ha=e.$s,this.Ya=mo();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Qu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const od="SyncEngine";class ld{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cd{constructor(e){this.key=e,this.cu=!1}}class ud{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.lu={},this.hu=new no((e=>$s(e)),Ys),this.Pu=new Map,this.Tu=new Set,this.Iu=new xi(Ca.comparator),this.Eu=new Map,this.du=new vc,this.Au={},this.Ru=new Map,this.Vu=ac.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function dd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ad(e);let a;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.uu()):a=await fd(r,t,n,!0),a}async function hd(e,t){const n=Ad(e);await fd(n,t,!0,!1)}async function fd(e,t,n,r){const a=await Fc(e.localStore,Qs(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await md(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&n&&pu(e.remoteStore,a),o}async function md(e,t,n,r,a){e.fu=(t,n,r)=>async function(e,t,n,r){let a=t.view.tu(n);a.Cs&&(a=await Vc(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,a)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return Cd(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const i=await Vc(e.localStore,t,!0),s=new sd(t,i.$s),o=s.tu(i.documents),l=cl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=s.applyChanges(o,e.isPrimaryClient,l);Cd(e,n,c.ou);const u=new ld(t,n,s);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function pd(e,t,n){const r=Xr(e),a=r.hu.get(t),i=r.Pu.get(a.targetId);if(i.length>1)return r.Pu.set(a.targetId,i.filter((e=>!Ys(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Uc(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&gu(r.remoteStore,a.targetId),Nd(r,a.targetId)})).catch(Ma)):(Nd(r,a.targetId),await Uc(r.localStore,a.targetId,!0))}async function gd(e,t){const n=Xr(e),r=n.hu.get(t),a=n.Pu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gu(n.remoteStore,r.targetId))}async function yd(e,t){const n=Xr(e);try{const e=await function(e,t){const n=Xr(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const s=[];t.targetChanges.forEach(((i,o)=>{const l=a.get(o);if(!l)return;s.push(n.Ti.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ti.EMPTY_BYTE_STRING,xa.min()).withLastLimboFreeSnapshotVersion(xa.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Ti.updateTargetData(e,c))}));let o=ao(),l=mo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Lc(e,i,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(xa.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return La.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=a,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&($r(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?$r(r.cu,14607):e.removedDocuments.size>0&&($r(r.cu,42227),r.cu=!1))})),await jd(n,e,t)}catch(e){await Ma(e)}}function vd(e,t,n){const r=Xr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const a=r.view.Fa(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const n=Xr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const a of n.Sa)a.Fa(t)&&(r=!0)})),r&&ed(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bd(e,t,n){const r=Xr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),i=a&&a.key;if(i){let e=new xi(Ca.comparator);e=e.insert(i,hs.newNoDocument(i,xa.min()));const n=mo().add(i),a=new ll(xa.min(),new Map,new xi(ha),e,n);await yd(r,a),r.Iu=r.Iu.remove(i),r.Eu.delete(t),_d(r)}else await Uc(r.localStore,t,!1).then((()=>Nd(r,t,n))).catch(Ma)}async function xd(e,t){const n=Xr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Xr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let s=La.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);$r(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(n,e,t,a).next((()=>a.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=mo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Sd(n,r,null),kd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jd(n,e)}catch(e){await Ma(e)}}async function wd(e,t,n){const r=Xr(e);try{const e=await function(e,t){const n=Xr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>($r(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Sd(r,t,n),kd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jd(r,e)}catch(n){await Ma(n)}}function kd(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function Sd(e,t,n){const r=Xr(e);let a=r.Au[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Au[r.currentUser.toKey()]=a}}function Nd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||Ed(e,t)}))}function Ed(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(gu(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),_d(e))}function Cd(e,t,n){for(const r of n)r instanceof ad?(e.du.addReference(r.key,t),Td(e,r)):r instanceof id?(qr(od,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Ed(e,r.key)):Gr(19791,{pu:r})}function Td(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(qr(od,"New document in limbo: "+n),e.Tu.add(r),_d(e))}function _d(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Ca(Sa.fromString(t)),r=e.Vu.next();e.Eu.set(r,new cd(n)),e.Iu=e.Iu.insert(n,r),pu(e.remoteStore,new Yl(Qs(zs(n.path)),r,"TargetPurposeLimboResolution",Ua.le))}}async function jd(e,t,n){const r=Xr(e),a=[],i=[],s=[];r.hu.isEmpty()||(r.hu.forEach(((e,o)=>{s.push(r.fu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=_c.Rs(o.targetId,e);i.push(t)}})))})),await Promise.all(s),r.lu.Y_(a),await async function(e,t){const n=Xr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>La.forEach(t,(t=>La.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>La.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fa(e))throw e;qr(Dc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,a)}}}(r.localStore,i))}async function Id(e,t){const n=Xr(e);if(!n.currentUser.isEqual(t)){qr(od,"User change. New user:",t.toKey());const e=await Pc(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Zr(Jr.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jd(n,e.ks)}}function Dd(e,t){const n=Xr(e),r=n.Eu.get(t);if(r&&r.cu)return mo().add(r.key);{let e=mo();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Ad(e){const t=Xr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bd.bind(null,t),t.lu.Y_=Ju.bind(null,t.eventManager),t.lu.gu=Zu.bind(null,t.eventManager),t}function Rd(e){const t=Xr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wd.bind(null,t),t}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Rc(this.persistence,new Ic,e.initialUser,this.serializer)}Su(e){return new Nc(Cc.fi,this.serializer)}bu(e){return new Hc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class Md extends Pd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){$r(this.persistence.referenceDelegate instanceof Tc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new cc(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?rc.withCacheSize(this.cacheSizeBytes):rc.DEFAULT;return new Nc((e=>Tc.fi(e,t)),this.serializer)}}class Ld{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Id.bind(null,this.syncEngine),await Uu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Gu}createDatastore(e){const t=nu(e.databaseInfo.databaseId),n=function(e){return new eu(e)}(e.databaseInfo);return function(e,t,n,r){return new cu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new hu(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>vd(this.syncEngine,e,0)),Qc.C()?new Qc:new qc)}createSyncEngine(e,t){return function(e,t,n,r,a,i,s){const o=new ud(e,t,n,r,a,i);return s&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Xr(e);qr(du,"RemoteStore shutting down."),t.da.add(5),await mu(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ld.provider={build:()=>new Ld};class Od{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Fd="FirestoreClient";class Ud{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vr.UNAUTHENTICATED,this.clientId=da.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async e=>{qr(Fd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(qr(Fd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hu(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Vd(e,t){e.asyncQueue.verifyOperationInProgress(),qr(Fd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Bd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zd(e);qr(Fd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Fu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fu(t.remoteStore,n))),e._onlineComponents=t}async function zd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qr(Fd,"Using user provided OfflineComponentProvider");try{await Vd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Jr.FAILED_PRECONDITION||e.code===Jr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await Vd(e,new Pd)}}else qr(Fd,"Using default OfflineComponentProvider"),await Vd(e,new Md(void 0));return e._offlineComponents}async function Hd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qr(Fd,"Using user provided OnlineComponentProvider"),await Bd(e,e._uninitializedComponentsProvider._online)):(qr(Fd,"Using default OnlineComponentProvider"),await Bd(e,new Ld))),e._onlineComponents}function qd(e){return Hd(e).then((e=>e.syncEngine))}async function Wd(e){const t=await Hd(e),n=t.eventManager;return n.onListen=dd.bind(null,t.syncEngine),n.onUnlisten=pd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gd.bind(null,t.syncEngine),n}function Qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ea;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new Od({next:n=>{i.xu(),t.enqueueAndForget((()=>Xu(e,s))),n.fromCache&&"server"===r.source?a.reject(new Zr(Jr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),s=new rd(n,i,{includeMetadataChanges:!0,Qa:!0});return $u(e,s)}(await Wd(e),e.asyncQueue,t,n,r))),r.promise}function Kd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Gd=new Map;function Yd(e,t,n){if(!n)throw new Zr(Jr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $d(e){if(!Ca.isDocumentKey(e))throw new Zr(Jr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xd(e){if(Ca.isDocumentKey(e))throw new Zr(Jr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Gr(12329,{type:typeof e})}function Zd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zr(Jr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(e);throw new Zr(Jr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const eh="firestore.googleapis.com",th=!0;class nh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zr(Jr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eh,this.ssl=th}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:th;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=nc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<sc)throw new Zr(Jr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Zr(Jr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zr(Jr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Zr(Jr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Zr(Jr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zr(Jr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zr(Jr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new na;switch(e.type){case"firstParty":return new sa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zr(Jr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gd.get(e);t&&(qr("ComponentProvider","Removing Datastore"),Gd.delete(e),t.terminate())}(this),Promise.resolve()}}class ah{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ah(this.firestore,e,this._query)}}class ih{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ih(this.firestore,e,this._key)}}class sh extends ah{constructor(e,t,n){super(e,t,zs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ih(this.firestore,null,new Ca(e))}withConverter(e){return new sh(this.firestore,e,this._path)}}function oh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Gt(e),Yd("collection","path",t),e instanceof rh){const n=Sa.fromString(t,...r);return Xd(n),new sh(e,null,n)}{if(!(e instanceof ih||e instanceof sh))throw new Zr(Jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Sa.fromString(t,...r));return Xd(n),new sh(e.firestore,null,n)}}function lh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Gt(e),1===arguments.length&&(t=da.newId()),Yd("doc","path",t),e instanceof rh){const n=Sa.fromString(t,...r);return $d(n),new ih(e,null,new Ca(n))}{if(!(e instanceof ih||e instanceof sh))throw new Zr(Jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Sa.fromString(t,...r));return $d(n),new ih(e.firestore,e instanceof sh?e.converter:null,new Ca(n))}}const ch="AsyncQueue";class uh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ru(this,"async_queue_retry"),this.rc=()=>{const e=tu();e&&qr(ch,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=tu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=tu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new ea;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(Nv){if(!Fa(Nv))throw Nv;qr(ch,"Operation failed with retryable error: "+Nv)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,Wr("INTERNAL UNHANDLED ERROR: ",dh(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=zu.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&Gr(47125,{cc:dh(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function dh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class hh extends rh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uh(e),this._firestoreClient=void 0,await e}}}function fh(e){if(e._terminated)throw new Zr(Jr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||mh(e),e._firestoreClient}function mh(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new Ui(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kd(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Ud(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ph{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ph(Ti.fromBase64String(e))}catch(e){throw new Zr(Jr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ph(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zr(Jr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ea(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yh{constructor(e){this._methodName=e}}class vh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zr(Jr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zr(Jr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ha(this._lat,e._lat)||ha(this._long,e._long)}}class bh{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const xh=/^__.*__$/;class wh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gr(40011,{Ic:e})}}class Sh{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Sh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Lh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(kh(this.Ic)&&xh.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Nh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||nu(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sh({Ic:e,methodName:t,wc:n,path:Ea.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(e){const t=e._freezeSettings(),n=nu(e._databaseId);return new Nh(e._databaseId,!!t.ignoreUndefinedProperties,n)}class Ch extends yh{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function Th(e,t,n,r){const a=e.bc(1,t,n);Ah("Data must be an object, but it was:",a,r);const i=[],s=us.empty();vi(r,((e,r)=>{const o=Mh(t,e,n);r=Gt(r);const l=a.mc(o);if(r instanceof Ch)i.push(o);else{const e=jh(r,l);null!=e&&(i.push(o),s.set(o,e))}}));const o=new Ei(i);return new wh(s,o,a.fieldTransforms)}function _h(e,t,n,r,a,i){const s=e.bc(1,t,n),o=[Rh(t,r,n)],l=[a];if(i.length%2!=0)throw new Zr(Jr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Rh(t,i[h])),l.push(i[h+1]);const c=[],u=us.empty();for(let h=o.length-1;h>=0;--h)if(!Oh(c,o[h])){const e=o[h];let t=l[h];t=Gt(t);const n=s.mc(e);if(t instanceof Ch)c.push(e);else{const r=jh(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ei(c);return new wh(u,d,s.fieldTransforms)}function jh(e,t){if(Dh(e=Gt(e)))return Ah("Unsupported field value:",t,e),Ih(e,t);if(e instanceof yh)return function(e,t){if(!kh(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=jh(a,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ba.fromDate(e);return{timestampValue:kl(t.serializer,n)}}if(e instanceof ba){const n=new ba(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kl(t.serializer,n)}}if(e instanceof vh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ph)return{bytesValue:Sl(t.serializer,e._byteString)};if(e instanceof ih){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Cl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof bh)return function(e,t){return{mapValue:{fields:{[zi]:{stringValue:Wi},[Qi]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return yo(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Jd(e)))}(e,t)}function Ih(e,t){const n={};return bi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vi(e,((e,r)=>{const a=jh(r,t.Ac(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function Dh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ba||e instanceof vh||e instanceof ph||e instanceof ih||e instanceof yh||e instanceof bh)}function Ah(e,t,n){if(!Dh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Jd(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Rh(e,t,n){if((t=Gt(t))instanceof gh)return t._internalPath;if("string"==typeof t)return Mh(e,t);throw Lh("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ph=new RegExp("[~\\*/\\[\\]]");function Mh(e,t,n){if(t.search(Ph)>=0)throw Lh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new gh(...t.split("."))._internalPath}catch(Jh){throw Lh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Lh(e,t,n,r,a){const i=r&&!r.isEmpty(),s=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(a)),l+=")"),new Zr(Jr.INVALID_ARGUMENT,o+e+l)}function Oh(e,t){return e.some((e=>e.isEqual(t)))}class Fh{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ih(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uh extends Fh{data(){return super.data()}}function Vh(e,t){return"string"==typeof t?Mh(e,t):t instanceof gh?t._internalPath:t._delegate._internalPath}function Bh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zr(Jr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Gr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vi(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Qi].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ii(e.doubleValue)));return new bh(a)}convertGeoPoint(e){return new vh(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fi(e));default:return null}}convertTimestamp(e){const t=ji(e);return new ba(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Sa.fromString(e);$r(Gl(n),9688,{name:e});const r=new Bi(n.get(1),n.get(3)),a=new Ca(n.popFirst(5));return r.isEqual(t)||Wr("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}class Hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qh extends Fh{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wh extends qh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wh(this._firestore,this._userDataWriter,n.key,n,new Hh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zr(Jr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Wh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Hh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Wh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Kh(t.type),doc:r,oldIndex:a,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Kh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gr(61501,{type:e})}}class Gh extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new ph(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ih(this.firestore,null,t)}}function Yh(e){e=Zd(e,ah);const t=Zd(e.firestore,hh),n=fh(t),r=new Gh(t);return Bh(e._query),Qd(n,e._query).then((n=>new Qh(t,r,e,n)))}function $h(e,t,n){e=Zd(e,ih);const r=Zd(e.firestore,hh),a=Eh(r);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Gt(t))||t instanceof gh?_h(a,"updateDoc",e._key,t,n,o):Th(a,"updateDoc",e._key,t),Xh(r,[i.toMutation(e._key,Ro.exists(!0))])}function Xh(e,t){return function(e,t){const n=new ea;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Rd(e);try{const e=await function(e,t){const n=Xr(e),r=ba.now(),a=t.reduce(((e,t)=>e.add(t.key)),mo());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=ao(),l=mo();return n.Bs.getEntries(e,a).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((a=>{i=a;const s=[];for(const e of t){const t=Uo(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new zo(e.key,t,ds(t.value.mapValue),Ro.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:oo(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new xi(ha)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await jd(r,e.changes),await ju(r.remoteStore)}catch(e){const t=Hu(e,"Failed to persist write");n.reject(t)}}(await qd(e),t,n))),n.promise}(fh(e),t)}new WeakMap;function Jh(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Jh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Br=e}(ur),ir(new Yt("firestore",((e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),s=new hh(new aa(e.getProvider("auth-internal")),new la(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zr(Jr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bi(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),fr(Fr,Ur,e),fr(Fr,Ur,"esm2017")}();const Zh=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Jh(e))&&(r&&(r+=" "),r+=t);return r},ef="container mx-auto px-4",tf="flex items-center justify-center",nf="flex justify-between items-center",rf="flex items-center justify-start",af="flex flex-col",sf={x1:"space-x-1",x2:"space-x-2",x3:"space-x-3",x4:"space-x-4",x6:"space-x-6",y3:"space-y-3",y4:"space-y-4",y6:"space-y-6"},of={full:"w-full h-full",icon:"w-8 h-8",iconSm:"w-4 h-4",iconLg:"w-5 h-5",avatar:"w-12 h-12",avatarSm:"w-10 h-10",avatarLg:"w-32 h-32"},lf={sm:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"},cf="transition duration-300",uf="transition",df={responsive:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",flexResponsive:"flex flex-col md:flex-row md:space-x-6",cols2:"grid grid-cols-1 md:grid-cols-2 gap-4",cols3:"grid grid-cols-1 md:grid-cols-3 gap-6",cols4:"grid grid-cols-1 md:grid-cols-4 gap-4"},hf={base:"bg-green-600 text-white",hover:"hover:bg-green-700",dark:"bg-green-700",light:"bg-green-500",text:"text-green-600",gradient:"bg-gradient-to-r from-green-500 to-green-600",gradientDark:"bg-gradient-to-r from-green-900 to-green-600"},ff={base:"bg-blue-500 text-white",hover:"hover:bg-blue-600",dark:"bg-blue-600",light:"bg-blue-400",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900"},mf={success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},pf={bg:"dark:bg-stone-800",bgAlt:"dark:bg-black",bgInput:"dark:bg-stone-700",bgCard:"dark:bg-stone-900",bgDashboard:"dark:bg-black",bgDashboardCard:"dark:bg-zinc-900",text:"dark:text-stone-100",textAlt:"dark:text-gray-100",textMuted:"dark:text-gray-400",border:"dark:border-gray-700",borderInput:"dark:border-gray-600",hover:"dark:hover:bg-gray-700",hoverCard:"dark:hover:bg-gray-750"},gf={bg:"bg-white",bgAlt:"bg-gray-50",bgInput:"bg-gray-100",bgDashboard:"bg-gray-100",text:"text-gray-800",textMuted:"text-gray-600",textLight:"text-gray-700",border:"border-gray-300",borderInput:"border-gray-600",hover:"hover:bg-gray-50",hoverAlt:"hover:bg-gray-200"},yf={card:Zh(lf.xl,"shadow-md overflow-hidden",cf,gf.bg,pf.bgAlt,pf.textAlt),dashboardCard:Zh(lf.lg,"shadow",gf.bg,pf.bgDashboardCard,"p-6"),button:{primary:Zh(hf.base,hf.hover,"font-medium py-2 px-4",lf.lg,uf),secondary:Zh(ff.base,ff.hover,"font-medium py-2 px-4",lf.lg,uf),outline:Zh(gf.bg,gf.border,lf.sm,"px-3 py-1.5",tf,sf.x1,"text-sm",gf.hover,uf),icon:Zh("p-2",lf.full,gf.hoverAlt,pf.hover,uf),small:Zh("px-3 py-1 text-sm",lf.sm,uf)},input:Zh("w-full",gf.borderInput,gf.bgInput,pf.bgInput,pf.text,pf.borderInput,lf.sm,"px-3 py-2","border"),text:{heading:Zh("font-bold",gf.text,pf.text),subheading:Zh("font-medium",hf.text),muted:Zh("text-sm",gf.textMuted,pf.textMuted),label:Zh("block text-sm font-medium mb-1",gf.textLight,pf.text)},badge:Zh("px-2 py-1 text-xs",lf.full,"font-medium")},vf={main:Zh("min-h-screen",af,pf.bg,pf.text),container:Zh("flex-grow",ef,"py-6")},bf={container:Zh(nf,"mb-6"),h1:Zh("text-2xl md:text-2xl",yf.text.heading),button:yf.button.outline},xf={nav:Zh(hf.base,"shadow-lg"),outer:Zh(ef,"py-3",nf),inner:Zh(tf,sf.x2),button:Zh(of.icon,lf.full,hf.dark,tf,"font-bold")},wf={toggleButton:yf.button.icon,dark:"text-yellow-500",light:gf.textLight},kf={container:Zh(df.responsive,"mb-8")},Sf={container:Zh(yf.card,"trainer-card"),imageContainer:Zh("h-40",hf.gradient,tf),availabilityOuter:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",availabilityInner:Zh(tf,sf.x2),availabilityBackground:Zh(hf.light,lf.full,"w-2 h-2"),availability:"text-white text-sm",nameContainer:"justify-between items-start",name:Zh("text-lg",yf.text.heading),specialty:yf.text.subheading,location:Zh("mt-3",yf.text.muted),duration:yf.text.muted,bookContainer:Zh("mt-3",nf),priceContainer:gf.text,price:Zh("font-bold text-xl",pf.text),session:yf.text.muted,bookButton:yf.button.primary},Nf={bookingOuter:Zh(gf.bg,lf.xl,"shadow-lg p-5 mb-8",pf.bgAlt,pf.textAlt),h2:Zh("text-xl",yf.text.heading,"mb-4"),bookingInner:df.flexResponsive,session:"md:w-1/3 mb-6 md:mb-0"},Ef={outerContainer:Zh(hf.gradientDark,"text-white",lf.lg,"p-4 mb-4"),innerContainer:Zh(rf,sf.x3),initials:Zh(of.avatar,gf.bg,hf.text,lf.full,tf,"font-bold text-xl"),name:"font-bold"},Cf={container:Zh(gf.bgAlt,"text-gray-950",pf.bgCard,pf.text,lf.lg,"p-4"),h4:"font-medium mb-3",innerContainer:sf.y3,label:yf.text.label,text:yf.input},Tf={container:Zh("w-full p-4",lf.sm,gf.bg,pf.bgCard,pf.text,"shadow-md mb-5"),heading:Zh("font-medium mb-3","text-gray-900 dark:text-white"),wrapper:Zh("border border-gray-200",lf.lg),monthNav:Zh(nf,"mb-2 border border-gray-300 p-3"),navButton:Zh("text-gray-500","hover:text-gray-900 dark:hover:text-white"),monthTitle:Zh("text-gray-800 dark:text-gray-200 font-semibold"),weekdayContainer:Zh("grid grid-cols-7 gap-1 mb-1","text-center text-xs","text-gray-500 dark:text-gray-400"),dateGrid:"grid grid-cols-7 gap-1",dateCell:{base:Zh("h-8",tf,lf.sm,"text-sm",uf),selected:Zh(hf.base),available:Zh("text-gray-900 dark:text-white","cursor-pointer","hover:bg-gray-200 dark:hover:bg-gray-700"),unavailable:Zh("bg-gray-200 text-stone-400","dark:bg-stone-700 dark:text-stone-500","cursor-not-allowed")}},_f={container:Zh(pf.bgCard,pf.text,"p-4"),heading:"font-medium mb-2",dateDisplay:Zh("text-sm text-gray-400 mb-2"),emptyState:Zh("text-gray-500 text-sm italic"),grid:Zh("grid grid-cols-3 sm:grid-cols-4 gap-2 mb-4"),slotButton:{base:Zh("py-2 px-2 text-center",lf.sm,"border text-sm",uf),selected:Zh(hf.base,"border-green-600"),available:Zh("border-gray-600 text-gray-300","hover:bg-gray-100 dark:hover:bg-stone-700")},summary:{container:Zh("border-t border-gray-600 pt-4 text-sm"),text:"mb-1",label:"font-bold"}},jf=(Zh(gf.bg,lf.xl,"shadow-lg p-5 mb-8",pf.bgAlt,pf.textAlt),Zh("text-xl font-bold mb-4",gf.text,pf.textAlt),Zh("text-gray-500 text-center py-4 italic"),Zh("text-red-500 hover:text-red-700 text-sm font-medium",uf),Zh("font-semibold text-lg mb-3",hf.text),Zh("bg-gray-50 dark:bg-stone-800",lf.lg,"p-4 mb-3 last:mb-0"),Zh(nf,"items-start mb-2"),Zh("font-medium",gf.text,pf.text),Zh("text-red-500 hover:text-red-700 text-xs",uf),Zh("text-sm",gf.textMuted,pf.text),Zh("font-bold text-lg",hf.text),Zh("text-xs text-gray-500 dark:text-gray-400"),Zh("border-t pt-4 mt-4","border-gray-200 dark:border-gray-600"),Zh(nf,"mb-2 last:mb-0"),Zh("font-medium",gf.text,pf.text),Zh("font-bold",gf.text,pf.text),Zh("text-xl font-bold",hf.text),{layout:Zh("min-h-screen","border-radius: 0.5rem",gf.bgDashboard,pf.bgDashboard),mainContent:Zh("max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8"),header:{container:Zh(gf.bg,pf.bgDashboardCard,"shadow"),inner:Zh("max-w-7xl mx-auto px-2 sm:px-4 lg:px-8"),content:Zh("flex justify-between items-center","py-4 sm:py-6"),left:Zh("flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1"),avatar:Zh("w-10 h-10 sm:w-12 sm:h-12",lf.full,"object-cover flex-shrink-0"),title:Zh("text-lg sm:text-2xl font-bold truncate",gf.text,pf.text),subtitle:Zh("text-sm sm:text-base truncate",gf.textMuted,pf.textMuted),right:Zh("flex items-center space-x-2 sm:space-x-4 flex-shrink-0"),iconButton:Zh("p-2 rounded-full",gf.textMuted,pf.textMuted,"hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors"),primaryButton:Zh(yf.button.secondary,"text-sm px-3 py-2 whitespace-nowrap")},navigation:{container:Zh(gf.bg,pf.bgDashboardCard,"border-b",pf.border,"overflow-x-auto"),inner:Zh("max-w-7xl mx-auto px-2 sm:px-4 lg:px-8"),tabs:Zh("flex space-x-1 sm:space-x-2 md:space-x-8","min-w-max"),tab:{base:Zh("flex items-center space-x-1 sm:space-x-2","py-3 sm:py-4 px-2 sm:px-3 border-b-2 font-medium","text-xs sm:text-sm whitespace-nowrap",uf),active:Zh("border-blue-500 text-blue-600 dark:text-blue-400"),inactive:Zh("border-transparent",gf.textMuted,pf.textMuted,"hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300")}},stats:{grid:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",card:Zh(yf.dashboardCard,"p-3 sm:p-6","flex flex-col sm:flex-row sm:justify-between"),content:"flex-1 mb-2 sm:mb-0",label:Zh("text-xs sm:text-sm",gf.textMuted,pf.textMuted),value:Zh("text-lg sm:text-2xl font-bold",gf.text,pf.text),icon:Zh("w-6 h-6 sm:w-8 sm:h-8","flex-shrink-0 self-center")},section:{container:Zh(yf.dashboardCard,"p-3 sm:p-6"),header:Zh("flex flex-col sm:flex-row sm:justify-between sm:items-center","mb-4 space-y-2 sm:space-y-0"),title:Zh("text-base sm:text-lg font-semibold",pf.text),content:"space-y-3 sm:space-y-4",emptyState:Zh(gf.textMuted,pf.textMuted,"text-center py-6 sm:py-8 text-sm sm:text-base")},form:{group:"space-y-3 sm:space-y-4",label:Zh(yf.text.label,"text-sm"),input:Zh(yf.input,"text-sm sm:text-base, min-h-[44px]"),textarea:Zh(yf.input,"resize-none text-sm sm:text-base"),select:Zh(yf.input,"text-sm sm:text-base"),buttonGroup:Zh("flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3","mt-4 sm:mt-6"),primaryButton:Zh(yf.button.secondary,"w-full sm:w-auto text-sm sm:text-base"),secondaryButton:Zh(yf.button.small,"bg-gray-500 text-white hover:bg-gray-600","w-full sm:w-auto"),timePicker:Zh(gf.borderInput,gf.bgInput,pf.bgInput,pf.text,pf.borderInput,lf.sm,"px-2","border","min-h-[44px]")},table:{container:"overflow-x-auto -mx-3 sm:mx-0",table:"w-full border-collapse min-w-max",header:Zh("border-b",pf.border),headerCell:Zh("text-left p-2 sm:p-3 font-medium text-xs sm:text-sm",gf.textMuted,pf.textMuted),row:Zh("border-b",pf.border,"hover:bg-gray-50 dark:hover:bg-gray-700",uf),cell:Zh("p-2 sm:p-3 text-xs sm:text-sm",pf.text)},filters:{container:Zh("flex flex-wrap gap-2"),button:{base:Zh("px-3 py-1.5 text-xs sm:text-sm rounded w-20",uf),active:Zh(ff.base),inactive:Zh("bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300","hover:bg-gray-300 dark:hover:bg-gray-600")}},status:{confirmed:Zh(mf.success,"text-xs px-2 py-1"),pending:Zh(mf.warning,"text-xs px-2 py-1"),cancelled:Zh(mf.error,"text-xs px-2 py-1")},actions:{container:Zh("flex flex-wrap gap-2 mt-3"),edit:Zh("px-3 py-1.5 text-xs rounded",ff.base,ff.hover,"w-20"),delete:Zh("px-3 py-1.5 text-xs rounded","bg-red-500 text-white hover:bg-red-600","w-20"),add:Zh("px-3 py-1.5 text-xs rounded","bg-green-500 text-white hover:bg-green-600","flex items-center space-x-1","w-20")}}),If=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Df=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Af={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rf=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Pf=(0,r.forwardRef)(((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:d}=e,h=i(e,Rf);return(0,r.createElement)("svg",u(u(u({ref:t},Af),{},{width:a,height:a,stroke:n,strokeWidth:o?24*Number(s)/Number(a):s,className:Df("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(c)?c:[c]])})),Mf=["className"],Lf=(e,t)=>{const n=(0,r.forwardRef)(((n,a)=>{let{className:s}=n,o=i(n,Mf);return(0,r.createElement)(Pf,u({ref:a,iconNode:t,className:Df("lucide-".concat((l=If(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},o));var l}));return n.displayName=If(e),n},Of=Lf("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ff=Lf("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);function Uf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme"),r=e||n||"system";document.documentElement.classList.remove("light","dark","adaptive"),"dark"===r?document.documentElement.classList.add("dark"):"light"===r?document.documentElement.classList.add("light"):document.documentElement.classList.add(t?"dark":"light")}var Vf=n(579);function Bf(){const[e,t]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t(document.documentElement.classList.contains("dark"))}),[]);return(0,Vf.jsx)("button",{onClick:()=>{!function(){const e="dark"===(document.documentElement.classList.contains("dark")?"dark":"light")?"light":"dark";localStorage.setItem("theme",e),Uf(e)}(),t((e=>!e))},className:wf.toggleButton,"aria-label":"Toggle dark mode",children:e?(0,Vf.jsx)(Of,{size:20,className:wf.light}):(0,Vf.jsx)(Ff,{size:20,className:wf.dark})})}function zf(){return(0,Vf.jsx)("nav",{className:xf.nav,children:(0,Vf.jsxs)("div",{className:xf.outer,children:[(0,Vf.jsxs)("div",{className:xf.inner,children:[(0,Vf.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Vf.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),(0,Vf.jsx)("span",{className:"text-xl font-bold",children:"BUILT Relentless"})]}),(0,Vf.jsx)(Bf,{})]})})}fr("firebase","11.9.0","app");const Hf="firebasestorage.googleapis.com",qf="storageBucket";class Wf extends Ht{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Gf(e),"Firebase Storage: ".concat(t," (").concat(Gf(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Qf,Kf;function Gf(e){return"storage/"+e}function Yf(){return new Wf(Qf.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function $f(){return new Wf(Qf.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xf(){return new Wf(Qf.CANCELED,"User canceled the upload/download.")}function Jf(){return new Wf(Qf.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zf(e){return new Wf(Qf.INVALID_ARGUMENT,e)}function em(){return new Wf(Qf.APP_DELETED,"The Firebase app was deleted.")}function tm(e,t){return new Wf(Qf.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function nm(e){throw new Wf(Qf.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Qf||(Qf={}));class rm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=rm.makeFromUrl(e,t)}catch(Nv){return new rm(e,"")}if(""===n.path)return n;throw r=e,new Wf(Qf.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const a=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Hf?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let a=r[t.indices.path];a||(a=""),n=new rm(e,a),t.postModify(n);break}}if(null==n)throw function(e){return new Wf(Qf.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class am{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function im(e){return"string"===typeof e||e instanceof String}function sm(e){return om()&&e instanceof Blob}function om(){return"undefined"!==typeof Blob}function lm(e,t,n,r){if(r<t)throw Zf("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Zf("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function cm(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function um(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function dm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Kf||(Kf={}));class hm{constructor(e,t,n,r,a,i,s,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new fm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Kf.NO_ERROR,a=n.getStatus();if(!t||dm(a,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Kf.ABORT;return void e(!1,new fm(!1,null,t))}const i=-1!==this.successCodes_.indexOf(a);e(!0,new fm(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,a=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(a,a.getResponse());void 0!==e?n(e):n()}catch(Nv){r(Nv)}else if(null!==a){const e=Yf();e.serverResponse=a.getErrorText(),this.errorCallback_?r(this.errorCallback_(a,e)):r(e)}else if(t.canceled){r(this.appDelete_?em():Xf())}else{r($f())}};this.canceled_?t(0,new fm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,a=null,i=null,s=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){a=setTimeout((()=>{a=null,e(f,l())}),t)}function h(){i&&clearTimeout(i)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==a?(e||(o=2),clearTimeout(a),d(0)):e||(o=1)))}return d(0),i=setTimeout((()=>{s=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function mm(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pm(){const e=mm();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(om())return new Blob(n);throw new Wf(Qf.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function gm(e){if("undefined"===typeof atob)throw t="base-64",new Wf(Qf.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ym="raw",vm="base64",bm="base64url",xm="data_url";class wm{constructor(e,t){this.data=e,this.contentType=t||null}}function km(e,t){switch(e){case ym:return new wm(Sm(t));case vm:case bm:return new wm(Nm(e,t));case xm:return new wm(function(e){const t=new Em(e);return t.base64?Nm(vm,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Nv){throw tm(xm,"Malformed data URL.")}return Sm(t)}(t.rest)}(t),new Em(t).contentType)}throw Yf()}function Sm(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Nm(e,t){switch(e){case vm:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw tm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case bm:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw tm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gm(t)}catch(Nv){if(Nv.message.includes("polyfill"))throw Nv;throw tm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class Em{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tm(xm,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Cm{constructor(e,t){let n=0,r="";sm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(sm(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Cm(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Cm(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(om()){const e=t.map((e=>e instanceof Cm?e.data_:e));return new Cm(pm.apply(null,e))}{const e=t.map((e=>im(e)?km(ym,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let a=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[a++]=e[t]})),new Cm(r,!0)}}uploadData(){return this.data_}}function Tm(e){let t;try{t=JSON.parse(e)}catch(Nv){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function _m(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function jm(e,t){return t}class Im{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||jm}}let Dm=null;function Am(){if(Dm)return Dm;const e=[];e.push(new Im("bucket")),e.push(new Im("generation")),e.push(new Im("metageneration")),e.push(new Im("name","fullPath",!0));const t=new Im("name");t.xform=function(e,t){return function(e){return!im(e)||e.length<2?e:_m(e)}(t)},e.push(t);const n=new Im("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Im("timeCreated")),e.push(new Im("updated")),e.push(new Im("md5Hash",null,!0)),e.push(new Im("cacheControl",null,!0)),e.push(new Im("contentDisposition",null,!0)),e.push(new Im("contentEncoding",null,!0)),e.push(new Im("contentLanguage",null,!0)),e.push(new Im("contentType",null,!0)),e.push(new Im("metadata","customMetadata",!0)),Dm=e,Dm}function Rm(e,t,n){const r={type:"file"},a=n.length;for(let i=0;i<a;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,a=new rm(n,r);return t._makeStorageReference(a)}})}(r,e),r}function Pm(e,t,n){const r=Tm(t);if(null===r)return null;return Rm(e,r,n)}function Mm(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const r=t[a];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Lm{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Om(e){if(!e)throw Yf()}function Fm(e,t){return function(n,r){const a=Pm(e,r,t);return Om(null!==a),a}}function Um(e,t){return function(n,r){const a=Pm(e,r,t);return Om(null!==a),function(e,t,n,r){const a=Tm(t);if(null===a)return null;if(!im(a.downloadTokens))return null;const i=a.downloadTokens;if(0===i.length)return null;const s=encodeURIComponent;return i.split(",").map((t=>{const a=e.bucket,i=e.fullPath;return cm("/b/"+s(a)+"/o/"+s(i),n,r)+um({alt:"media",token:t})}))[0]}(a,r,e.host,e._protocol)}}function Vm(e){return function(t,n){let r;var a,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Wf(Qf.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Wf(Qf.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Wf(Qf.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,r=new Wf(Qf.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Bm(e){const t=Vm(e);return function(n,r){let a=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,a=new Wf(Qf.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function zm(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Hm(e,t,n,r,a){const i=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;const l=zm(t,r,a),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mm(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Cm.getBlob(c,r,u);if(null===d)throw Jf();const h={name:l.fullPath},f=cm(i,e.host,e._protocol),m=e.maxUploadRetryTime,p=new Lm(f,"POST",Fm(e,n),m);return p.urlParams=h,p.headers=s,p.body=d.uploadData(),p.errorHandler=Vm(t),p}class qm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kf.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Kf.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Kf.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r,a){if(this.sent_)throw nm("cannot .send() more than once");if(Rt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Nv){return-1}}getResponse(){if(!this.sent_)throw nm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Wm extends qm{initXhr(){this.xhr_.responseType="text"}}function Qm(){return new Wm}class Km{constructor(e,t){this._service=e,this._location=t instanceof rm?t:rm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Km(e,t)}get root(){const e=new rm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _m(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new rm(this._location.bucket,e);return new Km(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Wf(Qf.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Gm(e,t,n){e._throwIfRoot("uploadBytes");const r=Hm(e.storage,e._location,Am(),new Cm(t,!0),n);return e.storage.makeRequestWithTokens(r,Qm).then((t=>({metadata:t,ref:e})))}function Ym(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=cm(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new Lm(r,"GET",Um(e,n),a);return i.errorHandler=Bm(t),i}(e.storage,e._location,Am());return e.storage.makeRequestWithTokens(t,Qm).then((e=>{if(null===e)throw new Wf(Qf.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function $m(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rm(e._location.bucket,n);return new Km(e.storage,r)}function Xm(e,t){if(e instanceof ep){const n=e;if(null==n._bucket)throw new Wf(Qf.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qf+"' property when initializing the app?");const r=new Km(n,n._bucket);return null!=t?Xm(r,t):r}return void 0!==t?$m(e,t):e}function Jm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ep)return new Km(e,t);throw Zf("To use ref(service, url), the first argument must be a Storage instance.")}return Xm(e,t)}function Zm(e,t){const n=null===t||void 0===t?void 0:t[qf];return null==n?null:rm.makeFromBucketSpec(n,e)}class ep{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=i,this._bucket=null,this._host=Hf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?rm.makeFromBucketSpec(r,this._host):Zm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=rm.makeFromBucketSpec(this._url,e):this._bucket=Zm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Km(this,e)}_makeRequest(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new am(em());{const i=function(e,t,n,r,a,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=um(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new hm(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s,o)}(e,this._appId,n,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const tp="@firebase/storage",np="0.13.12",rp="storage";function ap(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new ep(r,a,i,n,ur)}ir(new Yt(rp,ap,"PUBLIC").setMultipleInstances(!0)),fr(tp,np,""),fr(tp,np,"esm2017");const ip=dr({apiKey:"AIzaSyCrDBWI-GcPQi6gjQ_kxcau4XURzJr7XRc",authDomain:"built-relentless.firebaseapp.com",projectId:"built-relentless",storageBucket:"built-relentless.firebasestorage.app",messagingSenderId:"1095158432810",appId:"G-55RFX43SJR"}),sp=function(e,t){const n="object"==typeof e?e:hr(),r="string"==typeof e?e:t||Vi,a=sr(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=It("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;e=Zd(e,rh);const i=Rt(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&(Pt("https://".concat(l)),Ft("Firestore",!0)),s.host!==eh&&s.host!==l&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:r});if(!Qt(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vr.MOCK_USER;else{t=Mt(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Zr(Jr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vr(i)}e._authCredentials=new ra(new ta(t,n))}}(a,...e)}return a}(ip),op=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr(),t=arguments.length>1?arguments[1]:void 0;e=Gt(e);const n=sr(e,rp).getImmediate({identifier:t}),r=It("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const a=Rt(t);a&&(Pt("https://".concat(e.host)),Ft("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Mt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(ip),lp=Lf("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),cp=Lf("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),up=Lf("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),dp=Lf("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),hp=Lf("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fp=async(e,t)=>{try{var n,r,a;const i=lh(sp,"bookings","coach_".concat(e)),s=Date.now().toString(),o=s,l="BK".concat(s.slice(-8)),c={bookingId:"booking_".concat(o),bookingNumber:l,clientId:t.clientId,firstName:t.firstName,lastName:t.lastName,email:t.email||"",phone:t.phone||"",date:t.date,timeSlot:{start:t.timeSlot.start,end:t.timeSlot.end,duration:t.timeSlot.duration},sessionDetails:{technique:(null===(n=t.sessionDetails)||void 0===n?void 0:n.technique)||"Shooting Technique",skillLevel:(null===(r=t.sessionDetails)||void 0===r?void 0:r.skillLevel)||"Beginner",notes:(null===(a=t.sessionDetails)||void 0===a?void 0:a.notes)||""},status:"pending",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return t.customHourlyRate&&(c.customHourlyRate=t.customHourlyRate),t.paymentInfo&&(c.paymentInfo={status:t.paymentInfo.status||"unpaid",totalAmount:t.paymentInfo.totalAmount||0,amountPaid:t.paymentInfo.amountPaid||0,amountDue:t.paymentInfo.amountDue||0,lastUpdated:(new Date).toISOString()}),await $h(i,{["bookings.".concat(o)]:c}),{success:!0,bookingId:o,bookingNumber:l,booking:c}}catch(i){return console.error("Error adding booking:",i),{success:!1,error:i.message}}},mp=Lf("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);function pp(e){let{coach:t,onProfileClick:n}=e;return(0,Vf.jsx)("header",{className:jf.header.container,children:(0,Vf.jsx)("div",{className:jf.header.inner,children:(0,Vf.jsxs)("div",{className:jf.header.content,children:[(0,Vf.jsxs)("div",{className:jf.header.left,children:[(0,Vf.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full flex-shrink-0",children:(0,Vf.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:(e=>{var t,n;if(!e.name)return(null===(t=e.id)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"C";const r=e.name.split(" ");return r.length>=2?r[0].charAt(0).toUpperCase()+r[1].charAt(0).toUpperCase():e.name.charAt(0).toUpperCase()})(t)})}),(0,Vf.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Vf.jsx)("h1",{className:jf.header.title,children:"Coach Dashboard"}),(0,Vf.jsxs)("p",{className:jf.header.subtitle,children:["Welcome back, ",t.name||"Coach ".concat(t.id)]})]})]}),(0,Vf.jsxs)("div",{className:jf.header.right,children:[(0,Vf.jsx)("button",{className:jf.header.iconButton,children:(0,Vf.jsx)(mp,{className:"w-5 h-5"})}),(0,Vf.jsx)("button",{onClick:()=>{n&&n()},className:jf.header.primaryButton,children:(0,Vf.jsx)("span",{children:"Profile"})})]})]})})})}function gp(e){let{tabs:t,activeTab:n,setActiveTab:r}=e;return(0,Vf.jsx)("nav",{className:jf.navigation.container,children:(0,Vf.jsx)("div",{className:jf.navigation.inner,children:(0,Vf.jsx)("div",{className:"".concat(jf.navigation.tabs," dashboard-nav-tabs"),children:t.map((e=>{const t=e.icon,a=n===e.id;return(0,Vf.jsxs)("button",{onClick:()=>r(e.id),className:"".concat(jf.navigation.tab.base," ").concat(a?jf.navigation.tab.active:jf.navigation.tab.inactive),children:[(0,Vf.jsx)(t,{className:"w-4 h-4 flex-shrink-0"}),(0,Vf.jsx)("span",{children:e.label})]},e.id)}))})})})}const yp=Lf("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),vp=(Math.pow(10,8),6048e5),bp=6e4,xp=36e5,wp=Symbol.for("constructDateFrom");function kp(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&wp in e?e[wp](t):e instanceof Date?new e.constructor(t):new Date(t)}function Sp(e,t){return kp(t||e,e)}function Np(e,t){var n;const r=()=>kp(null===t||void 0===t?void 0:t.in,NaN),a=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,i=function(e){const t={},n=e.split(Ep.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Ep.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ep.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=Ep.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(i.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,a);s=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Cp);if(!n)return new Date(NaN);const r=!!n[4],a=jp(n[1]),i=jp(n[2])-1,s=jp(n[3]),o=jp(n[4]),l=jp(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Dp[t]||(Ap(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(Ap(e)?366:365)}(t,a)?(e.setUTCFullYear(t,i,Math.max(a,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return r();const o=+s;let l,c=0;if(i.time&&(c=function(e){const t=e.match(Tp);if(!t)return NaN;const n=Ip(t[1]),r=Ip(t[2]),a=Ip(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*xp+r*bp+1e3*a}(i.time),isNaN(c)))return r();if(!i.timezone){const e=new Date(o+c),n=Sp(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(_p);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*xp+a*bp)}(i.timezone),isNaN(l)?r():Sp(o+c+l,null===t||void 0===t?void 0:t.in)}const Ep={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cp=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tp=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_p=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jp(e){return e?parseInt(e):1}function Ip(e){return e&&parseFloat(e.replace(",","."))||0}const Dp=[31,null,31,30,31,30,31,31,30,31,30,31];function Ap(e){return e%400===0||e%4===0&&e%100!==0}const Rp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Pp(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Mp={date:Pp({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Pp({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Pp({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Lp={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Op(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Fp(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}var Up;const Vp={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=Rp[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Mp,formatRelative:(e,t,n,r)=>Lp[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Op({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Op({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Op({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Op({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Op({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Up={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Up.matchPattern);if(!n)return null;const r=n[0],a=e.match(Up.parsePattern);if(!a)return null;let i=Up.valueCallback?Up.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:Fp({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Fp({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fp({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Fp({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Fp({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Bp={};function zp(){return Bp}function Hp(e){const t=Sp(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qp(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Wp(e,t,n){const[r,a]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=kp.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(a)}(null===n||void 0===n?void 0:n.in,e,t),i=qp(r),s=qp(a),o=+i-Hp(i),l=+s-Hp(s);return Math.round((o-l)/864e5)}function Qp(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Kp(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in);return Wp(n,Qp(n))+1}function Gp(e,t){var n,r,a,i,s,o;const l=zp(),c=null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,u=Sp(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function Yp(e,t){return Gp(e,u(u({},t),{},{weekStartsOn:1}))}function $p(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),a=kp(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Yp(a),s=kp(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Yp(s);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Xp(e,t){const n=$p(e,t),r=kp((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yp(r)}function Jp(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in),r=+Yp(n)-+Xp(n);return Math.round(r/vp)+1}function Zp(e,t){var n,r,a,i,s,o;const l=Sp(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=zp(),d=null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==r?r:null===(o=u.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,h=kp((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=Gp(h,t),m=kp((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c,0,d),m.setHours(0,0,0,0);const p=Gp(m,t);return+l>=+f?c+1:+l>=+p?c:c-1}function eg(e,t){var n,r,a,i,s,o;const l=zp(),c=null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,u=Zp(e,t),d=kp((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return Gp(d,t)}function tg(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in),r=+Gp(n,t)-+eg(n,t);return Math.round(r/vp)+1}function ng(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const rg={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ng("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):ng(n+1,2)},d:(e,t)=>ng(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>ng(e.getHours()%12||12,t.length),H:(e,t)=>ng(e.getHours(),t.length),m:(e,t)=>ng(e.getMinutes(),t.length),s:(e,t)=>ng(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return ng(Math.trunc(r*Math.pow(10,n-3)),t.length)}},ag="midnight",ig="noon",sg="morning",og="afternoon",lg="evening",cg="night",ug={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return rg.y(e,t)},Y:function(e,t,n,r){const a=Zp(e,r),i=a>0?a:1-a;if("YY"===t){return ng(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):ng(i,t.length)},R:function(e,t){return ng($p(e),t.length)},u:function(e,t){return ng(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ng(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ng(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return rg.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ng(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=tg(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):ng(a,t.length)},I:function(e,t,n){const r=Jp(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):ng(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):rg.d(e,t)},D:function(e,t,n){const r=Kp(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):ng(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ng(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ng(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return ng(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?ig:0===r?ag:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?lg:r>=12?og:r>=4?sg:cg,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return rg.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):rg.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):ng(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):ng(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):rg.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):rg.s(e,t)},S:function(e,t){return rg.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return hg(r);case"XXXX":case"XX":return fg(r);default:return fg(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return hg(r);case"xxxx":case"xx":return fg(r);default:return fg(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+dg(r,":");default:return"GMT"+fg(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+dg(r,":");default:return"GMT"+fg(r,":")}},t:function(e,t,n){return ng(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return ng(+e,t.length)}};function dg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+ng(i,2)}function hg(e,t){if(e%60===0){return(e>0?"-":"+")+ng(Math.abs(e)/60,2)}return fg(e,t)}function fg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+ng(Math.trunc(r/60),2)+t+ng(r%60,2)}const mg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},pg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},gg={p:pg,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return mg(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",mg(r,t)).replace("{{time}}",pg(a,t))}},yg=/^D+$/,vg=/^Y+$/,bg=["D","DD","YY","YYYY"];function xg(e){return yg.test(e)}function wg(e){return vg.test(e)}function kg(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),bg.includes(e))throw new RangeError(r)}function Sg(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Ng(e){return!(!Sg(e)&&"number"!==typeof e||isNaN(+Sp(e)))}const Eg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tg=/^'([^]*?)'?$/,_g=/''/g,jg=/[a-zA-Z]/;function Ig(e,t,n){var r,a,i,s,o,l,c,u,d,h,f,m,p,g;const y=zp(),v=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:y.locale)&&void 0!==r?r:Vp,b=null!==(i=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:y.firstWeekContainsDate)&&void 0!==s?s:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1,x=null!==(d=null!==(h=null!==(f=null!==(m=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==m?m:null===n||void 0===n||null===(p=n.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==f?f:y.weekStartsOn)&&void 0!==h?h:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,w=Sp(e,null===n||void 0===n?void 0:n.in);if(!Ng(w))throw new RangeError("Invalid time value");let k=t.match(Cg).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,gg[t])(e,v.formatLong)}return e})).join("").match(Eg).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Dg(e)};if(ug[t])return{isToken:!0,value:e};if(t.match(jg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));v.localize.preprocessor&&(k=v.localize.preprocessor(w,k));const S={firstWeekContainsDate:b,weekStartsOn:x,locale:v};return k.map((r=>{if(!r.isToken)return r.value;const a=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!wg(a))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!xg(a))||kg(a,t,String(e));return(0,ug[a[0]])(w,a,v.localize,S)})).join("")}function Dg(e){const t=e.match(Tg);return t?t[1].replace(_g,"'"):e}function Ag(){return Object.assign({},zp())}function Rg(e,t){const n=function(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}(t)?new t(0):kp(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class Pg{constructor(){l(this,"subPriority",0)}validate(e,t){return!0}}class Mg extends Pg{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Lg extends Pg{constructor(e,t){super(),l(this,"priority",10),l(this,"subPriority",-1),this.context=e||(e=>kp(t,e))}set(e,t){return t.timestampIsSet?e:kp(e,Rg(e,this.context))}}class Og{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new Mg(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const Fg=/^(1[0-2]|0?\d)/,Ug=/^(3[0-1]|[0-2]?\d)/,Vg=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Bg=/^(5[0-3]|[0-4]?\d)/,zg=/^(2[0-3]|[0-1]?\d)/,Hg=/^(2[0-4]|[0-1]?\d)/,qg=/^(1[0-1]|0?\d)/,Wg=/^(1[0-2]|0?\d)/,Qg=/^[0-5]?\d/,Kg=/^[0-5]?\d/,Gg=/^\d/,Yg=/^\d{1,2}/,$g=/^\d{1,3}/,Xg=/^\d{1,4}/,Jg=/^-?\d+/,Zg=/^-?\d/,ey=/^-?\d{1,2}/,ty=/^-?\d{1,3}/,ny=/^-?\d{1,4}/,ry=/^([+-])(\d{2})(\d{2})?|Z/,ay=/^([+-])(\d{2})(\d{2})|Z/,iy=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,sy=/^([+-])(\d{2}):(\d{2})|Z/,oy=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ly(e,t){return e?{value:t(e.value),rest:e.rest}:e}function cy(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function uy(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(a*xp+i*bp+1e3*s),rest:t.slice(n[0].length)}}function dy(e){return cy(Jg,e)}function hy(e,t){switch(e){case 1:return cy(Gg,t);case 2:return cy(Yg,t);case 3:return cy($g,t);case 4:return cy(Xg,t);default:return cy(new RegExp("^\\d{1,"+e+"}"),t)}}function fy(e,t){switch(e){case 1:return cy(Zg,t);case 2:return cy(ey,t);case 3:return cy(ty,t);case 4:return cy(ny,t);default:return cy(new RegExp("^-?\\d{1,"+e+"}"),t)}}function my(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function py(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function gy(e){return e%400===0||e%4===0&&e%100!==0}function yy(e,t,n){const r=Sp(e,null===n||void 0===n?void 0:n.in),a=tg(r,n)-t;return r.setDate(r.getDate()-7*a),Sp(r,null===n||void 0===n?void 0:n.in)}function vy(e,t,n){const r=Sp(e,null===n||void 0===n?void 0:n.in),a=Jp(r,n)-t;return r.setDate(r.getDate()-7*a),r}const by=[31,28,31,30,31,30,31,31,30,31,30,31],xy=[31,29,31,30,31,30,31,31,30,31,30,31];function wy(e,t,n){const r=Sp(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?kp((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function ky(e,t,n){var r,a,i,s,o,l;const c=zp(),u=null!==(r=null!==(a=null!==(i=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(o=n.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==a?a:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0,d=Sp(e,null===n||void 0===n?void 0:n.in),h=d.getDay(),f=7-u;return wy(d,t<0||t>6?t-(h+f)%7:((t%7+7)%7+f)%7-(h+f)%7,n)}function Sy(e,t){const n=Sp(e,null===t||void 0===t?void 0:t.in).getDay();return 0===n?7:n}function Ny(e,t,n){const r=Sp(e,null===n||void 0===n?void 0:n.in);return wy(r,t-Sy(r,n),n)}const Ey={G:new class extends Og{constructor(){super(...arguments),l(this,"priority",140),l(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends Og{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return ly(hy(4,e),r);case"yo":return ly(n.ordinalNumber(e,{unit:"year"}),r);default:return ly(hy(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=py(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Og{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return ly(hy(4,e),r);case"Yo":return ly(n.ordinalNumber(e,{unit:"year"}),r);default:return ly(hy(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=Zp(e,r);if(n.isTwoDigitYear){const t=py(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Gp(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Gp(e,r)}},R:new class extends Og{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return fy("R"===t?4:t.length,e)}set(e,t,n){const r=kp(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yp(r)}},u:new class extends Og{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return fy("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends Og{constructor(){super(...arguments),l(this,"priority",120),l(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return hy(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends Og{constructor(){super(...arguments),l(this,"priority",120),l(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return hy(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends Og{constructor(){super(...arguments),l(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),l(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return ly(cy(Fg,e),r);case"MM":return ly(hy(2,e),r);case"Mo":return ly(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Og{constructor(){super(...arguments),l(this,"priority",110),l(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return ly(cy(Fg,e),r);case"LL":return ly(hy(2,e),r);case"Lo":return ly(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends Og{constructor(){super(...arguments),l(this,"priority",100),l(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return cy(Bg,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return hy(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Gp(yy(e,n,r),r)}},I:new class extends Og{constructor(){super(...arguments),l(this,"priority",100),l(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return cy(Bg,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return hy(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Yp(vy(e,n))}},d:new class extends Og{constructor(){super(...arguments),l(this,"priority",90),l(this,"subPriority",1),l(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return cy(Ug,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return hy(t.length,e)}}validate(e,t){const n=gy(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=xy[r]:t>=1&&t<=by[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends Og{constructor(){super(...arguments),l(this,"priority",90),l(this,"subpriority",1),l(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return cy(Vg,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return hy(t.length,e)}}validate(e,t){return gy(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends Og{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=ky(e,n,r)).setHours(0,0,0,0),e}},e:new class extends Og{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ly(hy(t.length,e),a);case"eo":return ly(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=ky(e,n,r)).setHours(0,0,0,0),e}},c:new class extends Og{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ly(hy(t.length,e),a);case"co":return ly(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=ky(e,n,r)).setHours(0,0,0,0),e}},i:new class extends Og{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return hy(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ly(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ly(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ly(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ly(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Ny(e,n)).setHours(0,0,0,0),e}},a:new class extends Og{constructor(){super(...arguments),l(this,"priority",80),l(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}},b:new class extends Og{constructor(){super(...arguments),l(this,"priority",80),l(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}},B:new class extends Og{constructor(){super(...arguments),l(this,"priority",80),l(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}},h:new class extends Og{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return cy(Wg,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return hy(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends Og{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return cy(zg,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return hy(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends Og{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return cy(qg,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return hy(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends Og{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return cy(Hg,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return hy(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends Og{constructor(){super(...arguments),l(this,"priority",60),l(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return cy(Qg,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return hy(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends Og{constructor(){super(...arguments),l(this,"priority",50),l(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return cy(Kg,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return hy(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends Og{constructor(){super(...arguments),l(this,"priority",30),l(this,"incompatibleTokens",["t","T"])}parse(e,t){return ly(hy(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends Og{constructor(){super(...arguments),l(this,"priority",10),l(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return uy(ry,e);case"XX":return uy(ay,e);case"XXXX":return uy(iy,e);case"XXXXX":return uy(oy,e);default:return uy(sy,e)}}set(e,t,n){return t.timestampIsSet?e:kp(e,e.getTime()-Hp(e)-n)}},x:new class extends Og{constructor(){super(...arguments),l(this,"priority",10),l(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return uy(ry,e);case"xx":return uy(ay,e);case"xxxx":return uy(iy,e);case"xxxxx":return uy(oy,e);default:return uy(sy,e)}}set(e,t,n){return t.timestampIsSet?e:kp(e,e.getTime()-Hp(e)-n)}},t:new class extends Og{constructor(){super(...arguments),l(this,"priority",40),l(this,"incompatibleTokens","*")}parse(e){return dy(e)}set(e,t,n){return[kp(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends Og{constructor(){super(...arguments),l(this,"priority",20),l(this,"incompatibleTokens","*")}parse(e){return dy(e)}set(e,t,n){return[kp(e,n),{timestampIsSet:!0}]}}},Cy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ty=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_y=/^'([^]*?)'?$/,jy=/''/g,Iy=/\S/,Dy=/[a-zA-Z]/;function Ay(e,t,n,r){var a,i,s,o,l,c,u,d,h,f,m,p,g,y;const v=()=>kp((null===r||void 0===r?void 0:r.in)||n,NaN),b=Ag(),x=null!==(a=null!==(i=null===r||void 0===r?void 0:r.locale)&&void 0!==i?i:b.locale)&&void 0!==a?a:Vp,w=null!==(s=null!==(o=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:b.firstWeekContainsDate)&&void 0!==o?o:null===(d=b.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,k=null!==(h=null!==(f=null!==(m=null!==(p=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==p?p:null===r||void 0===r||null===(g=r.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==m?m:b.weekStartsOn)&&void 0!==f?f:null===(y=b.locale)||void 0===y||null===(y=y.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==h?h:0;if(!t)return e?v():Sp(n,null===r||void 0===r?void 0:r.in);const S={firstWeekContainsDate:w,weekStartsOn:k,locale:x},N=[new Lg(null===r||void 0===r?void 0:r.in,n)],E=t.match(Ty).map((e=>{const t=e[0];if(t in gg){return(0,gg[t])(e,x.formatLong)}return e})).join("").match(Cy),C=[];for(let I of E){null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!wg(I)||kg(I,t,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!xg(I)||kg(I,t,e);const n=I[0],a=Ey[n];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=C.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(I,"` at the same time"))}else if("*"===a.incompatibleTokens&&C.length>0)throw new RangeError("The format string mustn't contain `".concat(I,"` and any other token at the same time"));C.push({token:n,fullToken:I});const r=a.run(e,I,x.match,S);if(!r)return v();N.push(r.setter),e=r.rest}else{if(n.match(Dy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===I?I="'":"'"===n&&(I=I.match(_y)[1].replace(jy,"'")),0!==e.indexOf(I))return v();e=e.slice(I.length)}}if(e.length>0&&Iy.test(e))return v();const T=N.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>N.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let _=Sp(n,null===r||void 0===r?void 0:r.in);if(isNaN(+_))return v();const j={};for(const I of T){if(!I.validate(_,S))return v();const e=I.set(_,j,S);Array.isArray(e)?(_=e[0],Object.assign(j,e[1])):_=e}return _}function Ry(e){let{coach:t,stats:n}=e;const{todayBookings:r,todayCount:a,weekCount:i,totalEarnings:s}=n,o=t.price||t.hourlyRate||0,l=e=>{if(!e)return"TBA";try{if(e.includes("T")){return Ig(Np(e),"h:mm a")}return Ig(Ay(e,"HH:mm",new Date),"h:mm a")}catch(t){return console.warn("Failed to format time:",e,t),e}},c=e=>{if(!e)return"TBA";const t=e.start?l(e.start):"",n=e.end?l(e.end):"";return t&&n?"".concat(t," - ").concat(n):t||n||"TBA"},u=e=>{if(!e)return 60;if(e.duration)return parseInt(e.duration);if(!e.start||!e.end)return 60;try{let t,n;if(e.start.includes("T")&&e.end.includes("T")){t=Np(e.start),n=Np(e.end);const r=n-t;return Math.max(Math.round(r/6e4),0)}{const[t,n]=e.start.split(":").map(Number),[r,a]=e.end.split(":").map(Number),i=60*t+n,s=60*r+a;return Math.max(s-i,0)}}catch(t){return console.warn("Failed to calculate duration:",e,t),60}},d=[{label:"Today's Sessions",value:a,icon:cp,color:"text-blue-500"},{label:"This Week",value:i,icon:yp,color:"text-green-500"},{label:"Week Earnings",value:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s||0),icon:dp,color:"text-yellow-500"},{label:"Hourly Rate",value:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o||0),icon:lp,color:"text-purple-500"}];return(0,Vf.jsxs)("div",{className:jf.section.content,children:[(0,Vf.jsx)("div",{className:jf.stats.grid,children:d.map(((e,t)=>{const n=e.icon;return(0,Vf.jsxs)("div",{className:jf.stats.card,children:[(0,Vf.jsxs)("div",{className:jf.stats.content,children:[(0,Vf.jsx)("p",{className:jf.stats.label,children:e.label}),(0,Vf.jsx)("p",{className:jf.stats.value,children:e.value})]}),(0,Vf.jsx)(n,{className:"".concat(jf.stats.icon," ").concat(e.color)})]},t)}))}),(0,Vf.jsxs)("div",{className:jf.section.container,children:[(0,Vf.jsx)("h3",{className:jf.section.title,children:"Today's Schedule"}),0===r.length?(0,Vf.jsx)("p",{className:jf.section.emptyState,children:"No sessions scheduled for today"}):(0,Vf.jsx)("div",{className:jf.section.content,children:r.map((e=>{return(0,Vf.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:(t=e.firstName,n=e.lastName,t||n?"".concat(t||""," ").concat(n||"").trim():"Client")}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Training Session"})]}),(0,Vf.jsxs)("div",{className:"text-right",children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:c(e.timeSlot)}),(0,Vf.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u(e.timeSlot),"min"]})]})]},e.id);var t,n}))})]})]})}const Py=Lf("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),My=Lf("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ly=Lf("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Oy=Lf("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fy=Lf("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Uy=Lf("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vy=Lf("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),By=Lf("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zy(e){let{booking:t,coach:n,isOpen:a,onClose:i,onSave:s,loading:o}=e;const[l,c]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",date:"",startTime:"",endTime:"",duration:60,technique:"General Training",skillLevel:"Beginner",notes:"",customHourlyRate:0,useCustomRate:!1,paymentStatus:"unpaid",amountPaid:0});(0,r.useEffect)((()=>{if(t){var e,r,a,i,s,o,l;const u=e=>e?e.includes("T")?new Date(e).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}):e:"",d=(e,t)=>{if(!e||!t)return 60;try{const n=new Date("2000-01-01T".concat(e)),r=new Date("2000-01-01T".concat(t));return Math.max((r-n)/6e4,30)}catch(n){return 60}},h=u(null===(e=t.timeSlot)||void 0===e?void 0:e.start),f=u(null===(r=t.timeSlot)||void 0===r?void 0:r.end),m=t.customHourlyRate&&t.customHourlyRate!==(n.price||n.hourlyRate),p=t.paymentInfo||{};m?t.customHourlyRate:n.price||n.hourlyRate,null!==(a=t.timeSlot)&&void 0!==a&&a.duration&&parseInt(t.timeSlot.duration);c({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",date:t.date||"",startTime:h,endTime:f,duration:null!==(i=t.timeSlot)&&void 0!==i&&i.duration?parseInt(t.timeSlot.duration):d(h,f),technique:(null===(s=t.sessionDetails)||void 0===s?void 0:s.technique)||"General Training",skillLevel:(null===(o=t.sessionDetails)||void 0===o?void 0:o.skillLevel)||"Beginner",notes:(null===(l=t.sessionDetails)||void 0===l?void 0:l.notes)||"",customHourlyRate:t.customHourlyRate||n.price||n.hourlyRate||0,useCustomRate:m,paymentStatus:p.status||"unpaid",amountPaid:p.amountPaid||0})}}),[t]),(0,r.useEffect)((()=>{if(l.startTime&&l.duration)try{const[e,t]=l.startTime.split(":").map(Number),n=new Date;n.setHours(e,t,0,0);const r=new Date(n.getTime()+6e4*l.duration).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});c((e=>u(u({},e),{},{endTime:r})))}catch(e){console.warn("Error calculating end time:",e)}}),[l.startTime,l.duration]);const d=e=>{const{name:t,value:n,type:r,checked:a}=e.target;c((e=>u(u({},e),{},{[t]:"checkbox"===r?a:"number"===r?parseFloat(n)||0:n})))};return a?(0,Vf.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Vf.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Vf.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Vf.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Edit Booking"}),(0,Vf.jsx)("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,Vf.jsx)(By,{className:"w-5 h-5"})})]}),(0,Vf.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=[];if(l.firstName||r.push("First Name"),l.lastName||r.push("Last Name"),l.date||r.push("Date"),l.startTime||r.push("Start Time"),t.email&&!l.email&&r.push("Email"),r.length>0)return void alert("Please fill in the following required fields: ".concat(r.join(", ")));const a=(l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60,i={firstName:l.firstName,lastName:l.lastName,date:l.date,timeSlot:{start:"".concat(l.date,"T").concat(l.startTime,":00-05:00"),end:"".concat(l.date,"T").concat(l.endTime,":00-05:00"),duration:l.duration.toString()},sessionDetails:{technique:l.technique,skillLevel:l.skillLevel,notes:l.notes},paymentInfo:{status:l.paymentStatus,totalAmount:a,amountPaid:l.amountPaid,amountDue:Math.max(a-l.amountPaid,0),lastUpdated:(new Date).toISOString()}};l.email.trim()&&(i.email=l.email),l.phone.trim()&&(i.phone=l.phone),l.useCustomRate&&l.customHourlyRate!==(n.price||n.hourlyRate)&&(i.customHourlyRate=parseFloat(l.customHourlyRate)),console.log("\ud83d\udce4 Sending update data:",i),await s(t.id,i)},className:"p-6 space-y-6",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(Py,{className:"w-5 h-5 mr-2"}),"Client Information"]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),(0,Vf.jsx)("input",{type:"text",name:"firstName",value:l.firstName,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),(0,Vf.jsx)("input",{type:"text",name:"lastName",value:l.lastName,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Email ",null!==t&&void 0!==t&&t.email?"*":"(optional)"]}),(0,Vf.jsx)("input",{type:"email",name:"email",value:l.email,onChange:d,required:!(null===t||void 0===t||!t.email),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone (optional)"}),(0,Vf.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(cp,{className:"w-5 h-5 mr-2"}),"Scheduling"]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date *"}),(0,Vf.jsx)("input",{type:"date",name:"date",value:l.date,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time *"}),(0,Vf.jsx)("input",{type:"time",name:"startTime",value:l.startTime,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),(0,Vf.jsxs)("select",{name:"duration",value:l.duration,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"30",children:"30 minutes"}),(0,Vf.jsx)("option",{value:"45",children:"45 minutes"}),(0,Vf.jsx)("option",{value:"60",children:"60 minutes"}),(0,Vf.jsx)("option",{value:"90",children:"90 minutes"}),(0,Vf.jsx)("option",{value:"120",children:"120 minutes"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),(0,Vf.jsx)("input",{type:"time",name:"endTime",value:l.endTime,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-gray-100"})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(up,{className:"w-5 h-5 mr-2"}),"Session Details"]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Focus/Technique"}),(0,Vf.jsxs)("select",{name:"technique",value:l.technique,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"Shooting Technique",children:"Shooting Technique"}),(0,Vf.jsx)("option",{value:"Ball Handling",children:"Ball Handling"}),(0,Vf.jsx)("option",{value:"Defense",children:"Defense"}),(0,Vf.jsx)("option",{value:"Conditioning",children:"Conditioning"}),(0,Vf.jsx)("option",{value:"Game Strategy",children:"Game Strategy"}),(0,Vf.jsx)("option",{value:"General Training",children:"General Training"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Skill Level"}),(0,Vf.jsxs)("select",{name:"skillLevel",value:l.skillLevel,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,Vf.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,Vf.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,Vf.jsx)("option",{value:"Elite",children:"Elite"})]})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:"\ud83d\udcb0 Pricing"}),(0,Vf.jsxs)("div",{className:"space-y-4",children:[(0,Vf.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vf.jsx)("input",{type:"checkbox",id:"useCustomRate",name:"useCustomRate",checked:l.useCustomRate,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Vf.jsx)("label",{htmlFor:"useCustomRate",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Use custom hourly rate for this session"})]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:l.useCustomRate?"Custom Hourly Rate":"Standard Hourly Rate"}),(0,Vf.jsxs)("div",{className:"relative",children:[(0,Vf.jsx)("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),(0,Vf.jsx)("input",{type:"number",name:"customHourlyRate",value:l.customHourlyRate,onChange:d,disabled:!l.useCustomRate,min:"0",step:"0.01",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500 ".concat(l.useCustomRate?"bg-white dark:bg-gray-700":"bg-gray-50 dark:bg-gray-600 cursor-not-allowed")})]}),!l.useCustomRate&&(0,Vf.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Standard rate: $",n.price||n.hourlyRate||0,"/hour"]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Session Total"}),(0,Vf.jsxs)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-600",children:[(0,Vf.jsxs)("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["$",((l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60).toFixed(2)]}),(0,Vf.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["($",l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0,"/hr \xd7 ",l.duration," min)"]})]})]})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:"\ud83d\udcb3 Payment Information"}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Status"}),(0,Vf.jsxs)("select",{name:"paymentStatus",value:l.paymentStatus,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"unpaid",children:"Unpaid"}),(0,Vf.jsx)("option",{value:"partial",children:"Partially Paid"}),(0,Vf.jsx)("option",{value:"paid",children:"Fully Paid"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount Paid"}),(0,Vf.jsx)("input",{type:"number",name:"amountPaid",value:l.amountPaid,onChange:d,min:"0",max:(l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Session Total"}),(0,Vf.jsx)("input",{type:"text",value:"".concat(((l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60).toFixed(2)),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-gray-100 font-bold"})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(My,{className:"w-5 h-5 mr-2"}),"Notes"]}),(0,Vf.jsx)("textarea",{name:"notes",value:l.notes,onChange:d,rows:"3",placeholder:"Additional notes or special requests...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2",children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vf.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Session Total:"}),(0,Vf.jsxs)("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:["$",((l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60).toFixed(2)]})]}),(0,Vf.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vf.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount Paid:"}),(0,Vf.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",l.amountPaid.toFixed(2)]})]}),(0,Vf.jsxs)("div",{className:"flex justify-between items-center border-t border-gray-200 dark:border-gray-600 pt-2",children:[(0,Vf.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount Due:"}),(0,Vf.jsxs)("span",{className:"font-bold ".concat(Math.max((l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60-l.amountPaid,0)>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:["$",Math.max((l.useCustomRate?l.customHourlyRate:n.price||n.hourlyRate||0)*l.duration/60-l.amountPaid,0).toFixed(2)]})]}),l.useCustomRate&&(0,Vf.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium pt-1 border-t border-gray-200 dark:border-gray-600",children:["\ud83d\udcb0 Custom Rate Applied: $",l.customHourlyRate,"/hour"]})]}),(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Vf.jsx)("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Vf.jsx)("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors",children:o?"Saving...":"Save Changes"})]})]})]})}):null}function Hy(e){let{coach:t,isOpen:n,onClose:a,onSave:i,loading:s}=e;const[o,l]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",date:"",startTime:"",endTime:"",duration:60,technique:"General Training",skillLevel:"Beginner",notes:"",status:"confirmed",paymentStatus:"unpaid",amountPaid:0,customHourlyRate:0,useCustomRate:!1});(0,r.useEffect)((()=>{const e=(new Date).toISOString().split("T")[0];l((n=>u(u({},n),{},{date:e,customHourlyRate:t.price||t.hourlyRate||0})))}),[t]),(0,r.useEffect)((()=>{if(o.startTime&&o.duration)try{const[e,t]=o.startTime.split(":").map(Number),n=new Date;n.setHours(e,t,0,0);const r=new Date(n.getTime()+6e4*o.duration).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});l((e=>u(u({},e),{},{endTime:r})))}catch(e){console.warn("Error calculating end time:",e)}}),[o.startTime,o.duration]);const c=e=>{const{name:t,value:n,type:r,checked:a}=e.target;l((e=>u(u({},e),{},{[t]:"number"===r?parseFloat(n)||0:"checkbox"===r?a:n})))},d=(o.useCustomRate?o.customHourlyRate:t.price||t.hourlyRate||0)*o.duration/60,h=Math.max(d-o.amountPaid,0);return n?(0,Vf.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Vf.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Vf.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Vf.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[(0,Vf.jsx)(Vy,{className:"w-5 h-5 mr-2"}),"Add New Session"]}),(0,Vf.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,Vf.jsx)(By,{className:"w-5 h-5"})})]}),(0,Vf.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!o.firstName||!o.lastName||!o.date||!o.startTime)return void alert("Please fill in all required fields (Name, Date, Start Time)");const n=(o.useCustomRate?o.customHourlyRate:t.price||t.hourlyRate||0)*o.duration/60,r={clientId:"manual_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),firstName:o.firstName,lastName:o.lastName,email:o.email||"",phone:o.phone||"",date:o.date,timeSlot:{start:"".concat(o.date,"T").concat(o.startTime,":00-05:00"),end:"".concat(o.date,"T").concat(o.endTime,":00-05:00"),duration:o.duration.toString()},sessionDetails:{technique:o.technique,skillLevel:o.skillLevel,notes:o.notes},status:o.status,paymentInfo:{status:o.paymentStatus,totalAmount:n,amountPaid:o.amountPaid,amountDue:Math.max(n-o.amountPaid,0)},source:"manual_coach_entry"};o.useCustomRate&&o.customHourlyRate!==(t.price||t.hourlyRate)&&(r.customHourlyRate=o.customHourlyRate),await i(r)},className:"p-6 space-y-6",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(Py,{className:"w-5 h-5 mr-2"}),"Client Information"]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),(0,Vf.jsx)("input",{type:"text",name:"firstName",value:o.firstName,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),(0,Vf.jsx)("input",{type:"text",name:"lastName",value:o.lastName,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email (optional)"}),(0,Vf.jsx)("input",{type:"email",name:"email",value:o.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone (optional)"}),(0,Vf.jsx)("input",{type:"tel",name:"phone",value:o.phone,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(cp,{className:"w-5 h-5 mr-2"}),"Scheduling"]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date *"}),(0,Vf.jsx)("input",{type:"date",name:"date",value:o.date,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time *"}),(0,Vf.jsx)("input",{type:"time",name:"startTime",value:o.startTime,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (minutes)"}),(0,Vf.jsxs)("select",{name:"duration",value:o.duration,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"30",children:"30 minutes"}),(0,Vf.jsx)("option",{value:"45",children:"45 minutes"}),(0,Vf.jsx)("option",{value:"60",children:"60 minutes"}),(0,Vf.jsx)("option",{value:"90",children:"90 minutes"}),(0,Vf.jsx)("option",{value:"120",children:"120 minutes"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),(0,Vf.jsx)("input",{type:"time",name:"endTime",value:o.endTime,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-gray-100"})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(up,{className:"w-5 h-5 mr-2"}),"Session Details"]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Focus/Technique"}),(0,Vf.jsxs)("select",{name:"technique",value:o.technique,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"Shooting Technique",children:"Shooting Technique"}),(0,Vf.jsx)("option",{value:"Ball Handling",children:"Ball Handling"}),(0,Vf.jsx)("option",{value:"Defense",children:"Defense"}),(0,Vf.jsx)("option",{value:"Conditioning",children:"Conditioning"}),(0,Vf.jsx)("option",{value:"Game Strategy",children:"Game Strategy"}),(0,Vf.jsx)("option",{value:"General Training",children:"General Training"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Skill Level"}),(0,Vf.jsxs)("select",{name:"skillLevel",value:o.skillLevel,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,Vf.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,Vf.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,Vf.jsx)("option",{value:"Elite",children:"Elite"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,Vf.jsxs)("select",{name:"status",value:o.status,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Vf.jsx)("option",{value:"pending",children:"Pending"}),(0,Vf.jsx)("option",{value:"completed",children:"Completed"})]})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:"\ud83d\udcb0 Pricing"}),(0,Vf.jsxs)("div",{className:"space-y-4",children:[(0,Vf.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vf.jsx)("input",{type:"checkbox",id:"useCustomRate",name:"useCustomRate",checked:o.useCustomRate,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Vf.jsx)("label",{htmlFor:"useCustomRate",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Use custom hourly rate for this session"})]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o.useCustomRate?"Custom Hourly Rate":"Standard Hourly Rate"}),(0,Vf.jsxs)("div",{className:"relative",children:[(0,Vf.jsx)("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),(0,Vf.jsx)("input",{type:"number",name:"customHourlyRate",value:o.customHourlyRate,onChange:c,disabled:!o.useCustomRate,min:"0",step:"0.01",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500 ".concat(o.useCustomRate?"bg-white dark:bg-gray-700":"bg-gray-50 dark:bg-gray-600 cursor-not-allowed")})]}),!o.useCustomRate&&(0,Vf.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Standard rate: $",t.price||t.hourlyRate||0,"/hour"]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Session Total"}),(0,Vf.jsxs)("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-600",children:[(0,Vf.jsxs)("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["$",d.toFixed(2)]}),(0,Vf.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["($",o.useCustomRate?o.customHourlyRate:t.price||t.hourlyRate||0,"/hr \xd7 ",o.duration," min)"]})]}),o.useCustomRate&&(0,Vf.jsx)("p",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Custom Rate Applied"})]})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:"\ud83d\udcb3 Payment Information"}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Status"}),(0,Vf.jsxs)("select",{name:"paymentStatus",value:o.paymentStatus,onChange:c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500",children:[(0,Vf.jsx)("option",{value:"unpaid",children:"Unpaid"}),(0,Vf.jsx)("option",{value:"partial",children:"Partially Paid"}),(0,Vf.jsx)("option",{value:"paid",children:"Fully Paid"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount Paid"}),(0,Vf.jsx)("input",{type:"number",name:"amountPaid",value:o.amountPaid,onChange:c,min:"0",max:d,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Session Total"}),(0,Vf.jsx)("input",{type:"text",value:"$".concat(d.toFixed(2)),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-gray-100 font-bold"})]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,Vf.jsx)(My,{className:"w-5 h-5 mr-2"}),"Notes"]}),(0,Vf.jsx)("textarea",{name:"notes",value:o.notes,onChange:c,rows:"3",placeholder:"Additional notes or special requests...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Vf.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-2",children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vf.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Session Total:"}),(0,Vf.jsxs)("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:["$",d.toFixed(2)]})]}),(0,Vf.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vf.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount Paid:"}),(0,Vf.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",o.amountPaid.toFixed(2)]})]}),(0,Vf.jsxs)("div",{className:"flex justify-between items-center border-t border-gray-200 dark:border-gray-600 pt-2",children:[(0,Vf.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount Due:"}),(0,Vf.jsxs)("span",{className:"font-bold ".concat(h>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:["$",h.toFixed(2)]})]})]}),(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Vf.jsx)("button",{type:"button",onClick:()=>{(()=>{const e=(new Date).toISOString().split("T")[0];l({firstName:"",lastName:"",email:"",phone:"",date:e,startTime:"",endTime:"",duration:60,technique:"General Training",skillLevel:"Beginner",notes:"",status:"confirmed",paymentStatus:"unpaid",amountPaid:0,customHourlyRate:t.price||t.hourlyRate||0,useCustomRate:!1})})(),a()},className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Vf.jsx)("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-medium rounded-lg transition-colors",children:s?"Adding Session...":"Add Session"})]})]})]})}):null}function qy(e){let{coach:t,bookings:n,onConfirmBooking:a,onRejectBooking:i,onEditBooking:s,onCancelBooking:o,onAddSession:l,onUpdatePayment:c,loading:d,onForceReload:h}=e;const[f,m]=(0,r.useState)("all"),[p,g]=(0,r.useState)("all"),[y,v]=(0,r.useState)({}),[b,x]=(0,r.useState)({}),[w,k]=(0,r.useState)(null),[S,N]=(0,r.useState)(!1),[E,C]=(0,r.useState)(!1),[T,_]=(0,r.useState)({}),j=(t.price||t.hourlyRate,e=>{if(!e)return"TBA";try{return new Date("".concat(e,"T12:00:00")).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}}),I=e=>{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" at "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},D=e=>{if(!e)return"TBA";try{if(e.includes("T")){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}const[t,n]=e.split(":"),r=new Date;return r.setHours(parseInt(t),parseInt(n)),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}catch(t){return e}},A=e=>{if(!e)return"TBA";const t=e.start?D(e.start):"",n=e.end?D(e.end):"";return t&&n?"".concat(t," - ").concat(n):t||n||"TBA"},R=e=>{if(!e)return 60;if(e.duration)return parseInt(e.duration);if(!e.start||!e.end)return 60;try{let t,n;if(!e.start.includes("T")||!e.end.includes("T")){const[t,n]=e.start.split(":").map(Number),[r,a]=e.end.split(":").map(Number),i=60*t+n,s=60*r+a;return Math.max(s-i,0)}t=new Date(e.start),n=new Date(e.end);const r=n-t;return Math.max(Math.round(r/6e4),0)}catch(t){return 60}},P=e=>e.status||"pending",M=n.filter((e=>{const t=new Date,n=new Date("".concat(e.date,"T12:00:00"));if("today"===f){const n=t.toLocaleDateString("en-CA");return e.date===n}if("week"===f){const e=new Date(t);e.setDate(t.getDate()-t.getDay()),e.setHours(0,0,0,0);const r=new Date(e);return r.setDate(e.getDate()+6),r.setHours(23,59,59,999),n>=e&&n<=r}if("month"===f){const e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59,999);return n>=e&&n<=r}return!0})).filter((e=>{if("all"===p)return!0;return P(e)===p})).sort(((e,t)=>{const n=e=>{const t=e.timeSlot;if(!t)return new Date("".concat(e.date,"T00:00:00"));if(t.start&&t.start.includes("T"))try{return new Date(t.start)}catch(r){console.warn("Failed to parse ISO datetime:",t.start)}const n=t.start||e.time||"00:00";return new Date("".concat(e.date,"T").concat(n))};return n(e)-n(t)})),L=n.reduce(((e,t)=>{const n=P(t);return e[n]=(e[n]||0)+1,e.all=(e.all||0)+1,e}),{all:0}),O=async(e,t)=>{c&&(await c(e,t),_((t=>u(u({},t),{},{[e]:!1}))),h&&setTimeout((()=>h()),1e3))},F=e=>e.bookingNumber?e.bookingNumber:e.bookingId?e.bookingId.replace("booking_","#"):"#".concat(e.id),U=[{id:"all",label:"All",count:L.all||0,color:"gray"},{id:"pending",label:"Pending",count:L.pending||0,color:"yellow"},{id:"confirmed",label:"Confirmed",count:L.confirmed||0,color:"green"},{id:"rejected",label:"Rejected",count:L.rejected||0,color:"red"},{id:"cancelled",label:"Cancelled",count:L.cancelled||0,color:"gray"}],V=e=>{const t={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"};return t[e]||t.pending};return(0,Vf.jsxs)("div",{className:jf.section.container,children:[(0,Vf.jsxs)("div",{className:jf.section.header,children:[(0,Vf.jsx)("h3",{className:jf.section.title,children:"Booking Management"}),(0,Vf.jsxs)("button",{onClick:()=>C(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors space-x-2",children:[(0,Vf.jsx)(Vy,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Add Session"})]})]}),(0,Vf.jsx)("div",{className:"mb-4",children:(0,Vf.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"all",label:"All"},{id:"today",label:"Today"},{id:"week",label:"Week"},{id:"month",label:"Month"}].map((e=>(0,Vf.jsx)("button",{onClick:()=>m(e.id),className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(f===e.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e.label},e.id)))})}),(0,Vf.jsx)("div",{className:"mb-6",children:(0,Vf.jsx)("div",{className:"flex flex-wrap gap-2",children:U.map((e=>(0,Vf.jsxs)("button",{onClick:()=>g(e.id),className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors space-x-2 ".concat(p===e.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,Vf.jsx)("span",{children:e.label}),e.count>0&&(0,Vf.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(p===e.id?"bg-white/20 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:e.count})]},e.id)))})}),0===M.length?(0,Vf.jsxs)("div",{className:"text-center py-12",children:[(0,Vf.jsx)(up,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Vf.jsx)("h3",{className:"text-xl font-medium text-gray-700 dark:text-gray-300 mb-2",children:"No Bookings Found"}),(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"pending"===p?"No pending booking requests to review.":"No ".concat("all"===p?"":p," bookings found for the selected time period.")})]}):(0,Vf.jsx)("div",{className:"space-y-4",children:M.map((e=>{var n,r;const s=P(e),l="pending"===s,c=(e=>{const t=e.paymentInfo;if(!t)return{status:"unknown",color:"gray",text:"Unknown"};const{status:n,totalAmount:r=0,amountPaid:a=0}=t;return"paid"===n||a>=r?{status:"paid",color:"green",text:"Paid"}:"partial"===n||a>0?{status:"partial",color:"yellow",text:"Partial (".concat(a.toFixed(2),")")}:{status:"unpaid",color:"red",text:"Unpaid"}})(e),f=(t.price||t.hourlyRate||0)*R(e.timeSlot)/60;return(0,Vf.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[(0,Vf.jsxs)("div",{className:"flex items-center space-x-3 mb-2 sm:mb-0",children:[(0,Vf.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full",children:(0,Vf.jsx)(Py,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:(m=e.firstName,p=e.lastName,m||p?"".concat(m||""," ").concat(p||"").trim():"Client")}),(0,Vf.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:F(e)}),(0,Vf.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vf.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(V(s)),children:s}),(0,Vf.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("green"===c.color?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"yellow"===c.color?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"red"===c.color?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"),children:["\ud83d\udcb3 ",c.text]}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,Vf.jsx)(cp,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:j(e.date)})]})]})]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Time"}),(0,Vf.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:A(e.timeSlot)})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Duration"}),(0,Vf.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[R(e.timeSlot)," minutes"]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Focus"}),(0,Vf.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(null===(n=e.sessionDetails)||void 0===n?void 0:n.technique)||"General Training"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Revenue"}),(0,Vf.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["$",f.toFixed(0)]})]})]}),e.paymentInfo&&(0,Vf.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Vf.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vf.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[(0,Vf.jsx)(dp,{className:"w-4 h-4 mr-1"}),"Payment Details"]}),(0,Vf.jsx)("button",{onClick:()=>_((t=>u(u({},t),{},{[e.id]:!t[e.id]}))),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:T[e.id]?"Cancel":"Update"})]}),T[e.id]?(0,Vf.jsx)("div",{className:"space-y-2",children:(0,Vf.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Status"}),(0,Vf.jsxs)("select",{defaultValue:e.paymentInfo.status,className:"w-full text-xs px-2 py-1 border rounded dark:bg-gray-700 dark:border-gray-600",onChange:t=>{const n=t.target.value,r=e.paymentInfo.totalAmount||f;let a=e.paymentInfo.amountPaid||0;"paid"===n&&(a=r),"unpaid"===n&&(a=0),O(e.id,{status:n,amountPaid:a,totalAmount:r})},children:[(0,Vf.jsx)("option",{value:"unpaid",children:"Unpaid"}),(0,Vf.jsx)("option",{value:"partial",children:"Partial"}),(0,Vf.jsx)("option",{value:"paid",children:"Paid"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Amount Paid"}),(0,Vf.jsx)("input",{type:"number",defaultValue:e.paymentInfo.amountPaid||0,min:"0",max:e.paymentInfo.totalAmount||f,step:"0.01",className:"w-full text-xs px-2 py-1 border rounded dark:bg-gray-700 dark:border-gray-600",onBlur:t=>{const n=parseFloat(t.target.value)||0,r=e.paymentInfo.totalAmount||f;let a="unpaid";n>=r?a="paid":n>0&&(a="partial"),O(e.id,{status:a,amountPaid:n,totalAmount:r})}})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"}),(0,Vf.jsx)("input",{type:"text",value:"".concat((e.paymentInfo.totalAmount||f).toFixed(2)),readOnly:!0,className:"w-full text-xs px-2 py-1 border rounded bg-gray-50 dark:bg-gray-600"})]})]})}):(0,Vf.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Total:"}),(0,Vf.jsxs)("span",{className:"font-medium ml-1",children:["$",(e.paymentInfo.totalAmount||f).toFixed(2)]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Paid:"}),(0,Vf.jsxs)("span",{className:"font-medium ml-1 text-green-600",children:["$",(e.paymentInfo.amountPaid||0).toFixed(2)]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Due:"}),(0,Vf.jsxs)("span",{className:"font-medium ml-1 text-red-600",children:["$",Math.max((e.paymentInfo.totalAmount||f)-(e.paymentInfo.amountPaid||0),0).toFixed(2)]})]})]})]}),(null===(r=e.sessionDetails)||void 0===r?void 0:r.notes)&&(0,Vf.jsx)("div",{className:"mb-4",children:(0,Vf.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Vf.jsx)(My,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Client Notes"}),(0,Vf.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:e.sessionDetails.notes})]})]})}),l&&e.createdAt&&(0,Vf.jsx)("div",{className:"mb-4",children:(0,Vf.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Requested on ",I(e.createdAt)]})}),l?(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsxs)("div",{className:"mb-4",children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rejection reason (optional)"}),(0,Vf.jsx)("textarea",{value:y[e.id]||"",onChange:t=>{return n=e.id,r=t.target.value,void v((e=>u(u({},e),{},{[n]:r})));var n,r},placeholder:"If rejecting, provide a reason to help the client understand...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",rows:"2"})]}),(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Vf.jsxs)("button",{onClick:()=>(async e=>{x((t=>u(u({},t),{},{[e]:"confirming"}))),a&&(await a(e),h&&setTimeout((()=>h()),1e3)),x((t=>u(u({},t),{},{[e]:null})))})(e.id),disabled:b[e.id]||d,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-medium rounded-lg transition-colors space-x-2",children:[(0,Vf.jsx)(Ly,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"confirming"===b[e.id]?"Accepting...":"Accept"})]}),(0,Vf.jsxs)("button",{onClick:()=>(async e=>{const t=y[e]||"";x((t=>u(u({},t),{},{[e]:"rejecting"}))),i&&(await i(e,t),h&&setTimeout((()=>h()),1e3)),v((t=>u(u({},t),{},{[e]:""}))),x((t=>u(u({},t),{},{[e]:null})))})(e.id),disabled:b[e.id]||d,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium rounded-lg transition-colors space-x-2",children:[(0,Vf.jsx)(Oy,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"rejecting"===b[e.id]?"Rejecting...":"Reject"})]})]})]}):(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Vf.jsxs)("button",{onClick:()=>(e=>{k(e),N(!0)})(e),className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors space-x-2",children:[(0,Vf.jsx)(Fy,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Edit"})]}),(0,Vf.jsxs)("button",{onClick:()=>(async e=>{const t=prompt("Please provide a cancellation reason (optional):")||"";confirm("Are you sure you want to cancel this booking?")&&o&&(await o(e,t),h&&setTimeout((()=>h()),1e3))})(e.id),className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors space-x-2",children:[(0,Vf.jsx)(Uy,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Cancel"})]})]})]},e.id);var m,p}))}),(0,Vf.jsx)(Hy,{coach:t,isOpen:E,onClose:()=>C(!1),onSave:async e=>{l&&(await l(e),C(!1),h&&setTimeout((()=>h()),1e3))},loading:d}),(0,Vf.jsx)(zy,{booking:w,coach:t,isOpen:S,onClose:()=>{N(!1),k(null)},onSave:async(e,t)=>{s&&(await s(e,t),N(!1),k(null),h&&setTimeout((()=>h()),1e3))},loading:d})]})}const Wy=Lf("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Qy=e=>{let{value:t,onChange:n,className:r,isDefaultSlot:a}=e;const{hour:i,minute:s,period:o}=(e=>{if(!e)return{hour:"12",minute:"00",period:"AM"};const[t,n]=e.split(":"),r=parseInt(t),a=r>=12?"PM":"AM";return{hour:(0===r?12:r>12?r-12:r).toString().padStart(2,"0"),minute:n,period:a}})(t),l=(e,t,r)=>{const a=((e,t,n)=>{let r=parseInt(e);return"AM"===n&&12===r&&(r=0),"PM"===n&&12!==r&&(r+=12),"".concat(r.toString().padStart(2,"0"),":").concat(t)})(e||i,t||s,r||o);n(a)},c=Array.from({length:12},((e,t)=>{const n=(t+1).toString().padStart(2,"0");return(0,Vf.jsx)("option",{value:n,children:n},n)})),u=Array.from({length:12},((e,t)=>{const n=(5*t).toString().padStart(2,"0");return(0,Vf.jsx)("option",{value:n,children:n},n)})),d=a?"border-dashed border-2 border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"";return(0,Vf.jsxs)("div",{className:"inline-flex items-center border border-gray-300 dark:border-stone-600 rounded-md shadow-sm bg-white dark:bg-stone-900 ".concat(d," ").concat(r||""),children:[(0,Vf.jsx)("select",{value:i,onChange:e=>l(e.target.value,s,o),className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm text-center min-h-[44px] w-10 sm:w-12",children:c}),(0,Vf.jsx)("span",{className:"px-2 py-2 dark:text-white text-sm",children:":"}),(0,Vf.jsx)("select",{value:s,onChange:e=>l(i,e.target.value,o),className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm text-center min-h-[44px] w-10 sm:w-12",children:u}),(0,Vf.jsxs)("select",{value:o,onChange:e=>l(i,s,e.target.value),className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm text-center min-h-[44px] border-l border-gray-200 dark:border-stone-600 w-12 sm:w-14",children:[(0,Vf.jsx)("option",{value:"AM",children:"AM"}),(0,Vf.jsx)("option",{value:"PM",children:"PM"})]})]})},Ky=e=>{let{value:t,onChange:n,className:a}=e;const[i,s]=(0,r.useState)(t||"30"),o=Array.from({length:24},((e,t)=>{const n=10+10*t;return(0,Vf.jsx)("option",{value:n,children:n},n)}));return(0,Vf.jsxs)("div",{className:"inline-flex items-center border border-gray-300 dark:border-stone-600 rounded-md shadow-sm bg-white dark:bg-stone-900 ".concat(a||""),children:[(0,Vf.jsx)("select",{value:i,onChange:e=>{return t=e.target.value,s(t),void n(t);var t},className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm text-center min-h-[44px] w-16",children:o}),(0,Vf.jsx)("span",{className:"px-2 py-2 dark:text-white text-sm border-l border-gray-200 dark:border-stone-600",children:"mins"})]})},Gy=e=>{let{value:t,onChange:n,min:r,className:a}=e;return(0,Vf.jsx)("input",{type:"date",value:t,onChange:e=>n(e.target.value),min:r,className:"px-3 py-2 border border-gray-300 dark:border-stone-600 rounded bg-white dark:bg-stone-900 text-gray-900 dark:text-white text-sm ".concat(a||"")})},Yy=e=>"00:00"===e.start&&"00:00"===e.end;function $y(e){let{weeklyAvailability:t,setWeeklyAvailability:n,onAvailabilityUpdate:r,loading:a}=e;const s=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],l=e=>{if(!e)return 0;const[t,n]=e.split(":").map(Number);return 60*t+n},c=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},d=e=>{if(!e||0===Object.keys(e).length)return{};const t=Object.entries(e).sort(((e,t)=>{let[,n]=e,[,r]=t;const a=Yy(n),i=Yy(r);return a&&!i?1:!a&&i?-1:a&&i?0:l(n.start)-l(r.start)}));return Object.fromEntries(t)},h=e=>{if(!e||Object.keys(e).length<2)return!1;const t=Object.values(e).filter((e=>!Yy(e))).map((e=>({start:l(e.start),end:l(e.end)}))).sort(((e,t)=>e.start-t.start));for(let n=0;n<t.length-1;n++)if(t[n].end>t[n+1].start)return!0;return!1},f=(e,t,r,a)=>{n((n=>{var i;return u(u({},n),{},{[e]:u(u({},n[e]||{}),{},{[t]:u(u({},(null===(i=n[e])||void 0===i?void 0:i[t])||{}),{},{[r]:a})})})}))},m=(e,t)=>{n((n=>{const r=n[e]||{},{[t]:a}=r,s=i(r,[t].map(o));return u(u({},n),{},{[e]:s})}))};return(0,Vf.jsxs)(Vf.Fragment,{children:[s.map((e=>(0,Vf.jsxs)("div",{className:"border dark:border-stone-700 rounded-lg p-3 sm:p-4 mb-4 bg-gray-50 dark:bg-black",children:[(0,Vf.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vf.jsx)("h4",{className:"font-medium capitalize dark:text-white",children:e}),(0,Vf.jsxs)("button",{onClick:()=>(e=>{const r=t[e]||{},a=Object.keys(r).map((e=>parseInt(e))).filter((e=>!isNaN(e))),i=a.length>0?Math.max(...a)+1:0;n((t=>u(u({},t),{},{[e]:u(u({},t[e]||{}),{},{[i]:{start:"00:00",end:"00:00",minSessionLength:"30",maxSessionLength:"120"}})})))})(e),className:"inline-flex items-center px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white text-sm rounded transition-colors space-x-1",children:[(0,Vf.jsx)(Vy,{className:"w-3 h-3"}),(0,Vf.jsx)("span",{children:"Add Slot"})]})]}),(0,Vf.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[h(t[e])&&(0,Vf.jsx)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded",children:(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[(0,Vf.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Vf.jsx)("span",{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",children:"\u26a0\ufe0f"}),(0,Vf.jsx)("span",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"You have overlapping time slots. Would you like to merge them to avoid conflicts?"})]}),(0,Vf.jsx)("button",{onClick:()=>(e=>{const r=t[e]||{};if(Object.keys(r).length<2)return;const a=Object.entries(r).filter((e=>{let[,t]=e;return!Yy(t)})).map((e=>{let[t,n]=e;return u(u({key:t},n),{},{startMinutes:l(n.start),endMinutes:l(n.end)})})).sort(((e,t)=>e.startMinutes-t.startMinutes));if(a.length<2)return;const i=[],s=new Set;let o=u({},a[0]);for(let t=1;t<a.length;t++){const e=a[t];o.endMinutes>e.startMinutes?(o.endMinutes=Math.max(o.endMinutes,e.endMinutes),o.minSessionLength=Math.min(parseInt(o.minSessionLength),parseInt(e.minSessionLength)).toString(),o.maxSessionLength=Math.max(parseInt(o.maxSessionLength),parseInt(e.maxSessionLength)).toString(),s.add(e.key)):(i.push(o),o=u({},e))}i.push(o),n((t=>{const n=u({},t[e]);if(s.forEach((e=>{delete n[e]})),i.length>0){const e=i[0];n[e.key]={start:c(e.startMinutes),end:c(e.endMinutes),minSessionLength:e.minSessionLength,maxSessionLength:e.maxSessionLength}}return u(u({},t),{},{[e]:n})}))})(e),className:"px-3 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-sm rounded transition-colors w-full sm:w-auto sm:ml-3 whitespace-nowrap",children:"Merge Slots"})]})}),Object.values(t[e]||{}).some((e=>Yy(e)))&&(0,Vf.jsx)("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded text-sm text-blue-800 dark:text-blue-300",children:"\ud83d\udca1 New slots start at 12:00 AM - 12:00 AM. Please update them with your actual availability times."}),Object.entries(d(t[e]||{})).map(((t,n)=>{let[r,a]=t;return(0,Vf.jsxs)("div",{children:[n>0&&(0,Vf.jsx)("div",{className:"border-t border-gray-300 dark:border-stone-600 mx-3 mb-3"}),(0,Vf.jsxs)("div",{className:"rounded-lg p-3",children:[(0,Vf.jsxs)("div",{className:"block sm:hidden space-y-3",children:[(0,Vf.jsxs)("div",{className:"space-y-2",children:[0===n&&(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 block mb-2",children:"Time Range"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Start:"}),(0,Vf.jsx)(Qy,{value:a.start||"00:00",onChange:t=>f(e,r,"start",t),isDefaultSlot:Yy(a)})]}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Stop:"}),(0,Vf.jsx)(Qy,{value:a.end||"00:00",onChange:t=>f(e,r,"end",t),isDefaultSlot:Yy(a)})]})]}),(0,Vf.jsxs)("div",{className:"space-y-2",children:[0===n&&(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 block mb-2",children:"Session Duration"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Min:"}),(0,Vf.jsx)(Ky,{value:a.minSessionLength||"30",onChange:t=>f(e,r,"minSessionLength",t)})]}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Max:"}),(0,Vf.jsx)(Ky,{value:a.maxSessionLength||"120",onChange:t=>f(e,r,"maxSessionLength",t)})]})]}),(0,Vf.jsx)("div",{className:"flex justify-end pt-1",children:(0,Vf.jsx)("button",{onClick:()=>m(e,r),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded transition-colors",children:(0,Vf.jsx)(Uy,{className:"w-3 h-3 sm:w-4 sm:h-4"})})})]}),(0,Vf.jsxs)("div",{className:"hidden sm:flex sm:items-start sm:justify-between sm:gap-8",children:[(0,Vf.jsxs)("div",{className:"flex flex-wrap gap-8 lg:gap-12 flex-1",children:[(0,Vf.jsxs)("div",{className:"flex flex-col space-y-2 flex-shrink-0 min-w-0",children:[0===n&&(0,Vf.jsx)("span",{className:"dark:text-white text-sm font-medium",children:"Time Range"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-y-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Start:"}),(0,Vf.jsx)(Qy,{value:a.start||"00:00",onChange:t=>f(e,r,"start",t),isDefaultSlot:Yy(a)}),(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Stop:"}),(0,Vf.jsx)(Qy,{value:a.end||"00:00",onChange:t=>f(e,r,"end",t),isDefaultSlot:Yy(a)})]})]}),(0,Vf.jsxs)("div",{className:"flex flex-col space-y-2 flex-shrink-0 min-w-0",children:[0===n&&(0,Vf.jsx)("span",{className:"dark:text-white text-sm font-medium",children:"Session Duration"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-y-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Min:"}),(0,Vf.jsx)(Ky,{value:a.minSessionLength||"30",onChange:t=>f(e,r,"minSessionLength",t)}),(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Max:"}),(0,Vf.jsx)(Ky,{value:a.maxSessionLength||"120",onChange:t=>f(e,r,"maxSessionLength",t)})]})]})]}),(0,Vf.jsx)("button",{onClick:()=>m(e,r),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded transition-colors min-h-[36px] sm:min-h-[44px] min-w-[36px] sm:min-w-[44px] flex items-center justify-center flex-shrink-0 ".concat(0===n?"mt-4 sm:mt-6":""),children:(0,Vf.jsx)(Uy,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]},r)})),0===Object.keys(d(t[e]||{})).length&&(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400 italic text-sm text-center py-4",children:"No availability set"})]})]},e))),(0,Vf.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Vf.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Smart Time Management"}),(0,Vf.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:"New slots start at 12:00 AM - 12:00 AM and won't cause conflicts until you set real times. Time slots are automatically sorted by start time. When overlaps are detected, you can choose to merge them with a single click."})]}),(0,Vf.jsxs)("div",{className:"".concat(jf.form.buttonGroup," flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 mt-6"),children:[(0,Vf.jsxs)("button",{onClick:async()=>{r&&await r(t)},disabled:a,className:"".concat(jf.form.primaryButton," flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] w-full sm:w-auto text-base ").concat(a?"cursor-wait":""),children:[(0,Vf.jsx)(Wy,{className:"w-5 h-5"}),(0,Vf.jsx)("span",{children:a?"Saving...":"Save Changes"})]}),(0,Vf.jsx)("button",{onClick:()=>{const e={};s.forEach((t=>{e[t]="sunday"===t?{}:"saturday"===t?{0:{start:"10:00",end:"15:00",minSessionLength:"30",maxSessionLength:"120"}}:{0:{start:"17:00",end:"21:00",minSessionLength:"30",maxSessionLength:"120"}}})),n(e)},disabled:a,className:"".concat(jf.form.secondaryButton," disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] w-full sm:w-auto text-base"),children:"Reset to Default"})]})]})}const Xy=e=>"00:00"===e.start&&"00:00"===e.end;function Jy(e){let{customAvailability:t,setCustomAvailability:n,onCustomAvailabilityUpdate:r,loading:a}=e;const s=(new Date).toISOString().split("T")[0],l=(e,t,r,a)=>{n((n=>{var i;return u(u({},n),{},{[e]:u(u({},n[e]||{}),{},{[t]:u(u({},(null===(i=n[e])||void 0===i?void 0:i[t])||{}),{},{[r]:a})})})}))},c=(e,t)=>{n((n=>{const r=n[e]||{},{[t]:a}=r,s=i(r,[t].map(o));if(0===Object.keys(s).length){const{[e]:t}=n;return i(n,[e].map(o))}return u(u({},n),{},{[e]:s})}))},d=Object.keys(t).sort();return(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("div",{className:"mb-6",children:(0,Vf.jsxs)("button",{onClick:()=>{const e=s;n((t=>u(u({},t),{},{[e]:{0:{start:"00:00",end:"00:00",minSessionLength:"30",maxSessionLength:"120"}}})))},className:"inline-flex items-center px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded transition-colors space-x-2",children:[(0,Vf.jsx)(Vy,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Add Custom Date"})]})}),0===d.length?(0,Vf.jsxs)("div",{className:"text-center py-8",children:[(0,Vf.jsx)(cp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No custom dates set"}),(0,Vf.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Add custom availability for specific dates that differ from your weekly schedule"})]}):(0,Vf.jsx)("div",{className:"space-y-6",children:d.map((e=>(0,Vf.jsxs)("div",{className:"border dark:border-stone-700 rounded-lg p-4 bg-gray-50 dark:bg-black",children:[(0,Vf.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0",children:[(0,Vf.jsx)(Gy,{value:e,onChange:r=>((e,r)=>{r===e||t[r]||n((t=>{const{[e]:n}=t;return u(u({},i(t,[e].map(o))),{},{[r]:n})}))})(e,r),min:s,className:"font-medium"}),(0,Vf.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",new Date(e+"T12:00:00").toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),")"]})]}),(0,Vf.jsxs)("button",{onClick:()=>(e=>{const r=t[e]||{},a=Object.keys(r).map((e=>parseInt(e))).filter((e=>!isNaN(e))),i=a.length>0?Math.max(...a)+1:0;n((t=>u(u({},t),{},{[e]:u(u({},t[e]||{}),{},{[i]:{start:"00:00",end:"00:00",minSessionLength:"30",maxSessionLength:"120"}})})))})(e),className:"inline-flex items-center px-2 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded transition-colors space-x-1",children:[(0,Vf.jsx)(Vy,{className:"w-3 h-3"}),(0,Vf.jsx)("span",{children:"Slot"})]})]}),(0,Vf.jsxs)("div",{className:"space-y-3",children:[Object.entries(t[e]||{}).map(((t,n)=>{let[r,a]=t;return(0,Vf.jsxs)("div",{children:[n>0&&(0,Vf.jsx)("div",{className:"border-t border-gray-300 dark:border-stone-600 mx-3 mb-3"}),(0,Vf.jsxs)("div",{className:"rounded-lg p-3",children:[(0,Vf.jsxs)("div",{className:"block sm:hidden space-y-3",children:[(0,Vf.jsxs)("div",{className:"space-y-2",children:[0===n&&(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 block mb-2",children:"Time Range"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Start:"}),(0,Vf.jsx)(Qy,{value:a.start||"00:00",onChange:t=>l(e,r,"start",t),isDefaultSlot:Xy(a)})]}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Stop:"}),(0,Vf.jsx)(Qy,{value:a.end||"00:00",onChange:t=>l(e,r,"end",t),isDefaultSlot:Xy(a)})]})]}),(0,Vf.jsxs)("div",{className:"space-y-2",children:[0===n&&(0,Vf.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 block mb-2",children:"Session Duration"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Min:"}),(0,Vf.jsx)(Ky,{value:a.minSessionLength||"30",onChange:t=>l(e,r,"minSessionLength",t)})]}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm w-12",children:"Max:"}),(0,Vf.jsx)(Ky,{value:a.maxSessionLength||"120",onChange:t=>l(e,r,"maxSessionLength",t)})]})]}),(0,Vf.jsx)("div",{className:"flex justify-end pt-1",children:(0,Vf.jsx)("button",{onClick:()=>c(e,r),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded transition-colors",children:(0,Vf.jsx)(Uy,{className:"w-3 h-3 sm:w-4 sm:h-4"})})})]}),(0,Vf.jsxs)("div",{className:"hidden sm:flex sm:items-start sm:justify-between sm:gap-8",children:[(0,Vf.jsxs)("div",{className:"flex flex-wrap gap-8 lg:gap-12 flex-1",children:[(0,Vf.jsxs)("div",{className:"flex flex-col space-y-2 flex-shrink-0 min-w-0",children:[0===n&&(0,Vf.jsx)("span",{className:"dark:text-white text-sm font-medium",children:"Time Range"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-y-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Start:"}),(0,Vf.jsx)(Qy,{value:a.start||"00:00",onChange:t=>l(e,r,"start",t),isDefaultSlot:Xy(a)}),(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Stop:"}),(0,Vf.jsx)(Qy,{value:a.end||"00:00",onChange:t=>l(e,r,"end",t),isDefaultSlot:Xy(a)})]})]}),(0,Vf.jsxs)("div",{className:"flex flex-col space-y-2 flex-shrink-0 min-w-0",children:[0===n&&(0,Vf.jsx)("span",{className:"dark:text-white text-sm font-medium",children:"Session Duration"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-y-2",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Min:"}),(0,Vf.jsx)(Ky,{value:a.minSessionLength||"30",onChange:t=>l(e,r,"minSessionLength",t)}),(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Max:"}),(0,Vf.jsx)(Ky,{value:a.maxSessionLength||"120",onChange:t=>l(e,r,"maxSessionLength",t)})]})]})]}),(0,Vf.jsx)("button",{onClick:()=>c(e,r),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded transition-colors min-h-[36px] sm:min-h-[44px] min-w-[36px] sm:min-w-[44px] flex items-center justify-center flex-shrink-0 ".concat(0===n?"mt-4 sm:mt-6":""),children:(0,Vf.jsx)(Uy,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]},r)})),0===Object.keys(t[e]||{}).length&&(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400 italic text-sm text-center py-4",children:"No time slots set for this date"})]}),(0,Vf.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-stone-600",children:(0,Vf.jsxs)("button",{onClick:()=>(e=>{n((t=>{const{[e]:n}=t;return i(t,[e].map(o))}))})(e),className:"inline-flex items-center px-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-400 rounded transition-colors space-x-2 text-sm",children:[(0,Vf.jsx)(Uy,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Delete Date"})]})})]},e)))}),(0,Vf.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Vf.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Custom Date Availability"}),(0,Vf.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:"Set specific availability for dates that differ from your weekly schedule. Custom dates override your weekly availability for those specific days."})]}),(0,Vf.jsx)("div",{className:"mt-6",children:(0,Vf.jsxs)("button",{onClick:async()=>{r&&await r(t)},disabled:a,className:"".concat(jf.form.primaryButton," flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] w-full sm:w-auto text-base ").concat(a?"cursor-wait":""),children:[(0,Vf.jsx)(Wy,{className:"w-5 h-5"}),(0,Vf.jsx)("span",{children:a?"Saving...":"Save Custom Dates"})]})})]})}function Zy(e){let{unavailableDates:t,setUnavailableDates:n,onUnavailableDatesUpdate:r,loading:a}=e;const i=(new Date).toISOString().split("T")[0];return(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("div",{className:"mb-6",children:(0,Vf.jsxs)("button",{onClick:()=>{let e=i,r=new Date(i);for(;(t||[]).includes(e);)r.setDate(r.getDate()+1),e=r.toISOString().split("T")[0];n((t=>[...t||[],e].sort()))},className:"inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded transition-colors space-x-2",children:[(0,Vf.jsx)(By,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Add Unavailable Date"})]})}),0===(t||[]).length?(0,Vf.jsxs)("div",{className:"text-center py-8",children:[(0,Vf.jsx)(By,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No unavailable dates set"}),(0,Vf.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Block out dates when you're not available for training sessions"})]}):(0,Vf.jsx)("div",{className:"space-y-3",children:(t||[]).sort().map((e=>(0,Vf.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-black border dark:border-stone-700 rounded-lg",children:[(0,Vf.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vf.jsx)(Gy,{value:e,onChange:r=>((e,r)=>{r===e||(t||[]).includes(r)||n((t=>(t||[]).map((t=>t===e?r:t)).sort()))})(e,r),min:i,className:"font-medium"}),(0,Vf.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",new Date(e+"T12:00:00").toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),")"]})]}),(0,Vf.jsx)("button",{onClick:()=>(e=>{n((t=>(t||[]).filter((t=>t!==e))))})(e),className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded transition-colors",children:(0,Vf.jsx)(Uy,{className:"w-4 h-4"})})]},e)))}),(0,Vf.jsxs)("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,Vf.jsx)("h4",{className:"font-medium text-red-900 dark:text-red-300 mb-2",children:"Unavailable Dates"}),(0,Vf.jsx)("p",{className:"text-sm text-red-800 dark:text-red-400",children:"Mark dates when you're completely unavailable. These dates will be blocked from booking regardless of your weekly or custom availability settings."})]}),(0,Vf.jsx)("div",{className:"mt-6",children:(0,Vf.jsxs)("button",{onClick:async()=>{r&&await r(t)},disabled:a,className:"".concat(jf.form.primaryButton," flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] w-full sm:w-auto text-base ").concat(a?"cursor-wait":""),children:[(0,Vf.jsx)(Wy,{className:"w-5 h-5"}),(0,Vf.jsx)("span",{children:a?"Saving...":"Save Unavailable Dates"})]})})]})}function ev(e){let{availability:t,onAvailabilityUpdate:n,onCustomAvailabilityUpdate:a,onUnavailableDatesUpdate:i,loading:s}=e;const[o,l]=(0,r.useState)("weekly"),[c,u]=(0,r.useState)({}),[d,h]=(0,r.useState)({}),[f,m]=(0,r.useState)([]),p=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];(0,r.useEffect)((()=>{if(null!==t&&void 0!==t&&t.weeklyAvailability)u(t.weeklyAvailability);else{const e={};p.forEach((t=>{e[t]={}})),u(e)}null!==t&&void 0!==t&&t.customAvailability?h(t.customAvailability):h({}),null!==t&&void 0!==t&&t.unavailableDates&&Array.isArray(t.unavailableDates)?m(t.unavailableDates):m([])}),[t]);const g=[{id:"weekly",label:"Weekly Schedule",icon:cp},{id:"custom",label:"Custom Dates",icon:Vy},{id:"unavailable",label:"Unavailable",icon:By}];return(0,Vf.jsxs)("div",{className:jf.section.container,children:[(0,Vf.jsxs)("div",{className:jf.section.header,children:[(0,Vf.jsx)("h3",{className:jf.section.title,children:"Availability Management"}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your weekly schedule, custom dates, and unavailable periods."})]}),(0,Vf.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:(0,Vf.jsx)("nav",{className:"flex space-x-8",children:g.map((e=>{const t=e.icon;return(0,Vf.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors ".concat(o===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"),children:[(0,Vf.jsx)(t,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:e.label})]},e.id)}))})}),(0,Vf.jsxs)("div",{className:jf.section.content,children:["weekly"===o&&(0,Vf.jsx)($y,{weeklyAvailability:c,setWeeklyAvailability:u,onAvailabilityUpdate:n,loading:s}),"custom"===o&&(0,Vf.jsx)(Jy,{customAvailability:d,setCustomAvailability:h,onCustomAvailabilityUpdate:a,loading:s}),"unavailable"===o&&(0,Vf.jsx)(Zy,{unavailableDates:f,setUnavailableDates:m,onUnavailableDatesUpdate:i,loading:s})]})]})}function tv(e){var t,n;let{coach:a,onPricingUpdate:i,loading:s}=e;const[o,l]=(0,r.useState)(a.price||a.hourlyRate||""),[c,u]=(0,r.useState)((null===(t=a.discounts)||void 0===t?void 0:t.fiveHour)||5),[d,h]=(0,r.useState)((null===(n=a.discounts)||void 0===n?void 0:n.tenHour)||10),f=e=>t=>{const n=t.target.value;(""===n||!isNaN(n)&&parseInt(n)>=0&&parseInt(n)<=100)&&e(""===n?"":parseInt(n))},m=(e,t)=>((o||0)*e*(1-(t||0)/100)).toFixed(0),p=e=>((o||0)*(1-(e||0)/100)).toFixed(0),g=[{title:"Single Session",description:"1 hour training session",price:o||0,pricePerHour:null},{title:"5-Hour Package",description:"".concat(c,"% discount applied"),price:m(5,c),pricePerHour:p(c)},{title:"10-Hour Package",description:"".concat(d,"% discount applied"),price:m(10,d),pricePerHour:p(d)}];return(0,Vf.jsxs)("div",{className:jf.section.container,children:[(0,Vf.jsxs)("div",{className:jf.section.header,children:[(0,Vf.jsx)("h3",{className:jf.section.title,children:"Pricing Management"}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Set your hourly rate and package discounts. Default rate is $50/hour if left empty."})]}),(0,Vf.jsx)("div",{className:jf.section.content,children:(0,Vf.jsxs)("div",{className:jf.form.group,children:[(0,Vf.jsx)("div",{className:"border dark:border-stone-700 rounded-lg p-4 bg-gray-50 dark:bg-black",children:(0,Vf.jsxs)("div",{className:"space-y-4 lg:space-y-0 lg:flex lg:items-end lg:space-x-8",children:[(0,Vf.jsxs)("div",{className:"flex-shrink-0",children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Hourly Rate"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"$"}),(0,Vf.jsx)("input",{type:"text",value:o,onChange:e=>{const t=e.target.value;(""===t||!isNaN(t)&&parseInt(t)>=0)&&l(""===t?"":parseInt(t))},placeholder:"50",className:"w-20 lg:w-24 px-3 py-2 border border-gray-300 dark:border-stone-600 rounded bg-white dark:bg-stone-900 text-gray-900 dark:text-white text-center"}),(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"/hr"})]}),(!o||0===o)&&(0,Vf.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Defaults to $50"})]}),(0,Vf.jsxs)("div",{className:"flex-shrink-0",children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"5-Hour Discount"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("input",{type:"text",value:c,onChange:f(u),placeholder:"5",className:"w-20 lg:w-24 px-3 py-2 border border-gray-300 dark:border-stone-600 rounded bg-white dark:bg-stone-900 text-gray-900 dark:text-white text-center"}),(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"%"})]})]}),(0,Vf.jsxs)("div",{className:"flex-shrink-0",children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"10-Hour Discount"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vf.jsx)("input",{type:"text",value:d,onChange:f(h),placeholder:"10",className:"w-20 lg:w-24 px-3 py-2 border border-gray-300 dark:border-stone-600 rounded bg-white dark:bg-stone-900 text-gray-900 dark:text-white text-center"}),(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"%"})]})]})]})}),(0,Vf.jsxs)("div",{className:"space-y-3",children:[(0,Vf.jsx)("h4",{className:"font-medium dark:text-white",children:"Package Preview"}),(0,Vf.jsx)("div",{className:"space-y-3",children:g.map(((e,t)=>(0,Vf.jsx)("div",{className:"border dark:border-stone-700 rounded-lg p-3 sm:p-4 bg-gray-50 dark:bg-black",children:(0,Vf.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:e.title}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,Vf.jsxs)("div",{className:"text-right",children:[(0,Vf.jsxs)("p",{className:"font-bold text-lg dark:text-white",children:["$",e.price]}),e.pricePerHour&&(0,Vf.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",e.pricePerHour,"/hour"]})]})]})},t)))})]}),(0,Vf.jsx)("div",{className:jf.form.buttonGroup,children:(0,Vf.jsx)("button",{onClick:async()=>{const e=o&&0!==o?parseInt(o):50,t={hourlyRate:e,discounts:{fiveHour:parseInt(c)||5,tenHour:parseInt(d)||10}};i&&(await i(t),l(e))},disabled:s,className:"".concat(jf.form.primaryButton," disabled:opacity-50 disabled:cursor-not-allowed ").concat(s?"cursor-wait":""),children:s?"Updating...":"Update Pricing"})})]})})]})}const nv=Lf("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);function rv(e){let{coachId:t,currentPhoto:n,onPhotoUpdate:a}=e;const[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null);return(0,Vf.jsxs)("div",{className:"space-y-3",children:[(0,Vf.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Vf.jsxs)("div",{className:"relative",children:[(0,Vf.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const n=e.target.files[0];if(n&&t)if(n.type.startsWith("image/"))if(n.size>5242880)l("File size must be less than 5MB.");else{s(!0),l(null);try{const e=Date.now(),s=n.name.split(".").pop(),o="".concat(e,".").concat(s),l=(r=op,i="profile-photos/".concat(t,"/").concat(o),Jm(r=Gt(r),i));await function(e,t,n){return Gm(e=Gt(e),t,n)}(l,n);const c=await function(e){return Ym(e=Gt(e))}(l);await $h(lh(sp,"trainers","coach_".concat(t)),{photoURL:c}),a&&a(c),console.log("Photo uploaded successfully:",c)}catch(o){console.error("Upload error:",o),l("Failed to upload photo. Please try again.")}finally{s(!1)}var r,i}else l("Please select an image file.")},className:"hidden",id:"photo-upload-".concat(t),disabled:i}),(0,Vf.jsx)("label",{htmlFor:"photo-upload-".concat(t),className:"".concat(jf.form.secondaryButton," cursor-pointer ").concat(i?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:i?"Uploading...":"Change Photo"})]}),o&&(0,Vf.jsx)("p",{className:"text-red-500 text-sm text-center",children:o}),i&&(0,Vf.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vf.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,Vf.jsx)("p",{className:"text-gray-400 text-sm",children:"Uploading photo..."})]})]}),(0,Vf.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Supported formats: JPG, PNG, GIF (max 5MB)"})]})}function av(e){let{coach:t,editingProfile:n,setEditingProfile:a,onProfileUpdate:i,loading:s}=e;const[o,l]=(0,r.useState)({name:t.name||"",email:t.email||"",phone:t.phone||"",specialties:t.specialties||[],bio:t.bio||"",experience:t.experience||""}),c=(e,t)=>{l((n=>u(u({},n),{},{[e]:t})))};return(0,Vf.jsxs)("div",{className:jf.section.container,children:[(0,Vf.jsxs)("div",{className:jf.section.header,children:[(0,Vf.jsx)("h3",{className:jf.section.title,children:"Profile Information"}),(0,Vf.jsxs)("button",{onClick:()=>a(!n),className:"".concat(jf.form.primaryButton," flex items-center space-x-1"),children:[n?(0,Vf.jsx)(By,{className:"w-4 h-4"}):(0,Vf.jsx)(nv,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:n?"Cancel":"Edit"})]})]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Vf.jsx)("div",{className:"md:col-span-1",children:(0,Vf.jsxs)("div",{className:"text-center",children:[(0,Vf.jsx)("img",{src:t.photoURL||t.image||t.avatar||"/default-avatar.png",alt:t.name,className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover border-4 border-gray-200 dark:border-gray-600",onError:e=>{e.target.src="/default-avatar.png"}}),n&&(0,Vf.jsx)("div",{className:"mt-4",children:(0,Vf.jsx)(rv,{coachId:t.id,currentPhoto:t.photoURL||t.image||t.avatar})})]})}),(0,Vf.jsx)("div",{className:"md:col-span-2",children:(0,Vf.jsxs)("div",{className:jf.form.group,children:[(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Full Name"}),n?(0,Vf.jsx)("input",{type:"text",value:o.name,onChange:e=>c("name",e.target.value),className:jf.form.input}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.name||"Not set"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Email"}),n?(0,Vf.jsx)("input",{type:"email",value:o.email,onChange:e=>c("email",e.target.value),className:jf.form.input}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.email||"Not set"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Phone"}),n?(0,Vf.jsx)("input",{type:"tel",value:o.phone,onChange:e=>c("phone",e.target.value),className:jf.form.input}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.phone||"Not set"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Experience (years)"}),n?(0,Vf.jsx)("input",{type:"number",value:o.experience,onChange:e=>c("experience",e.target.value),className:jf.form.input}):(0,Vf.jsxs)("p",{className:"dark:text-white",children:[t.experience||"Not set"," years"]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Specialties"}),n?(0,Vf.jsx)("input",{type:"text",value:o.specialties.join(", "),onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e));l((e=>u(u({},e),{},{specialties:t})))})(e.target.value),placeholder:"Weight Training, HIIT, Nutrition",className:jf.form.input}):(0,Vf.jsx)("div",{className:"flex flex-wrap gap-2",children:t.specialties&&t.specialties.length>0?t.specialties.map((e=>(0,Vf.jsx)("span",{className:"".concat(yf.badge," bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:e},e))):(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No specialties set"})})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:jf.form.label,children:"Bio"}),n?(0,Vf.jsx)("textarea",{value:o.bio,onChange:e=>c("bio",e.target.value),rows:3,placeholder:"Tell clients about yourself...",className:jf.form.textarea}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.bio||"No bio available"})]}),n&&(0,Vf.jsxs)("div",{className:jf.form.buttonGroup,children:[(0,Vf.jsx)("button",{onClick:async()=>{i&&await i(o),a(!1)},disabled:s,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed ".concat(s?"cursor-wait":""),children:s?"Saving...":"Save Changes"}),(0,Vf.jsx)("button",{onClick:()=>{l({name:t.name||"",email:t.email||"",phone:t.phone||"",specialties:t.specialties||[],bio:t.bio||"",experience:t.experience||""}),a(!1)},disabled:s,className:"".concat(jf.form.secondaryButton," disabled:opacity-50 disabled:cursor-not-allowed"),children:"Cancel"})]})]})})]})]})}function iv(e){let{trainers:t=[],bookings:n=[],availability:a=[],onDataReload:i}=e;const{trainerId:s}=pe();console.log("paramId",s);const o=s||"nique";console.log("trainers",t),console.log(t.map((e=>e.id))),console.log("coachId",o);const[l,c]=(0,r.useState)("overview"),[d,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),y=(0,r.useMemo)((()=>t.find((e=>e.id===o))||{}),[t,o]),v=(0,r.useMemo)((()=>n.find((e=>e.id===o))||null),[n,o]);console.log("coachBookingData",v);const b=(0,r.useMemo)((()=>null!==v&&void 0!==v&&v.bookings?Object.entries(v.bookings).map((e=>{let[t,n]=e;return u(u({id:t},n),{},{status:n.status||"pending"})})):[]),[v]);console.log("coachBookings",b);const x=(0,r.useMemo)((()=>a.find((e=>e.id===o))||{}),[a,o]);console.log("coachAvailability",x);const w=(0,r.useMemo)((()=>{const e=new Date,t=e.toISOString().split("T")[0],n=b.filter((e=>e.date===t)),r=new Date(e.getTime()+6048e5),a=b.filter((t=>{const n=new Date(t.date);return n>=e&&n<=r})),i=a.reduce(((e,t)=>e+(y.price||y.hourlyRate||0)*(t.duration||60)/60),0);return{todayBookings:n,weekBookings:a,totalEarnings:i,todayCount:n.length,weekCount:a.length}}),[b,y]),k=[{id:"overview",label:"Overview",icon:lp},{id:"bookings",label:"Bookings",icon:cp},{id:"availability",label:"Availability",icon:up},{id:"pricing",label:"Pricing",icon:dp},{id:"profile",label:"Profile",icon:hp}];if(!y||!y.id)return(0,Vf.jsx)("div",{className:jf.layout,children:(0,Vf.jsx)("div",{className:jf.mainContent,children:(0,Vf.jsx)("div",{className:jf.section.container,children:(0,Vf.jsxs)("div",{className:"text-center",children:[(0,Vf.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Coach not found"}),(0,Vf.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Coach ID: ",o]})]})})})});const S=async e=>{m(!0);const t=await(async(e,t)=>{try{const n=lh(sp,"trainers","coach_".concat(e));return await $h(n,t),{success:!0}}catch(n){return console.error("Error updating coach profile:",n),{success:!1,error:n.message}}})(o,e);t.success?g("Profile updated successfully!"):g("Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},N=async e=>{m(!0);const t=await(async(e,t)=>{try{const n=lh(sp,"availability","coach_".concat(e));return await $h(n,{weeklyAvailability:t}),{success:!0}}catch(n){return console.error("Error updating availability:",n),{success:!1,error:n.message}}})(o,e);t.success?g("Availability updated successfully!"):g("Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},E=async e=>{m(!0);const t=await(async(e,t)=>{try{const n=lh(sp,"availability","coach_".concat(e));return await $h(n,{customAvailability:t}),{success:!0}}catch(n){return console.error("Error updating custom availability:",n),{success:!1,error:n.message}}})(o,e);t.success?g("Custom Availability updated successfully!"):g("Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},C=async e=>{m(!0);const t=await(async(e,t)=>{try{const n=lh(sp,"availability","coach_".concat(e));return await $h(n,{unavailableDates:t}),{success:!0}}catch(n){return console.error("Error updating unavailable dates:",n),{success:!1,error:n.message}}})(o,e);t.success?g("Unavailable Dates updated successfully!"):g("Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},T=async e=>{m(!0);const t=await(async(e,t)=>{try{const n=lh(sp,"trainers","coach_".concat(e));return await $h(n,{price:t.hourlyRate,discounts:t.discounts,updatedAt:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Error updating pricing:",n),{success:!1,error:n.message}}})(o,e);t.success?g("Pricing updated successfully!"):g("Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},_=async e=>{m(!0);const t=await(async(e,t)=>{try{const n=lh(sp,"bookings","coach_".concat(e));return await $h(n,{["bookings.".concat(t,".status")]:"confirmed",["bookings.".concat(t,".confirmedAt")]:(new Date).toISOString(),["bookings.".concat(t,".updatedAt")]:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Error confirming booking:",n),{success:!1,error:n.message}}})(o,e);t.success?g("\u2705 Booking confirmed successfully!"):g("\u274c Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},j=async(e,t)=>{m(!0);const n=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const r=lh(sp,"bookings","coach_".concat(e));return await $h(r,{["bookings.".concat(t,".status")]:"rejected",["bookings.".concat(t,".rejectionReason")]:n,["bookings.".concat(t,".rejectedAt")]:(new Date).toISOString(),["bookings.".concat(t,".updatedAt")]:(new Date).toISOString()}),{success:!0}}catch(r){return console.error("Error rejecting booking:",r),{success:!1,error:r.message}}}(o,e,t);n.success?g("\u2705 Booking request rejected."):g("\u274c Error: ".concat(n.error)),m(!1),setTimeout((()=>g("")),3e3)},I=async(e,t)=>{m(!0);const n=await(async(e,t,n)=>{try{const r=lh(sp,"bookings","coach_".concat(e)),a={["bookings.".concat(t,".updatedAt")]:(new Date).toISOString()};return Object.keys(n).forEach((e=>{"timeSlot"===e&&"object"===typeof n[e]?Object.keys(n[e]).forEach((r=>{a["bookings.".concat(t,".timeSlot.").concat(r)]=n[e][r]})):"sessionDetails"===e&&"object"===typeof n[e]?Object.keys(n[e]).forEach((r=>{a["bookings.".concat(t,".sessionDetails.").concat(r)]=n[e][r]})):"paymentInfo"===e&&"object"===typeof n[e]?Object.keys(n[e]).forEach((r=>{a["bookings.".concat(t,".paymentInfo.").concat(r)]=n[e][r]})):a["bookings.".concat(t,".").concat(e)]=n[e]})),console.log("\ud83d\udd27 Updating booking with data:",a),await $h(r,a),{success:!0}}catch(r){return console.error("Error updating booking:",r),{success:!1,error:r.message}}})(o,e,t);n.success?g("\u2705 Booking updated successfully!"):g("\u274c Error: ".concat(n.error)),m(!1),setTimeout((()=>g("")),3e3)},D=async(e,t)=>{m(!0);const n=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const r=lh(sp,"bookings","coach_".concat(e));return await $h(r,{["bookings.".concat(t,".status")]:"cancelled",["bookings.".concat(t,".cancellationReason")]:n,["bookings.".concat(t,".cancelledAt")]:(new Date).toISOString(),["bookings.".concat(t,".updatedAt")]:(new Date).toISOString()}),{success:!0}}catch(r){return console.error("Error cancelling booking:",r),{success:!1,error:r.message}}}(o,e,t);n.success?g("\u2705 Booking cancelled successfully."):g("\u274c Error: ".concat(n.error)),m(!1),setTimeout((()=>g("")),3e3)},A=async e=>{m(!0);const t=await fp(o,e);t.success?g("\u2705 Session added successfully!"):g("\u274c Error: ".concat(t.error)),m(!1),setTimeout((()=>g("")),3e3)},R=async(e,t)=>{m(!0);const n={["bookings.".concat(e,".paymentInfo.status")]:t.status,["bookings.".concat(e,".paymentInfo.totalAmount")]:t.totalAmount,["bookings.".concat(e,".paymentInfo.amountPaid")]:t.amountPaid,["bookings.".concat(e,".paymentInfo.amountDue")]:Math.max(t.totalAmount-t.amountPaid,0),["bookings.".concat(e,".paymentInfo.lastUpdated")]:(new Date).toISOString(),["bookings.".concat(e,".updatedAt")]:(new Date).toISOString()};console.log("\ud83d\udcb3 Payment update data:",n);try{const e=lh(sp,"bookings","coach_".concat(o));await $h(e,n),g("\u2705 Payment updated successfully!")}catch(r){console.error("Payment update error:",r),g("\u274c Error: ".concat(r.message))}m(!1),setTimeout((()=>g("")),3e3)},P=()=>{i?(console.log("\ud83d\udd04 Forcing data reload..."),i()):(console.log("\ud83d\udd04 Fallback: Reloading page..."),sessionStorage.setItem("coachDashboardActiveTab",l),window.location.reload())};r.useEffect((()=>{const e=sessionStorage.getItem("coachDashboardActiveTab");e&&k.find((t=>t.id===e))&&(c(e),sessionStorage.removeItem("coachDashboardActiveTab"))}),[]);return(0,Vf.jsxs)("div",{className:jf.layout,children:[(0,Vf.jsx)(pp,{coach:y,onProfileClick:()=>{c("profile")}}),p&&(0,Vf.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-lg shadow-lg z-50 ".concat(p.includes("Error")?"bg-red-500 text-white":"bg-green-500 text-white"),children:p}),(0,Vf.jsx)(gp,{tabs:k,activeTab:l,setActiveTab:c}),(0,Vf.jsx)("main",{className:jf.mainContent,children:(()=>{const e={coach:y,bookings:b,availability:x,stats:w,loading:f,onProfileUpdate:S,onAvailabilityUpdate:N,onCustomAvailabilityUpdate:E,onUnavailableDatesUpdate:C,onPricingUpdate:T,onConfirmBooking:_,onRejectBooking:j,onEditBooking:I,onCancelBooking:D,onAddSession:A,onUpdatePayment:R,onForceReload:P};switch(l){case"overview":default:return(0,Vf.jsx)(Ry,u({},e));case"bookings":return(0,Vf.jsx)(qy,u({},e));case"availability":return(0,Vf.jsx)(ev,u({},e));case"pricing":return(0,Vf.jsx)(tv,u({},e));case"profile":return(0,Vf.jsx)(av,u(u({},e),{},{editingProfile:d,setEditingProfile:h}))}})()})]})}function sv(){return(0,Vf.jsx)("div",{className:bf.container,children:(0,Vf.jsx)("h1",{className:bf.h1,children:"Find Your Trainer"})})}function ov(e){let{trainer:t,onSelect:n}=e;const r=t.photoURL||t.image||t.avatar;return(0,Vf.jsx)("div",{className:Sf.container,children:(0,Vf.jsxs)("div",{className:"flex h-40",children:[(0,Vf.jsx)("div",{className:"relative w-40 h-40 flex-shrink-0",children:(0,Vf.jsx)("div",{className:"w-full h-full rounded-l-lg overflow-hidden",children:r?(0,Vf.jsx)("img",{src:t.photoURL||t.image||t.avatar,alt:t.name,className:"w-full h-full object-cover",style:{objectFit:"cover",objectPosition:"center"},onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("bg-gradient-to-br","from-green-400","to-green-600")}}):(0,Vf.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center",children:(0,Vf.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-white opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Vf.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 14l9-5-9-5-9 5 9 5z"}),(0,Vf.jsx)("circle",{cx:12,cy:12,r:10,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1})]})})})}),(0,Vf.jsxs)("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[(0,Vf.jsxs)("div",{className:Sf.nameContainer,children:[(0,Vf.jsx)("h3",{className:Sf.name,children:t.name}),(0,Vf.jsx)("p",{className:Sf.specialty,children:t.specialty})]}),(0,Vf.jsx)("div",{className:"flex justify-end",children:(0,Vf.jsx)("button",{onClick:n,className:Sf.bookButton,children:"Book Now"})})]})]})})}function lv(e){let{bookingRef:t,trainers:n,setSelectedCoach:r,availability:a,setCoachAvailability:i}=e;return(0,Vf.jsx)("div",{className:kf.container,children:n.map((e=>(0,Vf.jsx)(ov,{trainer:e,onSelect:()=>(e=>{var n;r(e);const s=null!==(n=a.find((t=>t.id===(null===e||void 0===e?void 0:e.id))))&&void 0!==n?n:{};i(s),window.innerWidth<768&&setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100)})(e)},e.id)))})}function cv(e){let{trainer:t}=e;if(!t)return null;const{initials:n,name:r,specialty:a,location:i,sessionLength:s,price:o}=t;return(0,Vf.jsxs)("div",{className:Ef.outerContainer,children:[(0,Vf.jsxs)("div",{className:Ef.innerContainer,children:[(0,Vf.jsx)("div",{className:Ef.initials,children:n}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h3",{className:Ef.name,children:r}),(0,Vf.jsx)("p",{children:a})]})]}),(0,Vf.jsxs)("div",{className:"mt-4 text-sm",children:[(0,Vf.jsxs)("p",{className:"mb-2",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Location:"})," ",i]}),(0,Vf.jsxs)("p",{className:"mb-2",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Session Length:"})," ",s]}),(0,Vf.jsxs)("p",{children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Price:"})," $",o," per session"]})]})]})}function uv(e){let{sessionDurations:t,onSessionDetailsChange:n}=e;const[a,i]=(0,r.useState)("Shooting Technique"),[s,o]=(0,r.useState)("Beginner"),[l,c]=(0,r.useState)("");return(0,r.useEffect)((()=>{n&&n({technique:a,skillLevel:s,notes:l})}),[a,s,l,n]),(0,Vf.jsxs)("div",{className:Cf.container,children:[(0,Vf.jsx)("h4",{className:Cf.h4,children:"Session Details"}),(0,Vf.jsxs)("div",{className:Cf.innerContainer,children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Cf.label,children:"Focus Area"}),(0,Vf.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:Cf.text,children:[(0,Vf.jsx)("option",{value:"Shooting Technique",children:"Shooting Technique"}),(0,Vf.jsx)("option",{value:"Ball Handling",children:"Ball Handling"}),(0,Vf.jsx)("option",{value:"Defense",children:"Defense"}),(0,Vf.jsx)("option",{value:"Conditioning",children:"Conditioning"}),(0,Vf.jsx)("option",{value:"Game Strategy",children:"Game Strategy"}),(0,Vf.jsx)("option",{value:"General Skills",children:"General Skills"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Cf.label,children:"Your Skill Level"}),(0,Vf.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:Cf.text,children:[(0,Vf.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,Vf.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,Vf.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,Vf.jsx)("option",{value:"Elite",children:"Elite"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Cf.label,children:"Notes (optional)"}),(0,Vf.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"Any specific areas you'd like to work on...",className:"".concat(Cf.text," resize-none h-20")})]}),t&&(0,Vf.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Session Duration: ",t.min,"-",t.max," minutes"]})]})]})}function dv(e){let{coachAvailability:t,selectedDate:n,onSelectDate:a}=e;const[i,s]=(0,r.useState)(n||new Date),o=i.getFullYear(),l=i.getMonth(),c=new Date(o,l,1).getDay(),u=new Date(o,l+1,0).getDate(),d=Array.from({length:c+u},((e,t)=>{const n=t-c+1;return n>0?new Date(o,l,n):null}));return(0,Vf.jsxs)("div",{className:Tf.container,children:[(0,Vf.jsx)("h3",{className:Tf.heading,children:"Select a Date"}),(0,Vf.jsxs)("div",{className:Tf.wrapper,children:[(0,Vf.jsxs)("div",{className:Tf.monthNav,children:[(0,Vf.jsx)("button",{onClick:()=>{const e=new Date(i);e.setMonth(i.getMonth()-1),s(e)},className:Tf.navButton,children:"\u2190"}),(0,Vf.jsx)("span",{className:Tf.monthTitle,children:(h=i,h.toLocaleDateString("default",{month:"long",year:"numeric"}))}),(0,Vf.jsx)("button",{onClick:()=>{const e=new Date(i);e.setMonth(i.getMonth()+1),s(e)},className:Tf.navButton,children:"\u2192"})]}),(0,Vf.jsx)("div",{className:Tf.weekdayContainer,children:["S","M","T","W","T","F","S"].map(((e,t)=>(0,Vf.jsx)("div",{children:e},t)))}),(0,Vf.jsx)("div",{className:Tf.dateGrid,children:d.map(((e,r)=>{const i=(o=n,(s=e)&&o&&s.getDate()===o.getDate()&&s.getMonth()===o.getMonth()&&s.getFullYear()===o.getFullYear());var s,o;const l=e&&(e=>{var n,r,a;const i=Ig(e,"yyyy-MM-dd"),s=Ig(e,"EEEE").toLowerCase();if(null!==(n=t.unavailableDates)&&void 0!==n&&n.includes(i))return!1;const o=null===(r=t.customAvailability)||void 0===r?void 0:r[i],l=null===(a=t.weeklyAvailability)||void 0===a?void 0:a[s],c=o&&Object.keys(o).length>0,u=l&&Object.keys(l).length>0;return c||u})(e);return(0,Vf.jsx)("div",{className:Zh(Tf.dateCell.base,{[Tf.dateCell.selected]:i,[Tf.dateCell.available]:!i&&l,[Tf.dateCell.unavailable]:!i&&!l&&e}),onClick:()=>l&&a(e),children:null===e||void 0===e?void 0:e.getDate()},r)}))})]})]});var h}function hv(e,t){return+Sp(e)<+Sp(t)}function fv(e,t,n){const r=Sp(e,null===n||void 0===n?void 0:n.in);return r.setTime(r.getTime()+t*bp),r}function mv(e,t){return+Sp(e)>+Sp(t)}function pv(e,t){return+Sp(e)-+Sp(t)}function gv(e,t,n){const r=pv(e,t)/bp;return(a=null===n||void 0===n?void 0:n.roundingMethod,e=>{const t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(r);var a}function yv(e){const t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n,"min"):0===n?"".concat(t,"h"):"".concat(t,"h ").concat(n,"min")}function vv(e){var t;let{coachAvailability:n,selectedDate:a,selectedTimes:i,onToggleTime:s,sessionDurations:o={min:30,max:120},selectedCoach:l,sessionDetails:c}=e;const[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("");if(!a||!n)return null;const m=Ig(a,"EEEE").toLowerCase(),p=Object.values((null===n||void 0===n||null===(t=n.weeklyAvailability)||void 0===t?void 0:t[m])||{}),g=Ig(a,"MMMM d, yyyy"),y=(0,r.useMemo)((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;const n=[];return e.forEach((e=>{let{start:r,end:a}=e;if(r&&a)try{let e=Ay(r,"HH:mm",new Date);const i=Ay(a,"HH:mm",new Date);for(;hv(e,i);)n.push({time:Ig(e,"HH:mm"),timeObj:new Date(e)}),e=fv(e,t)}catch(i){console.error("\u274c Failed to parse time range: { start: ".concat(r,", end: ").concat(a," }"),i)}})),Array.from(new Map(n.map((e=>[e.time,e]))).values()).sort(((e,t)=>e.timeObj-t.timeObj))}(p,15)),[p]),v=(0,r.useMemo)((()=>function(e,t,n){if(!e)return[];const r=Ay(e,"HH:mm",new Date),a=[],i=t.find((e=>{let{start:t,end:n}=e;const a=Ay(t,"HH:mm",new Date),i=Ay(n,"HH:mm",new Date);return!hv(r,a)&&hv(r,i)}));if(!i)return[];const s=Ay(i.end,"HH:mm",new Date),{min:o,max:l}=n;for(let c=o;c<=l;c+=15){const e=fv(r,c);mv(e,s)||a.push({time:Ig(e,"HH:mm"),duration:c,label:yv(c)})}return a}(u,p,o)),[u,p,o]),b=(0,r.useMemo)((()=>{if(!u||!h)return 0;try{const e=Ay(u,"HH:mm",new Date);return gv(Ay(h,"HH:mm",new Date),e)}catch(e){return 0}}),[u,h]),x=e=>{try{return Ig(Ay(e,"HH:mm",new Date),"h:mm a")}catch(t){return e}};return 0===y.length?(0,Vf.jsxs)("div",{className:_f.container,children:[(0,Vf.jsx)("h3",{className:_f.heading,children:"Available Time Slots"}),(0,Vf.jsx)("p",{className:_f.dateDisplay,children:g}),(0,Vf.jsx)("p",{className:_f.emptyState,children:"No available times for this date"})]}):(0,Vf.jsxs)("div",{className:_f.container,children:[(0,Vf.jsx)("h3",{className:_f.heading,children:"Book Training Session"}),(0,Vf.jsx)("p",{className:_f.dateDisplay,children:g}),(0,Vf.jsxs)("div",{className:"space-y-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Start Time"}),(0,Vf.jsxs)("select",{value:u,onChange:e=>{return t=e.target.value,d(t),void f("");var t},className:"w-full bg-gray-100 dark:bg-stone-700 border border-gray-600 text-gray-800 dark:text-stone-100 rounded px-3 py-2 text-sm",children:[(0,Vf.jsx)("option",{value:"",children:"Select start time..."}),y.map((e=>{let{time:t}=e;return(0,Vf.jsx)("option",{value:t,children:x(t)},t)}))]})]}),u&&(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"End Time"}),(0,Vf.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full bg-gray-100 dark:bg-stone-700 border border-gray-600 text-gray-800 dark:text-stone-100 rounded px-3 py-2 text-sm",children:[(0,Vf.jsx)("option",{value:"",children:"Select end time..."}),v.map((e=>{let{time:t,duration:n,label:r}=e;return(0,Vf.jsxs)("option",{value:t,children:[x(t)," (",r,")"]},t)}))]})]}),u&&h&&(0,Vf.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-600",children:[(0,Vf.jsxs)("div",{className:"text-sm",children:[(0,Vf.jsx)("div",{className:"font-medium text-white mb-2",children:"Session Preview"}),(0,Vf.jsxs)("div",{className:"text-gray-300 mb-1",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Trainer:"})," ",(null===l||void 0===l?void 0:l.name)||"Coach"]}),(0,Vf.jsxs)("div",{className:"text-gray-300 mb-1",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Focus:"})," ",(null===c||void 0===c?void 0:c.technique)||(null===c||void 0===c?void 0:c.focusArea)||"Training Session"]}),(0,Vf.jsxs)("div",{className:"text-gray-300 mb-1",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Level:"})," ",(null===c||void 0===c?void 0:c.skillLevel)||"Intermediate"]}),(0,Vf.jsxs)("div",{className:"text-gray-300 mb-1",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Time:"})," ",x(u)," - ",x(h)]}),(0,Vf.jsxs)("div",{className:"text-gray-300",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Duration:"})," ",yv(b)]})]}),(0,Vf.jsx)("button",{onClick:()=>{u&&h&&(null===s||void 0===s||s(u,b,{coach:l,technique:(null===c||void 0===c?void 0:c.technique)||(null===c||void 0===c?void 0:c.focusArea)||"Training Session",skillLevel:(null===c||void 0===c?void 0:c.skillLevel)||"Intermediate"}),d(""),f(""))},className:"w-full mt-3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded transition",children:"Add This Session"})]})]})]})}function bv(e){let{onClientInfoChange:t,clientInfo:n={}}=e;const[a,i]=(0,r.useState)({firstName:n.firstName||"",lastName:n.lastName||"",email:n.email||"",phone:n.phone||"",notes:n.notes||""}),s=(e,n)=>{const r=u(u({},a),{},{[e]:n});i(r),t&&t(r)};return(0,Vf.jsxs)("div",{className:"bg-white text-gray-900 dark:bg-stone-900 dark:text-stone-100 rounded-lg p-4",children:[(0,Vf.jsx)("h3",{className:"font-medium mb-3",children:"Contact Information"}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsx)("input",{className:"bg-gray-100 dark:bg-stone-800 dark:text-stone-100 px-3 py-2 rounded border border-gray-600",placeholder:"First Name*",value:a.firstName,onChange:e=>s("firstName",e.target.value),required:!0}),(0,Vf.jsx)("input",{className:"bg-gray-100 dark:bg-stone-800 dark:text-stone-100 px-3 py-2 rounded border border-gray-600",placeholder:"Last Name*",value:a.lastName,onChange:e=>s("lastName",e.target.value),required:!0}),(0,Vf.jsx)("input",{className:"bg-gray-100 dark:bg-stone-800 dark:text-stone-100 px-3 py-2 rounded border border-gray-600",placeholder:"Email Address*",type:"email",value:a.email,onChange:e=>s("email",e.target.value),required:!0}),(0,Vf.jsx)("input",{className:"bg-gray-100 dark:bg-stone-800 dark:text-stone-100 px-3 py-2 rounded border border-gray-600",placeholder:"Phone Number",type:"tel",value:a.phone,onChange:e=>s("phone",e.target.value)})]}),(0,Vf.jsx)("div",{className:"mt-4",children:(0,Vf.jsx)("textarea",{className:"w-full bg-gray-100 dark:bg-stone-800 dark:text-stone-100 px-3 py-2 rounded border border-gray-600",placeholder:"Special requests or additional notes (optional)",rows:"3",value:a.notes,onChange:e=>s("notes",e.target.value)})}),(0,Vf.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:(0,Vf.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[(0,Vf.jsx)("strong",{children:"Payment:"})," Payment will be collected at the time of your training session."]})})]})}function xv(e){let{selectedBlocks:t,onClear:n,onRemoveSession:r}=e;if(!t||0===Object.keys(t).length)return null;const a=[];let i=0;for(const[u,d]of Object.entries(t))for(const{time:e,coach:t,duration:n=90,technique:r,skillLevel:s}of d){if(!e||!t)continue;const o=fv(Ay(e,"HH:mm",new Date),n),l=t.price||t.hourlyRate||65,c=l*n/60;a.push({date:u,startTime:e,endTime:Ig(o,"HH:mm"),duration:n,coach:t.name||"Unknown Coach",coachId:t.id,hourlyRate:l,sessionPrice:c,technique:r||"Training Session",skillLevel:s,dateKey:u,timeKey:e}),i+=c}if(a.sort(((e,t)=>{const n=new Date(e.date)-new Date(t.date);return 0!==n?n:Ay(e.startTime,"HH:mm",new Date)-Ay(t.startTime,"HH:mm",new Date)})),0===a.length)return null;const s=e=>{const t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n,"min"):0===n?"".concat(t,"h"):"".concat(t,"h ").concat(n,"min")},o=e=>{try{return Ig(new Date(e+"T12:00:00"),"MMMM d, yyyy")}catch(t){return e}},l=e=>{try{return Ig(Ay(e,"HH:mm",new Date),"h:mm a")}catch(t){return e}},c=a.reduce(((e,t)=>(e[t.date]||(e[t.date]=[]),e[t.date].push(t),e)),{});return(0,Vf.jsxs)("div",{className:"dark:bg-stone-900 dark:text-stone-100 p-4 mt-6 rounded-lg border border-gray-700",children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Vf.jsx)("h3",{className:"font-medium text-lg",children:"Booking Summary"}),(0,Vf.jsx)("button",{className:"text-red-500 text-sm underline hover:text-red-400",onClick:n,children:"Clear All"})]}),(0,Vf.jsxs)("div",{className:"space-y-4",children:[Object.entries(c).map((e=>{let[t,n]=e;return(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:o(t)}),(0,Vf.jsx)("div",{className:"space-y-2",children:n.map(((e,t)=>(0,Vf.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-600",children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Vf.jsxs)("div",{className:"flex-1",children:[(0,Vf.jsx)("div",{className:"font-medium text-white",children:e.coach}),(0,Vf.jsx)("div",{className:"text-sm text-gray-400",children:e.technique}),e.skillLevel&&(0,Vf.jsxs)("div",{className:"text-xs text-gray-500",children:[e.skillLevel," Level"]})]}),(0,Vf.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vf.jsxs)("div",{className:"text-right",children:[(0,Vf.jsxs)("div",{className:"font-bold text-green-400",children:["$",e.sessionPrice.toFixed(0)]}),(0,Vf.jsxs)("div",{className:"text-xs text-gray-400",children:["$",e.hourlyRate,"/hr"]})]}),(0,Vf.jsx)("button",{onClick:()=>null===r||void 0===r?void 0:r(e.dateKey,e.timeKey),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded border border-red-400 hover:border-red-300 transition-colors",children:"Remove"})]})]}),(0,Vf.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Vf.jsxs)("div",{className:"text-gray-300",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Time:"})," ",l(e.startTime)," - ",l(e.endTime)]}),(0,Vf.jsxs)("div",{className:"text-gray-300",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Duration:"})," ",s(e.duration)]})]})]},"".concat(e.date,"-").concat(e.startTime,"-").concat(t))))})]},t)})),(0,Vf.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-600",children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vf.jsxs)("div",{className:"font-medium text-white",children:["Total Sessions: ",a.length]}),(0,Vf.jsxs)("div",{className:"text-xl font-bold text-green-400",children:["$",i.toFixed(0)]})]}),a.length>1&&(0,Vf.jsx)("div",{className:"space-y-1 text-xs text-gray-400 border-t border-gray-600 pt-2",children:a.map(((e,t)=>(0,Vf.jsxs)("div",{className:"flex justify-between",children:[(0,Vf.jsxs)("span",{children:[o(e.date)," - ",s(e.duration)]}),(0,Vf.jsxs)("span",{children:["$",e.sessionPrice.toFixed(0)]})]},t)))})]})]})]})}function wv(e){var t,n;let{selectedCoach:a,coachAvailability:s}=e;const l={min:(null===a||void 0===a?void 0:a.minSessionDuration)||(null===a||void 0===a||null===(t=a.sessionDurations)||void 0===t?void 0:t.min)||30,max:(null===a||void 0===a?void 0:a.maxSessionDuration)||(null===a||void 0===a||null===(n=a.sessionDurations)||void 0===n?void 0:n.max)||120},[c,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(l.min),[m,p]=(0,r.useState)(!1),[g,y]=(0,r.useState)(""),[v,b]=(0,r.useState)({technique:"Shooting Technique",skillLevel:"Beginner",notes:""}),[x,w]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",notes:""}),[k,S]=(0,r.useState)({}),N=(e,t)=>{const[n,r]=e.split(":").map(Number),a=new Date;a.setHours(n,r,0,0);const i=new Date(a.getTime()+6e4*t),s=i.getHours().toString().padStart(2,"0"),o=i.getMinutes().toString().padStart(2,"0");return"".concat(s,":").concat(o)},E=Object.keys(k).length>0;return(0,Vf.jsxs)("div",{className:Nf.bookingOuter,children:[(0,Vf.jsx)("h2",{className:Nf.h2,children:"Book Your Training Session"}),g&&(0,Vf.jsx)("div",{className:"mb-4 p-4 rounded-lg ".concat(g.includes("\u274c")?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 border border-green-200 dark:border-green-800"),children:g}),(0,Vf.jsxs)("div",{className:Nf.bookingInner,children:[(0,Vf.jsxs)("div",{className:Nf.session,children:[(0,Vf.jsx)(cv,{trainer:a}),(0,Vf.jsx)(uv,{sessionDurations:l,onSessionDetailsChange:b})]}),(0,Vf.jsxs)("div",{className:"md:w-2/3 space-y-6",children:[(0,Vf.jsx)(dv,{coachAvailability:s,selectedDate:c,onSelectDate:d}),c&&(0,Vf.jsx)(vv,{coachAvailability:s,selectedDate:c,selectedTimes:(e=>{if(!e)return[];const t=Ig(e,"yyyy-MM-dd");return(k[t]||[]).map((e=>e.time))})(c),onToggleTime:(e,t,n)=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!a)return;const s=Ig(e,"yyyy-MM-dd");S((e=>{const l=e[s]||[];let c;if(c=l.some((e=>e.time===t))?l.filter((e=>e.time!==t)):[...l,{time:t,duration:n,technique:r.technique||v.technique,skillLevel:r.skillLevel||v.skillLevel,notes:r.notes||v.notes,coach:{id:a.id,name:a.name,price:a.price}}],0===c.length){const{[s]:t}=e;return i(e,[s].map(o))}return u(u({},e),{},{[s]:c})}))}(c,e,t,n),sessionDurations:l,selectedDuration:h,onDurationChange:f,selectedCoach:a,sessionDetails:v}),E&&(0,Vf.jsx)(xv,{selectedBlocks:k,onClear:()=>S({}),onRemoveSession:(e,t)=>{S((n=>{const r=(n[e]||[]).filter((e=>e.time!==t));if(0===r.length){const{[e]:t}=n;return i(n,[e].map(o))}return u(u({},n),{},{[e]:r})}))}}),E&&(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)(bv,{clientInfo:x,onClientInfoChange:w}),(0,Vf.jsx)("button",{onClick:async()=>{if(!x.firstName||!x.lastName||!x.email)return y("Please fill in all required fields (First Name, Last Name, Email)"),void setTimeout((()=>y("")),5e3);p(!0),y("");try{const e=[];Object.entries(k).forEach((t=>{let[n,r]=t;r.forEach((t=>{const r={clientId:"client_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),firstName:x.firstName,lastName:x.lastName,email:x.email,phone:x.phone,date:n,timeSlot:{start:"".concat(n,"T").concat(t.time,":00-05:00"),end:"".concat(n,"T").concat(N(t.time,t.duration),":00-05:00"),duration:t.duration.toString()},sessionDetails:{technique:t.technique,skillLevel:t.skillLevel,notes:t.notes||x.notes},status:"pending"};e.push(fp(a.id,r))}))}));const t=await Promise.all(e);if(t.every((e=>e.success)))y("\ud83d\udccb Booking request submitted! Your coach will review and confirm your session shortly."),S({}),w({firstName:"",lastName:"",email:"",phone:"",notes:""}),setTimeout((()=>y("")),1e4);else{const e=t.filter((e=>!e.success));y("\u274c Some bookings failed: ".concat(e.map((e=>e.error)).join(", "))),setTimeout((()=>y("")),8e3)}}catch(e){console.error("Booking error:",e),y("\u274c Failed to create booking. Please try again."),setTimeout((()=>y("")),5e3)}finally{p(!1)}},disabled:m,className:"w-full font-medium py-3 px-6 rounded-lg transition ".concat(m?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"),children:m?"\u23f3 Creating Booking...":"\u2705 Complete Booking"})]})]})]})]})}function kv(e){let{trainers:t,selectedCoach:n,setSelectedCoach:r,availability:a,coachAvailability:i,setCoachAvailability:s,bookingRef:o}=e;const l={trainers:t,availability:a,selectedCoach:n,setSelectedCoach:r,coachAvailability:i,setCoachAvailability:s,bookingRef:o};return(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)(sv,{}),(0,Vf.jsx)(lv,u({},l)),(0,Vf.jsx)("div",{ref:o,children:(0,Vf.jsx)(wv,u({},l))})]})}function Sv(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),i=(0,r.useRef)(null),[s,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,h]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async function(e){const t=oh(e,"trainers"),n=(await Yh(t)).docs.map((e=>u({id:e.id},e.data())));return localStorage.setItem("trainers_cache",JSON.stringify(n)),n})(sp).then(t),async function(e){const t=oh(e,"availability");return(await Yh(t)).docs.map((e=>u({id:e.id},e.data())))}(sp).then(o),async function(e){const t=oh(e,"bookings");return(await Yh(t)).docs.map((e=>u({id:e.id},e.data())))}(sp).then(c)}),[]),console.log("Trainers: ",e,"\nAvailability: ",s,"\nSelected Coach: ",n);const f={trainers:e,availability:s,bookings:l,selectedCoach:n,setSelectedCoach:a,coachAvailability:d,setCoachAvailability:h,bookingRef:i};return(0,Vf.jsxs)("main",{className:vf.main,children:[(0,Vf.jsx)(zf,{}),(0,Vf.jsx)("div",{className:vf.container,children:(0,Vf.jsxs)(Ae,{children:[(0,Vf.jsx)(Ie,{path:"/",element:(0,Vf.jsx)(kv,u({},f))}),(0,Vf.jsx)(Ie,{path:"/dashboard",element:(0,Vf.jsx)(iv,u({},f))}),e.length>0&&(0,Vf.jsx)(Ie,{path:"/dashboard/:trainerId",element:(0,Vf.jsx)(iv,u({},f))})]})})]})}Uf();a.createRoot(document.getElementById("root")).render((0,Vf.jsx)(r.StrictMode,{children:(0,Vf.jsx)(ft,{basename:"/trainer-booking-app",children:(0,Vf.jsx)(Sv,{})})}))})();
//# sourceMappingURL=main.c9525997.js.map