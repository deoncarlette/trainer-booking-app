/*! For license information please see main.59d710d7.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+N(l,0):i,x(o)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),D(o,t,a,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+N(s=e[c],c);l+=D(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=D(s=s.value,t,a,u=i+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return D(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var i=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!D());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&a(c),w(n)}else a(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(x,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,T=-1,C=5,N=-1;function D(){return!(t.unstable_now()-N<C)}function I(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=I,E=function(){O.postMessage(null)}}else E=function(){y(I,0)};function R(e){_=e,S||(S=!0,E())}function P(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,P(x,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j,L=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case _:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function _e(e){if(e=wa(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=Ea(t),ke(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function De(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ne(e,t,n)}finally{Ie=!1,(null!==Ee||null!==Se)&&(De(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ea(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Re=!1}function Me(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Le=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Le=e}};function Be(e,t,n,r,a,i,o,s,l){je=!1,Le=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return qe(a),e;if(o===r)return qe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Xe=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=ht(s):0!==(i&=o)&&(r=ht(i))}else 0!==(o=n&~a)?r=ht(o):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Et,St,_t,Tt=!1,Ct=[],Nt=null,Dt=null,It=null,At=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=wa(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ba(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wa(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Dt&&Ft(Dt)&&(Dt=null),null!==It&&Ft(It)&&(It=null),At.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Dt&&Bt(Dt,e),null!==It&&Bt(It,e),At.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Qt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Kt(e,t,n,r){if(qt){var a=Gt(e,t,n,r);if(null===a)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Nt=jt(Nt,e,t,n,r,a),!0;case"dragenter":return Dt=jt(Dt,e,t,n,r,a),!0;case"mouseover":return It=jt(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,jt(At.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ot.set(i,jt(Ot.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==a;){var i=wa(a);if(null!==i&&xt(i),null===(i=Gt(e,t,n,r))&&Wr(e,t,r,Yt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Gt(e,t,n,r){if(Yt=null,null!==(e=ba(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in $t?$t.value:$t.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),hn=L({},cn,{view:0,detail:0}),dn=an(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),gn=an(L({},hn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var Tn=L({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),Nn=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Rn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var jn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Pn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Yn(e){Ur(e,0)}function Gn(e){if(K(ka(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Kn=Qn=null)}function nr(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function ir(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!h.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=_r("animationend"),Cr=_r("animationiteration"),Nr=_r("animationstart"),Dr=_r("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Pr=Ar[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Be.apply(this,arguments),je){if(!je)throw Error(i(198));var u=Le;je=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Vr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var a=Wt;break;case 4:a=Qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ba(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=i,a=xe(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Tr:case Cr:case Nr:l=yn;break;case Dr:l=In;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Qr(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ma])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:ka(l),f=null==c?s:ka(c),(s=new u(m,p+"leave",l,n,a)).target=h,s.relatedTarget=f,m=null,ba(a)===r&&((u=new u(d,p+"enter",c,n,a)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=d;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)d=Yr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Yr(u),d=Yr(d)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==h&&Gr(o,h,c,u,!0)}if("select"===(l=(s=r?ka(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(qn(s))if($n)g=or;else{g=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(o,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ka(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,a)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in($t=a)?$t.value:$t.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,a),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Ur(o,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Oe(e,n))&&r.unshift(Qr(e,i,a)),null!=(i=Oe(e,t))&&r.push(Qr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Oe(n,i))&&o.unshift(Qr(n,l,s)):a||null!=(l=Oe(n,i))&&o.push(Qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function ea(){}var ta=null,na=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aa="function"===typeof setTimeout?setTimeout:void 0,ia="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(la)}:aa;function la(e){setTimeout((function(){throw e}))}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ha(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ma="__reactContainer$"+da,ga="__reactEvents$"+da,ya="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ha(e);null!==e;){if(n=e[fa])return n;e=ha(e)}return t}n=(e=n).parentNode}return null}function wa(e){return!(e=e[fa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ka(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ea(e){return e[pa]||null}var Sa=[],_a=-1;function Ta(e){return{current:e}}function Ca(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function Na(e,t){_a++,Sa[_a]=e.current,e.current=t}var Da={},Ia=Ta(Da),Aa=Ta(!1),Oa=Da;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Ca(Aa),Ca(Ia)}function ja(e,t,n){if(Ia.current!==Da)throw Error(i(168));Na(Ia,t),Na(Aa,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return L({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Da,Oa=Ia.current,Na(Ia,e),Na(Aa,Aa.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=La(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,Ca(Aa),Ca(Ia),Na(Ia,e)):Ca(Aa),Na(Aa,n)}var Va=null,Ba=!1,za=!1;function Ha(e){null===Va?Va=[e]:Va.push(e)}function qa(){if(!za&&null!==Va){za=!0;var e=0,t=bt;try{var n=Va;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Va=null,Ba=!1}catch(a){throw null!==Va&&(Va=Va.slice(e+1)),Ke(Ze,qa),a}finally{bt=t,za=!1}}return null}var Wa=[],Qa=0,Ka=null,Ya=0,Ga=[],Xa=0,$a=null,Ja=1,Za="";function ei(e,t){Wa[Qa++]=Ya,Wa[Qa++]=Ka,Ka=e,Ya=t}function ti(e,t,n){Ga[Xa++]=Ja,Ga[Xa++]=Za,Ga[Xa++]=$a,$a=e;var r=Ja;e=Za;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ja=1<<32-ot(t)+a|n<<a|r,Za=i+e}else Ja=1<<i|n<<a|r,Za=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Ka;)Ka=Wa[--Qa],Wa[Qa]=null,Ya=Wa[--Qa],Wa[Qa]=null;for(;e===$a;)$a=Ga[--Xa],Ga[Xa]=null,Za=Ga[--Xa],Ga[Xa]=null,Ja=Ga[--Xa],Ga[Xa]=null}var ai=null,ii=null,oi=!1,si=null;function li(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ai=e,ii=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ai=e,ii=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ja,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ai=e,ii=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function hi(e){if(oi){var t=ii;if(t){var n=t;if(!ci(e,t)){if(ui(e))throw Error(i(418));t=ua(n.nextSibling);var r=ai;t&&ci(e,t)?li(r,n):(e.flags=-4097&e.flags|2,oi=!1,ai=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,oi=!1,ai=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ai=e}function fi(e){if(e!==ai)return!1;if(!oi)return di(e),oi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ii)){if(ui(e))throw pi(),Error(i(418));for(;t;)li(e,t),t=ua(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ii=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ii=null}}else ii=ai?ua(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ii;e;)e=ua(e.nextSibling)}function mi(){ii=ai=null,oi=!1}function gi(e){null===si?si=[e]:si.push(e)}var yi=w.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&wi(i)===t.type)?((r=a(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case k:return(t=Vc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case O:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:h(e,t,n,r,null);bi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,a,null);bi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,h=i,m=i=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(a,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(a,h),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(a,h),oi&&ei(a,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(a,s[m],l))&&(i=o(h,i,m),null===u?c=h:u.sibling=h,u=h);return oi&&ei(a,m),c}for(h=r(a,h);m<s.length;m++)null!==(g=p(h,a,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(a,e)})),oi&&ei(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(a,m),oi&&ei(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(a,v.value,c))&&(s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return oi&&ei(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(a,e)})),oi&&ei(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&wi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=vi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((i=Lc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=jc(o.type,o.key,o.props,null,r.mode,l)).ref=vi(r,i,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Vc(o,r.mode,l)).return=r,r=i}return s(r);case O:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);bi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Uc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var ki=xi(!0),Ei=xi(!1),Si=Ta(null),_i=null,Ti=null,Ci=null;function Ni(){Ci=Ti=_i=null}function Di(e){var t=Si.current;Ca(Si),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){_i=e,Ci=Ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===Ti){if(null===_i)throw Error(i(308));Ti=e,_i.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Ri=null;function Pi(e){null===Ri?Ri=[e]:Ri.push(e)}function Mi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Pi(t)):(n.next=a.next,a.next=n),t.interleaved=n,ji(e,r)}function ji(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ji(e,n)}return null===(a=r.interleaved)?(t.next=t,Pi(r)):(t.next=a.next,a.next=t),r.interleaved=t,ji(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var a=e.updateQueue;Li=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=a.baseState;for(o=0,u=c=l=null,s=i;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(d=s).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Qi={},Ki=Ta(Qi),Yi=Ta(Qi),Gi=Ta(Qi);function Xi(e){if(e===Qi)throw Error(i(174));return e}function $i(e,t){switch(Na(Gi,t),Na(Yi,e),Na(Ki,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Ki),Na(Ki,t)}function Ji(){Ca(Ki),Ca(Yi),Ca(Gi)}function Zi(e){Xi(Gi.current);var t=Xi(Ki.current),n=le(t,e.type);t!==n&&(Na(Yi,e),Na(Ki,n))}function eo(e){Yi.current===e&&(Ca(Ki),Ca(Yi))}var to=Ta(0);function no(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=[];function ao(){for(var e=0;e<ro.length;e++)ro[e]._workInProgressVersionPrimary=null;ro.length=0}var io=w.ReactCurrentDispatcher,oo=w.ReactCurrentBatchConfig,so=0,lo=null,co=null,uo=null,ho=!1,fo=!1,po=0,mo=0;function go(){throw Error(i(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function vo(e,t,n,r,a,o){if(so=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?ts:ns,e=n(r,a),fo){o=0;do{if(fo=!1,po=0,25<=o)throw Error(i(301));o+=1,uo=co=null,t.updateQueue=null,io.current=rs,e=n(r,a)}while(fo)}if(io.current=es,t=null!==co&&null!==co.next,so=0,uo=co=lo=null,ho=!1,t)throw Error(i(300));return e}function bo(){var e=0!==po;return po=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?lo.memoizedState=uo=e:uo=uo.next=e,uo}function xo(){if(null===co){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=co.next;var t=null===uo?lo.memoizedState:uo.next;if(null!==t)uo=t,co=e;else{if(null===e)throw Error(i(310));e={memoizedState:(co=e).memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},null===uo?lo.memoizedState=uo=e:uo=uo.next=e}return uo}function ko(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=co,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,lo.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,lo.lanes|=o,Fl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function To(e,t){var n=lo,r=xo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,xs=!0),r=r.queue,Fo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Ro(9,No.bind(null,n,r,a,t),void 0,null),null===Al)throw Error(i(349));0!==(30&so)||Co(n,t,a)}return a}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Ao(e)}function Do(e,t,n){return n((function(){Io(t)&&Ao(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ao(e){var t=ji(e,1);null!==t&&ac(t,e,1,-1)}function Oo(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return xo().memoizedState}function Mo(e,t,n,r){var a=wo();lo.flags|=e,a.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var a=xo();r=void 0===r?null:r;var i=void 0;if(null!==co){var o=co.memoizedState;if(i=o.destroy,null!==r&&yo(r,o.deps))return void(a.memoizedState=Ro(t,n,i,r))}lo.flags|=e,a.memoizedState=Ro(1|t,n,i,r)}function Lo(e,t){return Mo(8390656,8,e,t)}function Fo(e,t){return jo(2048,8,e,t)}function Uo(e,t){return jo(4,2,e,t)}function Vo(e,t){return jo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Bo.bind(null,t,e),n)}function Ho(){}function qo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),lo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ko(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{bt=n,oo.transition=r}}function Yo(){return xo().memoizedState}function Go(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e))Jo(t,n);else if(null!==(n=Mi(e,t,n,r))){ac(n,e,r,nc()),Zo(n,t,r)}}function Xo(e,t,n){var r=rc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Jo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Pi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Mi(e,t,a,r))&&(ac(n,e,r,a=nc()),Zo(n,t,r))}}function $o(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Jo(e,t){fo=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var es={readContext:Oi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ts={readContext:Oi,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Oo,useDebugValue:Ho,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Ko.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,a=wo();if(oi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!==(30&so)||Co(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Lo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Al.identifierPrefix;if(oi){var n=Za;t=":"+t+"R"+(n=(Ja&~(1<<32-ot(Ja)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ns={readContext:Oi,useCallback:qo,useContext:Oi,useEffect:Fo,useImperativeHandle:zo,useInsertionEffect:Uo,useLayoutEffect:Vo,useMemo:Wo,useReducer:Eo,useRef:Po,useState:function(){return Eo(ko)},useDebugValue:Ho,useDeferredValue:function(e){return Qo(xo(),co.memoizedState,e)},useTransition:function(){return[Eo(ko)[0],xo().memoizedState]},useMutableSource:_o,useSyncExternalStore:To,useId:Yo,unstable_isNewReconciler:!1},rs={readContext:Oi,useCallback:qo,useContext:Oi,useEffect:Fo,useImperativeHandle:zo,useInsertionEffect:Uo,useLayoutEffect:Vo,useMemo:Wo,useReducer:So,useRef:Po,useState:function(){return So(ko)},useDebugValue:Ho,useDeferredValue:function(e){var t=xo();return null===co?t.memoizedState=e:Qo(t,co.memoizedState,e)},useTransition:function(){return[So(ko)[0],xo().memoizedState]},useMutableSource:_o,useSyncExternalStore:To,useId:Yo,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),i=Vi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,a))&&(ac(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),i=Vi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,a))&&(ac(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),a=Vi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bi(e,a,r))&&(ac(t,e,r,n),zi(t,e,r))}};function ss(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function ls(e,t,n){var r=!1,a=Da,i=t.contextType;return"object"===typeof i&&null!==i?i=Oi(i):(a=Pa(t)?Oa:Ia.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):Da),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function cs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Oi(i):(i=Pa(t)?Oa:Ia.current,a.context=Ra(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(is(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&os.enqueueReplaceState(a,a.state,null),qi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function hs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,n){(n=Vi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Kl=r),fs(0,t)},n}function gs(e,t,n){(n=Vi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ws=w.ReactCurrentOwner,xs=!1;function ks(e,t,n,r){t.child=null===e?Ei(t,null,n,r):ki(t,e.child,n,r)}function Es(e,t,n,r,a){n=n.render;var i=t.ref;return Ai(t,a),r=vo(e,t,n,r,i,a),n=bo(),null===e||xs?(oi&&n&&ni(t),t.flags|=1,ks(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_s(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Qs(e,t,a)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Qs(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return Ns(e,t,n,r,a)}function Ts(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Ml,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Ml,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Na(Ml,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Na(Ml,Pl),Pl|=r;return ks(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,a){var i=Pa(n)?Oa:Ia.current;return i=Ra(t,i),Ai(t,a),n=vo(e,t,n,r,i,a),r=bo(),null===e||xs?(oi&&r&&ni(t),t.flags|=1,ks(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qs(e,t,a))}function Ds(e,t,n,r,a){if(Pa(n)){var i=!0;Fa(t)}else i=!1;if(Ai(t,a),null===t.stateNode)Ws(e,t),ls(t,n,r),us(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oi(c):c=Ra(t,c=Pa(n)?Oa:Ia.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&cs(t,o,r,c),Li=!1;var d=t.memoizedState;o.state=d,qi(t,r,o,a),l=t.memoizedState,s!==r||d!==l||Aa.current||Li?("function"===typeof u&&(is(t,n,u,r),l=t.memoizedState),(s=Li||ss(t,n,s,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ui(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:as(t.type,s),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oi(l):l=Ra(t,l=Pa(n)?Oa:Ia.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&cs(t,o,r,l),Li=!1,d=t.memoizedState,o.state=d,qi(t,r,o,a);var p=t.memoizedState;s!==h||d!==p||Aa.current||Li?("function"===typeof f&&(is(t,n,f,r),p=t.memoizedState),(c=Li||ss(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,i,a)}function Is(e,t,n,r,a,i){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ua(t,n,!1),Qs(e,t,i);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):ks(e,t,s,i),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),$i(e,t.containerInfo)}function Os(e,t,n,r,a){return mi(),gi(a),t.flags|=256,ks(e,t,n,r),t.child}var Rs,Ps,Ms,js,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,a=t.pendingProps,o=to.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Na(to,1&o),null===e)return hi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,a,0,null),e=Lc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):Vs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(o=Lc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ki(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Al)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,ji(e,a),ac(r,e,a,-1))}return yc(),Bs(e,t,s,r=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ii=ua(a.nextSibling),ai=t,oi=!0,si=null,null!==e&&(Ga[Xa++]=Ja,Ga[Xa++]=Za,Ga[Xa++]=$a,Ja=e.id,Za=e.overflow,$a=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Mc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Mc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Vs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&gi(r),ki(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Hs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function qs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=to.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(to,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===no(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Hs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===no(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Hs(t,!0,n,null,i);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Pa(t.type)&&Ma(),Ys(t),null;case 3:return r=t.stateNode,Ji(),Ca(Aa),Ca(Ia),ao(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(lc(si),si=null))),Ps(e,t),Ys(t),null;case 5:eo(t);var a=Xi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ys(t),null}if(e=Xi(Ki.current),fi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fa]=t,r[pa]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Vr(Mr[a],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ae(r,o),Vr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ea)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[pa]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),a=r;break;case"iframe":case"object":case"embed":Vr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Vr(Mr[a],e);a=r;break;case"source":Vr("error",e),a=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),a=r;break;case"details":Vr("toggle",e),a=r;break;case"input":X(e,r),a=G(e,r),Vr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Vr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Gi.current),Xi(Ki.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(o=r.nodeValue!==n)&&null!==(e=ai))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Ys(t),null;case 13:if(Ca(to),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oi&&null!==ii&&0!==(1&t.mode)&&0===(128&t.flags))pi(),mi(),t.flags|=98560,o=!1;else if(o=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[fa]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),o=!1}else null!==si&&(lc(si),si=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&to.current)?0===jl&&(jl=3):yc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return Ji(),Ps(e,t),null===e&&Hr(t.stateNode.containerInfo),Ys(t),null;case 10:return Di(t.type._context),Ys(t),null;case 19:if(Ca(to),null===(o=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ks(o,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=no(e))){for(t.flags|=128,Ks(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(to,1&to.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=no(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!oi)return Ys(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=to.current,Na(to,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ri(t),t.tag){case 1:return Pa(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Ca(Aa),Ca(Ia),ao(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return eo(t),null;case 13:if(Ca(to),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(to),null;case 4:return Ji(),null;case 10:return Di(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ms=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xi(Ki.current);var i,o=null;switch(n){case"input":a=G(e,a),r=G(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=ea)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Js=!1,Zs="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var rl=!1;function al(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&nl(t,n,i)}a=a.next}while(a!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ga],delete t[ya],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ea));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var dl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||tl(n,t);case 6:var r=dl,a=fl;dl=null,pl(e,t,n),fl=a,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),zt(e)):ca(dl,n.stateNode));break;case 4:r=dl,a=fl,dl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),dl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&nl(n,t,o),a=a.next}while(a!==r)}pl(e,t,n);break;case 1:if(!Js&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pl(e,t,n),Js=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));ml(o,s,a),dl=null,fl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Tc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),bl(e),4&r){try{al(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{al(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(a,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?ge(a,d):"dangerouslySetInnerHTML"===h?he(a,d):"children"===h?de(a,d):b(a,h,d,u)}switch(l){case"input":J(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[pa]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(yl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(yl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:yl(t,e),bl(e);break;case 13:yl(t,e),bl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=$e())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||h,yl(t,e),Js=u):yl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(el=e,h=e.child;null!==h;){for(d=el=h;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:al(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,el=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),hl(e,cl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,cl(e),o);break;default:throw Error(i(161))}}catch(xa){Tc(e,e.return,xa)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var a=el,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||$s;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=$s;var c=Js;if($s=o,(Js=l)&&!c)for(el=a;null!==el;)l=(o=el).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,el=l):Sl(a);for(;null!==i;)el=i,xl(i,t,n),i=i.sibling;el=a,$s=s,Js=c}kl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,el=i):kl(e)}}function kl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(i(163))}Js||512&t.flags&&ol(t)}catch(Jd){Tc(t,t.return,Jd)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(xa){Tc(t,n,xa)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(xa){Tc(t,a,xa)}}var i=t.return;try{ol(t)}catch(xa){Tc(t,i,xa)}break;case 5:var o=t.return;try{ol(t)}catch(xa){Tc(t,o,xa)}}}catch(xa){Tc(t,t.return,xa)}if(t===e){el=null;break}var s=t.sibling;if(null!==s){s.return=t.return,el=s;break}el=t.return}}var _l,Tl=Math.ceil,Cl=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,Dl=w.ReactCurrentBatchConfig,Il=0,Al=null,Ol=null,Rl=0,Pl=0,Ml=Ta(0),jl=0,Ll=null,Fl=0,Ul=0,Vl=0,Bl=null,zl=null,Hl=0,ql=1/0,Wl=null,Ql=!1,Kl=null,Yl=null,Gl=!1,Xl=null,$l=0,Jl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Il)?$e():-1!==ec?ec:ec=$e()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==yi.transition?(0===tc&&(tc=mt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ac(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(i(185));yt(e,n,r),0!==(2&Il)&&e===Al||(e===Al&&(0===(2&Il)&&(Ul|=n),4===jl&&cc(e,Rl)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=$e()+500,Ba&&qa()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===Al?Rl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ba=!0,Ha(e)}(uc.bind(null,e)):Ha(uc.bind(null,e)),sa((function(){0===(6&Il)&&qa()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(ec=-1,tc=0,0!==(6&Il))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Il;Il|=2;var o=gc();for(Al===e&&Rl===t||(Wl=null,ql=$e()+500,pc(e,t));;)try{wc();break}catch(l){mc(e,l)}Ni(),Cl.current=o,Il=a,null!==Ol?t=0:(Al=null,Rl=0,t=jl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Ll,pc(e,0),cc(e,r),ic(e,$e()),n;if(6===t)cc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ll,pc(e,0),cc(e,r),ic(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,zl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Hl+500-$e())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aa(Ec.bind(null,e,zl,Wl),t);break}Ec(e,zl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=aa(Ec.bind(null,e,zl,Wl),r);break}Ec(e,zl,Wl);break;default:throw Error(i(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&lc(t)),e}function lc(e){null===zl?zl=e:zl.push.apply(zl,e)}function cc(e,t){for(t&=~Vl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Il))throw Error(i(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,pc(e,0),cc(e,t),ic(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Wl),ic(e,$e()),null}function hc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=$e()+500,Ba&&qa())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Il)&&Sc();var t=Il;Il|=1;var n=Dl.transition,r=bt;try{if(Dl.transition=null,bt=1,e)return e()}finally{bt=r,Dl.transition=n,0===(6&(Il=t))&&qa()}}function fc(){Pl=Ml.current,Ca(Ml)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ia(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ri(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:Ji(),Ca(Aa),Ca(Ia),ao();break;case 5:eo(r);break;case 4:Ji();break;case 13:case 19:Ca(to);break;case 10:Di(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Al=e,Ol=e=Mc(e.current,null),Rl=Pl=t,jl=0,Ll=null,Vl=Ul=Fl=0,zl=Bl=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ri=null}return e}function mc(e,t){for(;;){var n=Ol;try{if(Ni(),io.current=es,ho){for(var r=lo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ho=!1}if(so=0,uo=co=lo=null,fo=!1,po=0,Nl.current=null,null===n||null===n.return){jl=1,Ll=t,Ol=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,bs(p,s,l,0,t),1&p.mode&&ys(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ys(o,u,t),yc();break e}c=Error(i(426))}else if(oi&&1&l.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bs(y,s,l,0,t),gi(hs(c,l));break e}}o=c=hs(c,l),4!==jl&&(jl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Hi(o,ms(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Hi(o,gs(o,l,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=es,null===e?es:e}function yc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Fl)&&0===(268435455&Ul)||cc(Al,Rl)}function vc(e,t){var n=Il;Il|=2;var r=gc();for(Al===e&&Rl===t||(Wl=null,pc(e,t));;)try{bc();break}catch(a){mc(e,a)}if(Ni(),Il=n,Cl.current=r,null!==Ol)throw Error(i(261));return Al=null,Rl=0,jl}function bc(){for(;null!==Ol;)xc(Ol)}function wc(){for(;null!==Ol&&!Ge();)xc(Ol)}function xc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?kc(e):Ol=t,Nl.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pl)))return void(Ol=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return jl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===jl&&(jl=5)}function Ec(e,t,n){var r=bt,a=Dl.transition;try{Dl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Xl);if(0!==(6&Il))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Al&&(Ol=Al=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Dl.transition,Dl.transition=null;var s=bt;bt=1;var l=Il;Il|=4,Nl.current=null,function(e,t){if(ta=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Fr){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(l=s+a),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(na={focusedElem:e,selectionRange:n},qt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:as(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(Fr){Tc(t,t.return,Fr)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),vl(n,e),pr(na),qt=!!ta,na=ta=null,e.current=n,wl(n,e,a),Xe(),Il=l,bt=s,Dl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Xl=e,$l=a),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ql)throw Ql=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,qa()}(e,t,n,r)}finally{Dl.transition=a,bt=r}return null}function Sc(){if(null!==Xl){var e=wt($l),t=Dl.transition,n=bt;try{if(Dl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,$l=0,0!==(6&Il))throw Error(i(331));var a=Il;for(Il|=4,el=e.current;null!==el;){var o=el,s=o.child;if(0!==(16&el.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var h=el;switch(h.tag){case 0:case 11:case 15:al(8,h,o)}var d=h.child;if(null!==d)d.return=h,el=d;else for(;null!==el;){var f=(h=el).sibling,p=h.return;if(sl(h),h===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}el=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,el=s;else e:for(;null!==el;){if(0!==(2048&(o=el).flags))switch(o.tag){case 0:case 11:case 15:al(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,el=v;break e}el=o.return}}var b=e.current;for(el=b;null!==el;){var w=(s=el).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,el=w;else e:for(s=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(k){Tc(l,l.return,k)}if(l===s){el=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,el=x;break e}el=l.return}}if(Il=a,qa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Dl.transition=t}}return!1}function _c(e,t,n){e=Bi(e,t=ms(0,t=hs(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Bi(t,e=gs(t,e=hs(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Rl&n)===n&&(4===jl||3===jl&&(130023424&Rl)===Rl&&500>$e()-Hl?pc(e,0):Vl|=n),ic(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=ji(e,t))&&(yt(e,t,n),ic(e,n))}function Dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nc(e,n)}function Ac(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Lc(n.children,a,o,t);case S:s=8,a|=8;break;case _:return(e=Rc(12,n,t,2|a)).elementType=_,e.lanes=o,e;case D:return(e=Rc(13,n,t,a)).elementType=D,e.lanes=o,e;case I:return(e=Rc(19,n,t,a)).elementType=I,e.lanes=o,e;case R:return Fc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,i,o,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function Hc(e){if(!e)return Da;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return La(e,n,t)}return t}function qc(e,t,n,r,a,i,o,s,l){return(e=zc(n,r,!0,e,0,i,0,s,l)).context=Hc(null),n=e.current,(i=Vi(r=nc(),a=rc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,a),e.current.lanes=a,yt(e,a,r),ic(e,r),e}function Wc(e,t,n,r){var a=t.current,i=nc(),o=rc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(a,t,o))&&(ac(e,a,o,i),zi(e,a,o)),o}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),mi();break;case 5:Zi(t);break;case 1:Pa(t.type)&&Fa(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(Si,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(to,1&to.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Na(to,1&to.current),null!==(e=Qs(e,t,n))?e.sibling:null);Na(to,1&to.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(to,to.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Qs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,oi&&0!==(1048576&t.flags)&&ti(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=Ra(t,Ia.current);Ai(t,n),a=vo(null,t,r,e,a,n);var o=bo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(o=!0,Fa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fi(t),a.updater=os,t.stateNode=a,a._reactInternals=t,us(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,oi&&o&&ni(t),ks(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=as(r,e),a){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Ds(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,as(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:as(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ds(e,t,r,a=t.elementType===r?a:as(r,a),n);case 3:e:{if(As(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ui(e,t),qi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,a=hs(Error(i(423)),t));break e}if(r!==a){t=Os(e,t,r,n,a=hs(Error(i(424)),t));break e}for(ii=ua(t.stateNode.containerInfo.firstChild),ai=t,oi=!0,si=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),r===a){t=Qs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&hi(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(r,a)?s=null:null!==o&&ra(r,o)&&(t.flags|=32),Cs(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&hi(t),null;case 13:return Us(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:as(r,a),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Na(Si,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Aa.current){t=Qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Vi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ii(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ii(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ai(t,n),r=r(a=Oi(a)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return a=as(r=t.type,t.pendingProps),Ss(e,t,r,a=as(r.type,a),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:as(r,a),Ws(e,t),t.tag=1,Pa(r)?(e=!0,Fa(t)):e=!1,Ai(t,n),ls(t,r,a),us(t,r,a,n),Is(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Qc(o);s.call(e)}}Wc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Qc(o);i.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=o,e[ma]=o.current,Hr(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Qc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[ma]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,a,r);return Qc(o)}$c.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},$c.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[ma]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,$e()),0===(6&Il)&&(ql=$e()+500,qa()))}break;case 13:dc((function(){var t=ji(e,1);if(null!==t){var n=nc();ac(t,e,1,n)}})),Yc(e,1)}},kt=function(e){if(13===e.tag){var t=ji(e,134217728);if(null!==t)ac(t,e,134217728,nc());Yc(e,134217728)}},Et=function(e){if(13===e.tag){var t=rc(e),n=ji(e,t);if(null!==n)ac(n,e,t,nc());Yc(e,t)}},St=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ea(r);if(!a)throw Error(i(90));K(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=hc,De=dc;var nu={usingClientEntryPoint:!1,Events:[wa,ka,Ea,Te,Ce,hc]},ru={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},au={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{at=iu.inject(au),it=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,a,0,o,s),e[ma]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=hc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),a=n(391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const h=["sri"],d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return _((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return k("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:E(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function _(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s="POP",l=null,c=h();function h(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function f(e){return T(e)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let p={get action(){return s},get location(){return e(a,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,d),l=e,()=>{a.removeEventListener(y,d),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=k(p.location,e,t);n&&n(r,e),c=h()+1;let u=x(r,c),d=p.createHref(r);try{o.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(d)}i&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=k(p.location,e,t);n&&n(r,e),c=h();let a=x(r,c),u=p.createHref(r);o.replaceState(a,"",u),i&&l&&l({action:s,location:p.location,delta:0})},go:e=>o.go(e)};return p}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:E(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let a=H(("string"===typeof t?S(t):t).pathname||"/",n);if(null==a)return null;let i=D(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=z(a);o=U(i[s],e,r)}return o}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(b(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let s=Y([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),D(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:F(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of I(e.path))a(e,t,r);else a(e,t)})),t}function I(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=I(r.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var A=/^:[\w-]+$/,O=3,R=2,P=1,M=10,j=-2,L=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=j),t&&(r+=R),n.filter((e=>!L(e))).reduce(((e,t)=>e+(A.test(t)?O:""===t?P:M)),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Y([i,u.pathname]),pathnameBase:G(Y([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=Y([i,u.pathnameBase]))}return o}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Q(e){let t=W(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function K(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let i,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!a&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?S(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:X(r),hash:$(a)}}(r,i),c=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ae=r.createContext(new Map);ae.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var oe=r.createContext(null);oe.displayName="Navigation";var se=r.createContext(null);se.displayName="Location";var le=r.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function ue(){return null!=r.useContext(se)}function he(){return b(ue(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(se).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(oe).static||r.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=r.useContext(le);return e?function(){let{router:e}=Se("useNavigate"),t=Te("useNavigate"),n=r.useRef(!1);fe((()=>{n.current=!0}));let a=r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,de),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},a)))}),[e,t]);return a}():function(){b(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(oe),{matches:a}=r.useContext(le),{pathname:i}=he(),o=JSON.stringify(Q(a)),s=r.useRef(!1);fe((()=>{s.current=!0}));let l=r.useCallback((function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(s.current,de),!s.current)return;if("number"===typeof r)return void n.go(r);let l=K(r,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Y([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[t,n,o,i,e]);return l}()}r.createContext(null);function me(){let{matches:e}=r.useContext(le),t=e[e.length-1];return t?t.params:{}}function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(le),{pathname:a}=he(),i=JSON.stringify(Q(n));return r.useMemo((()=>K(e,JSON.parse(i),a,"path"===t)),[e,i,a,t])}function ye(e,t,n,a){b(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(oe),{matches:o}=r.useContext(le),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";De(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=he();if(t){var m;let e="string"===typeof t?S(t):t;b("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=C(e,{pathname:y});w(d||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=ke(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Y([h,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Y([h,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,a);return t&&x?r.createElement(se.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},x):x}function ve(){let e=Ce(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,s)}var be=r.createElement(ve,null),we=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(le.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:a}=e,i=r.useContext(te);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(le.Provider,{value:t},a)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,s=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,a=s>=0?a.slice(0,s+1):[a[0]];break}}}return a.reduceRight(((e,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,d=l.route.errorElement||be,o&&(s<0&&0===c?(De("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):s===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,c+1)),m=()=>{let t;return t=u?d:h?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(xe,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(we,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function Ee(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=r.useContext(te);return b(t,Ee(e)),t}function _e(e){let t=r.useContext(ne);return b(t,Ee(e)),t}function Te(e){let t=function(e){let t=r.useContext(le);return b(t,Ee(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=r.useContext(ce),n=_e("useRouteError"),a=Te("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Ne={};function De(e,t,n){t||Ne[e]||(Ne[e]=!0,w(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ye(t,void 0,r,n)}));function Ie(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(e){let{basename:t="/",children:n=null,location:a,navigationType:i="POP",navigator:o,static:s=!1}=e;b(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:o,static:s,future:{}})),[l,o,s]);"string"===typeof a&&(a=S(a));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=a,m=r.useMemo((()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}}),[l,u,h,d,f,p,i]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(oe.Provider,{value:c},r.createElement(se.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return ye(Re(t),n)}r.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Re(e.props.children,i));b(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Re(e.props.children,i)),n.push(o)})),n}var Pe="get",Me="application/x-www-form-urlencoded";function je(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||Fe.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function Ve(e,t){let n,r,a,i,o;if(je(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?H(o,t):null,n=e.getAttribute("method")||Pe,a=Ue(e.getAttribute("enctype"))||Me,i=new FormData(e)}else if(function(e){return je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?H(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Pe,a=Ue(e.getAttribute("formenctype"))||Ue(o.getAttribute("enctype"))||Me,i=new FormData(o,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,a=Me,o=e}var s;return i&&"text/plain"===a&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function He(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function We(e,t,n,r,a,i){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!He(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function Ye(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ge=new Set([100,101,204,205]);function Xe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===H(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function $e(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(Je,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Je(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=rt();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!i?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,a?r.createElement(ut,null):null)))}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=r.useContext(te);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=r.useContext(ne);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=r.createContext(void 0);function rt(){let e=r.useContext(nt);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ot(e){let{page:t}=e,n=i(e,d),{router:a}=et(),o=r.useMemo((()=>C(a.routes,t,a.basename)),[a.routes,t,a.basename]);return o?r.createElement(lt,u({page:t,matches:o},n)):null}function st(e){let{manifest:t,routeModules:n}=rt(),[a,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]})));return Ke(r.flat(1).filter(qe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),a}function lt(e){let{page:t,matches:n}=e,a=i(e,f),o=he(),{manifest:s,routeModules:l}=rt(),{basename:c}=et(),{loaderData:h,matches:d}=tt(),p=r.useMemo((()=>We(t,n,d,s,o,"data")),[t,n,d,s,o]),m=r.useMemo((()=>We(t,n,d,s,o,"assets")),[t,n,d,s,o]),g=r.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let a=s.routes[t.route.id];a&&a.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let a=Xe(t,c);return r&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[c,h,o,s,p,n,t,l]),y=r.useMemo((()=>Qe(m,s)),[m,s]),v=st(m);return r.createElement(r.Fragment,null,g.map((e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},a)))),y.map((e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},a)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t},n))})))}nt.displayName="FrameworkContext";var ct=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:o,routeDiscovery:s,ssr:l}=rt(),{router:c,static:d,staticContext:f}=et(),{matches:p}=tt(),m=Ze(s,l);o&&(o.didRenderScripts=!0);let g=it(p,null,a);r.useEffect((()=>{ct=!0}),[]);let y=r.useMemo((()=>{var a;let o=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=d?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];Be(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,h),a=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let l=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ye(o),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ye(s),type:"module",async:!0})))}),[]),v=ct?[]:(b=t.entry.imports.concat(Qe(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return ct?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0}))),y)}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.6.2")}catch(rx){}function ft(e){let{basename:t,children:n,window:a}=e,i=r.useRef();null==i.current&&(i.current=v({window:a,v5Compat:!0}));let o=i.current,[s,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>o.listen(c)),[o,c]),r.createElement(Ae,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef((function(e,t){let n,{onClick:a,discover:o="render",prefetch:s="none",relative:l,reloadDocument:c,replace:h,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=i(e,p),{basename:x}=r.useContext(oe),k="string"===typeof m&&pt.test(m),S=!1;if("string"===typeof m&&k&&(n=m,dt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=H(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:S=!0}catch(rx){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(oe),{hash:i,pathname:o,search:s}=ge(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:Y([n,o])),a.createHref({pathname:l,search:s,hash:i})}(m,{relative:l}),[T,C,N]=function(e,t){let n=r.useContext(nt),[a,i]=r.useState(!1),[o,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(a){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:at(l,p),onBlur:at(c,m),onMouseEnter:at(u,p),onMouseLeave:at(h,m),onTouchStart:at(d,p)}]:[!1,f,{}]}(s,v),D=function(e){let{target:t,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),c=he(),u=ge(e,{relative:o});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:E(c)===E(u);l(e,{replace:t,state:a,preventScrollReset:i,relative:o,viewTransition:s})}}),[c,l,u,n,a,t,e,i,o,s])}(m,{replace:h,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let I=r.createElement("a",u(u(u({},v),N),{},{href:n||_,onClick:S||c?a:function(e){a&&a(e),e.defaultPrevented||D(e)},ref:ht(t,C),target:f,"data-discover":k||"render"!==o?void 0:"true"}));return T&&!k?r.createElement(r.Fragment,null,I,r.createElement(ot,{page:_})):I}));mt.displayName="Link";var gt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:h,children:d}=e,f=i(e,m),p=ge(c,{relative:f.relative}),g=he(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(oe),x=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=bt("useViewTransitionState"),i=ge(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=H(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=H(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=V(i.pathname,s)||null!=V(i.pathname,o)}(p)&&!0===h,k=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,E=g.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(E=E.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&w&&(S=H(S,w)||S);const _="/"!==k&&k.endsWith("/")?k.length-1:k.length;let T,C=E===k||!s&&E.startsWith(k)&&"/"===E.charAt(_),N=null!=S&&(S===k||!s&&S.startsWith(k)&&"/"===S.charAt(k.length)),D={isActive:C,isPending:N,isTransitioning:x},I=C?n:void 0;T="function"===typeof o?o(D):[o,C?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(D):l;return r.createElement(mt,u(u({},f),{},{"aria-current":I,className:T,ref:t,style:A,to:c,viewTransition:h}),"function"===typeof d?d(D):d)}));gt.displayName="NavLink";var yt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:l,state:c,method:h=Pe,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=i(e,g),w=kt(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(oe),a=r.useContext(le);b(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o=u({},ge(e||".",{relative:t})),s=he();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:Y([n,o.pathname]));return E(o)}(d,{relative:p}),k="get"===h.toLowerCase()?"get":"post",S="string"===typeof d&&pt.test(d);return r.createElement("form",u(u({ref:t,method:k,action:x,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;w(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":S||"render"!==n?void 0:"true"}))}));function vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(te);return b(t,vt(e)),t}yt.displayName="Form";var wt=0,xt=()=>"__".concat(String(++wt),"__");function kt(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(oe),n=Te("useRouteId");return r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:l,body:c}=Ve(r,t);if(!1===a.navigate){let t=a.fetcherKey||xt();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}const Et=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},St={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,o=i?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;s||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Et(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const s=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==o||null==s)throw new _t;const l=t<<2|i>>4;if(r.push(l),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tt=function(e){return function(e){const t=Et(e);return St.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ct=function(e){try{return St.decodeString(e,!0)}catch(rx){console.error("base64Decode failed: ",rx)}return null};function Nt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Dt=()=>{try{return Nt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/trainer-booking-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCrDBWI-GcPQi6gjQ_kxcau4XURzJr7XRc",REACT_APP_FIREBASE_AUTH_DOMAIN:"built-relentless.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"built-relentless",REACT_APP_FIREBASE_STORAGE_BUCKET:"built-relentless.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1095158432810",REACT_APP_FIREBASE_APP_ID:"G-55RFX43SJR"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(rx){return}const t=e&&Ct(e[1]);return t&&JSON.parse(t)})()}catch(rx){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(rx))}},It=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Dt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},At=()=>{var e;return null===(e=Dt())||void 0===e?void 0:e.config};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Rt(e){return e.endsWith(".cloudworkstations.dev")}async function Pt(e){return(await fetch(e,{credentials:"include"})).ok}function Mt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tt(JSON.stringify({alg:"none",type:"JWT"})),Tt(JSON.stringify(i)),""].join(".")}const jt={};let Lt=!1;function Ft(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Rt(window.location.host)||jt[e]===t||jt[e]||Lt)return;function n(e){return"__firebase__banner__".concat(e)}jt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(jt))jt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Lt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}a?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Ut(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vt(){var e;const t=null===(e=Dt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(rx){return!1}}function Bt(){return!Vt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zt(){try{return"object"===typeof indexedDB}catch(rx){return!1}}class Ht extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Wt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new Ht(n,i,t)}}const Wt=/\{\$([^}]+)}/g;function Qt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Kt(n)&&Kt(i)){if(!Qt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Kt(e){return null!==e&&"object"===typeof e}function Yt(e){return e&&e._delegate?e._delegate:e}class Gt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xt="[DEFAULT]";class $t{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ot;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(rx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(rx){if(r)return null;throw rx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xt})}catch(rx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(rx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===Xt?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return this.component?this.component.multipleInstances?e:Xt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $t(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zt=[];var en;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(en||(en={}));const tn={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},nn=en.INFO,rn={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},an=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class on{constructor(e){this.name=e,this._logLevel=nn,this._logHandler=an,this._userLogHandler=null,Zt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...t),this._logHandler(this,en.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...t),this._logHandler(this,en.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.INFO,...t),this._logHandler(this,en.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.WARN,...t),this._logHandler(this,en.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,en.ERROR,...t),this._logHandler(this,en.ERROR,...t)}}let sn,ln;const cn=new WeakMap,un=new WeakMap,hn=new WeakMap,dn=new WeakMap,fn=new WeakMap;let pn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return un.get(e);if("objectStoreNames"===t)return e.objectStoreNames||hn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ln||(ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vn(this),n),yn(cn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yn(e.apply(vn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(vn(this),t,...r);return hn.set(i,t.sort?t.sort():[t]),yn(i)}}function gn(e){return"function"===typeof e?mn(e):(e instanceof IDBTransaction&&function(e){if(un.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));un.set(e,t)}(e),t=e,(sn||(sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,pn):e);var t}function yn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(yn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&cn.set(t,e)})).catch((()=>{})),fn.set(t,e),t}(e);if(dn.has(e))return dn.get(e);const t=gn(e);return t!==e&&(dn.set(e,t),fn.set(t,e)),t}const vn=e=>fn.get(e);const bn=["get","getKey","getAll","getAllKeys","count"],wn=["put","add","delete","clear"],xn=new Map;function kn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(xn.get(t))return xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=wn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!bn.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),a&&t.done]))[0]};return xn.set(t,i),i}pn=(e=>u(u({},e),{},{get:(t,n,r)=>kn(t,n)||e.get(t,n,r),has:(t,n)=>!!kn(t,n)||e.has(t,n)}))(pn);class En{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Sn="@firebase/app",_n="0.13.1",Tn=new on("@firebase/app"),Cn="@firebase/app-compat",Nn="@firebase/analytics-compat",Dn="@firebase/analytics",In="@firebase/app-check-compat",An="@firebase/app-check",On="@firebase/auth",Rn="@firebase/auth-compat",Pn="@firebase/database",Mn="@firebase/data-connect",jn="@firebase/database-compat",Ln="@firebase/functions",Fn="@firebase/functions-compat",Un="@firebase/installations",Vn="@firebase/installations-compat",Bn="@firebase/messaging",zn="@firebase/messaging-compat",Hn="@firebase/performance",qn="@firebase/performance-compat",Wn="@firebase/remote-config",Qn="@firebase/remote-config-compat",Kn="@firebase/storage",Yn="@firebase/storage-compat",Gn="@firebase/firestore",Xn="@firebase/ai",$n="@firebase/firestore-compat",Jn="firebase",Zn="[DEFAULT]",er={[Sn]:"fire-core",[Cn]:"fire-core-compat",[Dn]:"fire-analytics",[Nn]:"fire-analytics-compat",[An]:"fire-app-check",[In]:"fire-app-check-compat",[On]:"fire-auth",[Rn]:"fire-auth-compat",[Pn]:"fire-rtdb",[Mn]:"fire-data-connect",[jn]:"fire-rtdb-compat",[Ln]:"fire-fn",[Fn]:"fire-fn-compat",[Un]:"fire-iid",[Vn]:"fire-iid-compat",[Bn]:"fire-fcm",[zn]:"fire-fcm-compat",[Hn]:"fire-perf",[qn]:"fire-perf-compat",[Wn]:"fire-rc",[Qn]:"fire-rc-compat",[Kn]:"fire-gcs",[Yn]:"fire-gcs-compat",[Gn]:"fire-fst",[$n]:"fire-fst-compat",[Xn]:"fire-vertex","fire-js":"fire-js",[Jn]:"fire-js-all"},tr=new Map,nr=new Map,rr=new Map;function ar(e,t){try{e.container.addComponent(t)}catch(rx){Tn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),rx)}}function ir(e){const t=e.name;if(rr.has(t))return Tn.debug("There were multiple attempts to register component ".concat(t,".")),!1;rr.set(t,e);for(const n of tr.values())ar(n,e);for(const n of nr.values())ar(n,e);return!0}function or(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const lr=new qt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const ur="11.9.0";function hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Zn,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw lr.create("bad-app-name",{appName:String(a)});if(n||(n=At()),!n)throw lr.create("no-options");const i=tr.get(a);if(i){if(Qt(n,i.options)&&Qt(r,i.config))return i;throw lr.create("duplicate-app",{appName:a})}const o=new Jt(a);for(const l of rr.values())o.addComponent(l);const s=new cr(n,r,o);return tr.set(a,s),s}function dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;const t=tr.get(e);if(!t&&e===Zn&&At())return hr();if(!t)throw lr.create("no-app",{appName:e});return t}function fr(e,t,n){var r;let a=null!==(r=er[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Tn.warn(e.join(" "))}ir(new Gt("".concat(a,"-version"),(()=>({library:a,version:t})),"VERSION"))}const pr="firebase-heartbeat-store";let mr=null;function gr(){return mr||(mr=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=yn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(yn(o.result),e.oldVersion,e.newVersion,yn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pr)}catch(rx){console.warn(rx)}}}).catch((e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})}))),mr}async function yr(e,t){try{const n=(await gr()).transaction(pr,"readwrite"),r=n.objectStore(pr);await r.put(t,vr(e)),await n.done}catch(rx){if(rx instanceof Ht)Tn.warn(rx.message);else{const t=lr.create("idb-set",{originalErrorMessage:null===rx||void 0===rx?void 0:rx.message});Tn.warn(t.message)}}}function vr(e){return"".concat(e.name,"!").concat(e.options.appId)}class br{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(rx){Tn.warn(rx)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=wr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),kr(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Tt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(rx){return Tn.warn(rx),""}}}function wr(){return(new Date).toISOString().substring(0,10)}class xr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await gr()).transaction(pr),n=await t.objectStore(pr).get(vr(e));return await t.done,n}catch(rx){if(rx instanceof Ht)Tn.warn(rx.message);else{const t=lr.create("idb-get",{originalErrorMessage:null===rx||void 0===rx?void 0:rx.message});Tn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function kr(e){return Tt(JSON.stringify({version:2,heartbeats:e})).length}var Er;Er="",ir(new Gt("platform-logger",(e=>new En(e)),"PRIVATE")),ir(new Gt("heartbeat",(e=>new br(e)),"PRIVATE")),fr(Sn,_n,Er),fr(Sn,_n,"esm2017"),fr("fire-js","");var Sr,_r,Tr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Cr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],o=t+(i^n&(a^i))+r[0]+3614090360&4294967295;o=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=i+((o=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(a[i++]=e.charCodeAt(o++),i==this.blockSize){n(this,a),i=0;break}}else for(;o<t;)if(a[i++]=e[o++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(o(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var s=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(a=a.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=o(n)).j(t);h(c)||0<c.l(e);)c=(i=o(n-=r)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new m(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],o=0;o<a;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,i=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var o=a+(65535&this.i(i))+(65535&e.i(i)),s=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(i)>>>16,g=65535&e.i(i);n[2*a+2*i]+=f*g,p(n,2*a+2*i),n[2*a+2*i+1]+=l*g,p(n,2*a+2*i+1),n[2*a+2*i+1]+=f*m,p(n,2*a+2*i+1),n[2*a+2*i+2]+=l*m,p(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,_r=Cr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),a=s,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=o(Math.pow(n,l)),a=a.j(l).add(o(c))):a=(a=a.j(r)).add(o(c))}return a},Sr=Cr.Integer=r}).apply("undefined"!==typeof Tr?Tr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Nr,Dr,Ir,Ar,Or,Rr,Pr,Mr,jr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Lr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof jr&&jr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in a))break e;a=a[o]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){a.setTimeout((()=>{throw e}),0)}function S(){var e=D;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,D=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=a.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){E(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function O(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,R);var j={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}B.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=H(e,t,r,a);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function Q(e,t,n,r,a){if(r&&r.once)return Y(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var s=o(a)?!!a.capture:!!a,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(a=s),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Y(e,t[i],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function G(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)G(e,t[i],n,r,a);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,a))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var a=t;x(t=new R(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];a=ae(o,r,!0,t)&&a}if(a=ae(o=t.g=e,r,!0,t)&&a,a=ae(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ae(o=t.g=n[i],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),a=!1!==s.call(l,r)&&a}}return a&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function oe(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,de=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}h(ve,R),h(be,R);var we={},xe=null;function ke(){return xe=xe||new ne}function Ee(e){R.call(this,we.La,e)}function Se(e){const t=ke();re(t,new Ee(t))}function _e(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=ke();re(t,new _e(t,e))}function Ce(e,t){R.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function De(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return he(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ee,R),we.STAT_EVENT="statevent",h(_e,R),we.Ma="timingevent",h(Ce,R),De.prototype.xa=function(){this.g=!1},De.prototype.info=function(){};var Ae,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}h(Pe,pe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var o=Q(n,a[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var o="",s=i.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function We(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Xt(n)}rn(n),Te(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=d||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Qt(this.g);e="";var i=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Qe(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),Qe(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==Fe){4==d&&(this.s=4,Te(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Te(15),Ie(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ye(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),an(h),h.M=!0,Te(11))}}else Ie(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),Qe(this)}else Ie(this.i,this.l,s,null),Ye(this,s);4==d&&Ke(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),Qe(this)}}}catch(d){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ke(this),this.s=2,Qe(this)):qe(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,o=0;o<a;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,st(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new it(e)}function st(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){kt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return kt(e),t=Tt(e,t),e.g.has(t)}function _t(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(i){}}function Nt(){this.g=new fe}function Dt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let a=e;o(e)&&(a=he(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(rx){throw t.push(r+"type="+encodeURIComponent("_badmap")),rx}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){kt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,St(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")},h(It,pe),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),h(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Pt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Lt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var o=String(e.D).match(at)[1]||null;!o&&a.self&&a.self.location&&(o=a.self.location.protocol.slice(0,-1)),i=!Ft.test(o?o.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(rx){}}}function qt(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if($t(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(a.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),N||(C(),N=!0),D.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=a[s].g;const l=a[s].map;if(n-=t,0>n)t=Math.max(0,a[s].g-100),o=!1;else try{Dt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),N||(C(),N=!0),D.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=ke(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||st(r,"https"),ht(r),t?function(e,t){const n=new De;if(a.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new De;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?ot(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new it(null);r&&st(o,r),t&&(o.g=t),i&&lt(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new It({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),x(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,a,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Mt(i)))+"&"+t:this.m&&jt(n,this.m,i)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Ue(a,n,null)):Ue(a,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Xt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Gt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Mr=Lr.createWebChannelTransport=function(){return new mn},Pr=Lr.getStatEventTarget=function(){return ke()},Rr=Lr.Event=we,Or=Lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Ar=Lr.ErrorCode=Oe,Re.COMPLETE="complete",Ir=Lr.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Dr=Lr.WebChannel=ge,Lr.FetchXmlHttpFactory=It,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Nr=Lr.XhrIo=Lt}).apply("undefined"!==typeof jr?jr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Fr="@firebase/firestore",Ur="4.7.17";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let Br="11.9.0";const zr=new on("@firebase/firestore");function Hr(){return zr.logLevel}function qr(e){if(zr.logLevel<=en.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Kr);zr.debug("Firestore (".concat(Br,"): ").concat(e),...a)}}function Wr(e){if(zr.logLevel<=en.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Kr);zr.error("Firestore (".concat(Br,"): ").concat(e),...a)}}function Qr(e){if(zr.logLevel<=en.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Kr);zr.warn("Firestore (".concat(Br,"): ").concat(e),...a)}}function Kr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Yr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Gr(e,r,n)}function Gr(e,t,n){let r="FIRESTORE (".concat(Br,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function Xr(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||Gr(t,a,r)}function $r(e,t){return e}const Jr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zr extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ea{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ta{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class na{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vr.UNAUTHENTICATED)))}shutdown(){}}class ra{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aa{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ea,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{qr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(qr("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ea)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(qr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xr("string"==typeof t.accessToken,31837,{l:t}),new ta(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xr(null===e||"string"==typeof e,2055,{h:e}),new Vr(e)}}class ia{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oa{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ia(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class la{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xr(void 0===this.o,3512);const n=e=>{null!=e.error&&qr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,qr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{qr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):qr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sa(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new sa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ca(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function ua(){return new TextEncoder}class ha{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ca(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function da(e,t){return e<t?-1:e>t?1:0}function fa(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return da(r,a);{const i=ua(),o=ma(i.encode(pa(e,n)),i.encode(pa(t,n)));return 0!==o?o:da(r,a)}}n+=r>65535?2:1}return da(e.length,t.length)}function pa(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ma(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return da(e[n],t[n]);return da(e.length,t.length)}function ga(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ya=-62135596800,va=1e6;class ba{static now(){return ba.fromMillis(Date.now())}static fromDate(e){return ba.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*va);return new ba(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ya)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zr(Jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/va}_compareTo(e){return this.seconds===e.seconds?da(this.nanoseconds,e.nanoseconds):da(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ya;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wa{static fromTimestamp(e){return new wa(e)}static min(){return new wa(new ba(0,0))}static max(){return new wa(new ba(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xa="__name__";class ka{constructor(e,t,n){void 0===t?t=0:t>e.length&&Yr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Yr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ka.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ka.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return da(e.length,t.length)}static compareSegments(e,t){const n=ka.isNumericId(e),r=ka.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ka.extractNumericId(e).compare(ka.extractNumericId(t)):fa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Ea extends ka{construct(e,t,n){return new Ea(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Zr(Jr.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter((e=>e.length>0)))}return new Ea(e)}static emptyPath(){return new Ea([])}}const Sa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _a extends ka{construct(e,t,n){return new _a(e,t,n)}static isValidIdentifier(e){return Sa.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_a.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===xa}static keyField(){return new _a([xa])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Zr(Jr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zr(Jr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zr(Jr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new Zr(Jr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _a(t)}static emptyPath(){return new _a([])}}class Ta{constructor(e){this.path=e}static fromPath(e){return new Ta(Ea.fromString(e))}static fromName(e){return new Ta(Ea.fromString(e).popFirst(5))}static empty(){return new Ta(Ea.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ea.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ea.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ta(new Ea(e.slice()))}}const Ca=-1;class Na{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Na.UNKNOWN_ID=-1;function Da(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=wa.fromTimestamp(1e9===r?new ba(n+1,0):new ba(n,r));return new Aa(a,Ta.empty(),t)}function Ia(e){return new Aa(e.readTime,e.key,Ca)}class Aa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Aa(wa.min(),Ta.empty(),Ca)}static max(){return new Aa(wa.max(),Ta.empty(),Ca)}}function Oa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ta.comparator(e.documentKey,t.documentKey),0!==n?n:da(e.largestBatchId,t.largestBatchId))}const Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ma(e){if(e.code!==Jr.FAILED_PRECONDITION||e.message!==Ra)throw e;qr("LocalStore","Unexpectedly lost primary lease")}class ja{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ja(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ja?t:ja.resolve(t)}catch(e){return ja.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ja.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ja.reject(t)}static resolve(e){return new ja(((t,n)=>{t(e)}))}static reject(e){return new ja(((t,n)=>{n(e)}))}static waitFor(e){return new ja(((t,n)=>{let r=0,a=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++a,i&&a===r&&t()}),(e=>n(e)))})),i=!0,a===r&&t()}))}static or(e){let t=ja.resolve(!1);for(const n of e)t=t.next((e=>e?ja.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ja(((n,r)=>{const a=e.length,i=new Array(a);let o=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next((e=>{i[l]=e,++o,o===a&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new ja(((n,r)=>{const a=()=>{!0===e()?t().next((()=>{a()}),r):n()};a()}))}}function La(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fa(e){return"IndexedDbTransactionError"===e.name}class Ua{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ua.le=-1;const Va=-1;function Ba(e){return null==e}function za(e){return 0===e&&1/e==-1/0}function Ha(e){return"number"==typeof e&&Number.isInteger(e)&&!za(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const qa="\x01";function Wa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ka(t)),t=Qa(e.get(n),t);return Ka(t)}function Qa(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case qa:n+="\x01\x11";break;default:n+=t}}return n}function Ka(e){return e+qa+"\x01"}const Ya="remoteDocuments",Ga="owner",Xa="mutationQueues",$a="mutations";const Ja="documentMutations",Za="remoteDocumentsV14",ei="remoteDocumentGlobal",ti="targets",ni="targetDocuments",ri="targetGlobal",ai="collectionParents",ii="clientMetadata",oi="bundles",si="namedQueries",li="indexConfiguration",ci="indexState",ui="indexEntries",hi="documentOverlays",di="globals",fi=[Xa,$a,Ja,Ya,ti,Ga,ri,ni,ii,ei,ai,oi,si],pi=[Xa,$a,Ja,Za,ti,Ga,ri,ni,ii,ei,ai,oi,si,hi],mi=pi,gi=[...mi,li,ci,ui];function yi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wi{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xi(this.root,e,this.comparator,!0)}}class xi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:ki.RED,this.left=null!=r?r:ki.EMPTY,this.right=null!=a?a:ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new ki(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ki.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Yr(27949);return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Yr(57766)}get value(){throw Yr(16141)}get color(){throw Yr(16727)}get left(){throw Yr(29726)}get right(){throw Yr(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Si(this.data.getIterator())}getIteratorFrom(e){return new Si(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ei))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ei(this.comparator);return t.data=e,t}}class Si{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _i{constructor(e){this.fields=e,e.sort(_a.comparator)}static empty(){return new _i([])}unionWith(e){let t=new Ei(_a.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ti extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ti("Invalid base64 string: "+e):e}}(e);return new Ci(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return da(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const Ni=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(e){if(Xr(!!e,39018),"string"==typeof e){let t=0;const n=Ni.exec(e);if(Xr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ii(e.seconds),nanos:Ii(e.nanos)}}function Ii(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ai(e){return"string"==typeof e?Ci.fromBase64String(e):Ci.fromUint8Array(e)}const Oi="server_timestamp",Ri="__type__",Pi="__previous_value__",Mi="__local_write_time__";function ji(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ri])||void 0===n?void 0:n.stringValue)===Oi}function Li(e){const t=e.mapValue.fields[Pi];return ji(t)?Li(t):t}function Fi(e){const t=Di(e.mapValue.fields[Mi].timestampValue);return new ba(t.seconds,t.nanos)}class Ui{constructor(e,t,n,r,a,i,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Vi="(default)";class Bi{constructor(e,t){this.projectId=e,this.database=t||Vi}static empty(){return new Bi("","")}get isDefaultDatabase(){return this.database===Vi}isEqual(e){return e instanceof Bi&&e.projectId===this.projectId&&e.database===this.database}}const zi="__type__",Hi="__max__",qi={mapValue:{fields:{__type__:{stringValue:Hi}}}},Wi="__vector__",Qi="value";function Ki(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ji(e)?4:co(e)?9007199254740991:so(e)?10:11:Yr(28295,{value:e})}function Yi(e,t){if(e===t)return!0;const n=Ki(e);if(n!==Ki(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fi(e).isEqual(Fi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Di(e.timestampValue),r=Di(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ai(e.bytesValue).isEqual(Ai(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ii(e.geoPointValue.latitude)===Ii(t.geoPointValue.latitude)&&Ii(e.geoPointValue.longitude)===Ii(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ii(e.integerValue)===Ii(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ii(e.doubleValue),r=Ii(t.doubleValue);return n===r?za(n)===za(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ga(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yi(n)!==yi(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Yi(n[a],r[a])))return!1;return!0}(e,t);default:return Yr(52216,{left:e})}}function Gi(e,t){return void 0!==(e.values||[]).find((e=>Yi(e,t)))}function Xi(e,t){if(e===t)return 0;const n=Ki(e),r=Ki(t);if(n!==r)return da(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return da(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ii(e.integerValue||e.doubleValue),r=Ii(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $i(e.timestampValue,t.timestampValue);case 4:return $i(Fi(e),Fi(t));case 5:return fa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ai(e),r=Ai(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=da(n[a],r[a]);if(0!==e)return e}return da(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=da(Ii(e.latitude),Ii(t.latitude));return 0!==n?n:da(Ii(e.longitude),Ii(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ji(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,i;const o=e.fields||{},s=t.fields||{},l=null===(n=o[Qi])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Qi])||void 0===r?void 0:r.arrayValue,u=da((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ji(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qi.mapValue&&t===qi.mapValue)return 0;if(e===qi.mapValue)return 1;if(t===qi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=fa(r[o],i[o]);if(0!==e)return e;const t=Xi(n[r[o]],a[i[o]]);if(0!==t)return t}return da(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Yr(23264,{Pe:n})}}function $i(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return da(e,t);const n=Di(e),r=Di(t),a=da(n.seconds,r.seconds);return 0!==a?a:da(n.nanos,r.nanos)}function Ji(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Xi(n[a],r[a]);if(e)return e}return da(n.length,r.length)}function Zi(e){return eo(e)}function eo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Di(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ai(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ta.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=eo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(eo(e.fields[a]));return n+"}"}(e.mapValue):Yr(61005,{value:e})}function to(e){switch(Ki(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Li(e);return t?16+to(t):16;case 5:return 2*e.stringValue.length;case 6:return Ai(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+to(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return vi(e.fields,((e,n)=>{t+=e.length+to(n)})),t}(e.mapValue);default:throw Yr(13486,{value:e})}}function no(e){return!!e&&"integerValue"in e}function ro(e){return!!e&&"arrayValue"in e}function ao(e){return!!e&&"nullValue"in e}function io(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oo(e){return!!e&&"mapValue"in e}function so(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zi])||void 0===n?void 0:n.stringValue)===Wi}function lo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=lo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function co(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Hi}class uo{constructor(e){this.value=e}static empty(){return new uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(t)}setAll(e){let t=_a.emptyPath(),n={},r=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=lo(e):r.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());oo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vi(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new uo(lo(this.value))}}function ho(e){const t=[];return vi(e.fields,((e,n)=>{const r=new _a([e]);if(oo(n)){const e=ho(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new _i(t)}class fo{constructor(e,t,n,r,a,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=o}static newInvalidDocument(e){return new fo(e,0,wa.min(),wa.min(),wa.min(),uo.empty(),0)}static newFoundDocument(e,t,n,r){return new fo(e,1,t,wa.min(),n,r,0)}static newNoDocument(e,t){return new fo(e,2,t,wa.min(),wa.min(),uo.empty(),0)}static newUnknownDocument(e,t){return new fo(e,3,t,wa.min(),wa.min(),uo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class po{constructor(e,t){this.position=e,this.inclusive=t}}function mo(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],o=e.position[a];if(r=i.field.isKeyField()?Ta.comparator(Ta.fromName(o.referenceValue),n.key):Xi(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function go(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}class yo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function vo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bo{}class wo extends bo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new No(e,t,n):"array-contains"===t?new Oo(e,n):"in"===t?new Ro(e,n):"not-in"===t?new Po(e,n):"array-contains-any"===t?new Mo(e,n):new wo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Do(e,n):new Io(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Xi(t,this.value)):null!==t&&Ki(this.value)===Ki(t)&&this.matchesComparison(Xi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xo extends bo{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xo(e,t)}matches(e){return ko(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ko(e){return"and"===e.op}function Eo(e){return So(e)&&ko(e)}function So(e){for(const t of e.filters)if(t instanceof xo)return!1;return!0}function _o(e){if(e instanceof wo)return e.field.canonicalString()+e.op.toString()+Zi(e.value);if(Eo(e))return e.filters.map((e=>_o(e))).join(",");{const t=e.filters.map((e=>_o(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function To(e,t){return e instanceof wo?function(e,t){return t instanceof wo&&e.op===t.op&&e.field.isEqual(t.field)&&Yi(e.value,t.value)}(e,t):e instanceof xo?function(e,t){return t instanceof xo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&To(n,t.filters[r])),!0)}(e,t):void Yr(19439)}function Co(e){return e instanceof wo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zi(e.value))}(e):e instanceof xo?function(e){return e.op.toString()+" {"+e.getFilters().map(Co).join(" ,")+"}"}(e):"Filter"}class No extends wo{constructor(e,t,n){super(e,t,n),this.key=Ta.fromName(n.referenceValue)}matches(e){const t=Ta.comparator(e.key,this.key);return this.matchesComparison(t)}}class Do extends wo{constructor(e,t){super(e,"in",t),this.keys=Ao("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Io extends wo{constructor(e,t){super(e,"not-in",t),this.keys=Ao("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ao(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ta.fromName(e.referenceValue)))}class Oo extends wo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ro(t)&&Gi(t.arrayValue,this.value)}}class Ro extends wo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gi(this.value.arrayValue,t)}}class Po extends wo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Gi(this.value.arrayValue,t)}}class Mo extends wo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ro(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Gi(this.value.arrayValue,e)))}}class jo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=o,this.Ie=null}}function Lo(e){return new jo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fo(e){const t=$r(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>_o(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ba(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Zi(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Zi(e))).join(",")),t.Ie=e}return t.Ie}function Uo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!To(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!go(e.startAt,t.startAt)&&go(e.endAt,t.endAt)}function Vo(e){return Ta.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Bo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=o,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zo(e,t,n,r,a,i,o,s){return new Bo(e,t,n,r,a,i,o,s)}function Ho(e){return new Bo(e)}function qo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wo(e){return null!==e.collectionGroup}function Qo(e){const t=$r(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ei(_a.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new yo(r,n))})),e.has(_a.keyField().canonicalString())||t.Ee.push(new yo(_a.keyField(),n))}return t.Ee}function Ko(e){const t=$r(e);return t.de||(t.de=Yo(t,Qo(e))),t.de}function Yo(e,t){if("F"===e.limitType)return Lo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new yo(e.field,t)}));const n=e.endAt?new po(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new po(e.startAt.position,e.startAt.inclusive):null;return Lo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Go(e,t,n){return new Bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xo(e,t){return Uo(Ko(e),Ko(t))&&e.limitType===t.limitType}function $o(e){return"".concat(Fo(Ko(e)),"|lt:").concat(e.limitType)}function Jo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Co(e))).join(", "),"]")),Ba(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Zi(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Zi(e))).join(",")),"Target(".concat(t,")")}(Ko(e)),"; limitType=").concat(e.limitType,")")}function Zo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ta.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Qo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Qo(e),t))&&!(e.endAt&&!function(e,t,n){const r=mo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Qo(e),t))}(e,t)}function es(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ts(e){return(t,n)=>{let r=!1;for(const a of Qo(e)){const e=ns(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function ns(e,t,n){const r=e.field.isKeyField()?Ta.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Xi(r,a):Yr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Yr(19790,{direction:e.dir})}}class rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vi(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return bi(this.inner)}size(){return this.innerSize}}const as=new wi(Ta.comparator);function is(){return as}const os=new wi(Ta.comparator);function ss(){let e=os;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function ls(e){let t=os;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function cs(){return hs()}function us(){return hs()}function hs(){return new rs((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ds=new wi(Ta.comparator),fs=new Ei(Ta.comparator);function ps(){let e=fs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const ms=new Ei(da);function gs(){return ms}function ys(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(t)?"-0":t}}function vs(e){return{integerValue:""+e}}function bs(e,t){return Ha(t)?vs(t):ys(e,t)}class ws{constructor(){this._=void 0}}function xs(e,t,n){return e instanceof Ss?function(e,t){const n={fields:{[Ri]:{stringValue:Oi},[Mi]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ji(t)&&(t=Li(t)),t&&(n.fields[Pi]=t),{mapValue:n}}(n,t):e instanceof _s?Ts(e,t):e instanceof Cs?Ns(e,t):function(e,t){const n=Es(e,t),r=Is(n)+Is(e.Re);return no(n)&&no(e.Re)?vs(r):ys(e.serializer,r)}(e,t)}function ks(e,t,n){return e instanceof _s?Ts(e,t):e instanceof Cs?Ns(e,t):n}function Es(e,t){return e instanceof Ds?function(e){return no(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ss extends ws{}class _s extends ws{constructor(e){super(),this.elements=e}}function Ts(e,t){const n=As(t);for(const r of e.elements)n.some((e=>Yi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Cs extends ws{constructor(e){super(),this.elements=e}}function Ns(e,t){let n=As(t);for(const r of e.elements)n=n.filter((e=>!Yi(e,r)));return{arrayValue:{values:n}}}class Ds extends ws{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Is(e){return Ii(e.integerValue||e.doubleValue)}function As(e){return ro(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Os{constructor(e,t){this.version=e,this.transformResults=t}}class Rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ps(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ms{}function js(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qs(e.key,Rs.none()):new Bs(e.key,e.data,Rs.none());{const n=e.data,r=uo.empty();let a=new Ei(_a.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new zs(e.key,r,new _i(a.toArray()),Rs.none())}}function Ls(e,t,n){e instanceof Bs?function(e,t,n){const r=e.value.clone(),a=qs(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zs?function(e,t,n){if(!Ps(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qs(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Hs(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fs(e,t,n,r){return e instanceof Bs?function(e,t,n,r){if(!Ps(e.precondition,t))return n;const a=e.value.clone(),i=Ws(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof zs?function(e,t,n,r){if(!Ps(e.precondition,t))return n;const a=Ws(e.fieldTransforms,r,t),i=t.data;return i.setAll(Hs(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ps(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Us(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Es(r.transform,e||null);null!=a&&(null===n&&(n=uo.empty()),n.set(r.field,a))}return n||null}function Vs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ga(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _s&&t instanceof _s||e instanceof Cs&&t instanceof Cs?ga(e.elements,t.elements,Yi):e instanceof Ds&&t instanceof Ds?Yi(e.Re,t.Re):e instanceof Ss&&t instanceof Ss}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bs extends Ms{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zs extends Ms{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Hs(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qs(e,t,n){const r=new Map;Xr(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const i=e[a],o=i.transform,s=t.data.field(i.field);r.set(i.field,ks(o,s,n[a]))}return r}function Ws(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,xs(e,i,t))}return r}class Qs extends Ms{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ks extends Ms{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ys{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ls(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fs(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fs(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=us();return this.mutations.forEach((r=>{const a=e.get(r.key),i=a.overlayedDocument;let o=this.applyToLocalView(i,a.mutatedFields);o=t.has(r.key)?null:o;const s=js(i,o);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(wa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ps())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,((e,t)=>Vs(e,t)))&&ga(this.baseMutations,e.baseMutations,((e,t)=>Vs(e,t)))}}class Gs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xr(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=ds;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new Gs(e,t,n,r)}}class Xs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class $s{constructor(e,t){this.count=e,this.unchangedNames=t}}var Js,Zs;function el(e){switch(e){case Jr.OK:return Yr(64938);case Jr.CANCELLED:case Jr.UNKNOWN:case Jr.DEADLINE_EXCEEDED:case Jr.RESOURCE_EXHAUSTED:case Jr.INTERNAL:case Jr.UNAVAILABLE:case Jr.UNAUTHENTICATED:return!1;case Jr.INVALID_ARGUMENT:case Jr.NOT_FOUND:case Jr.ALREADY_EXISTS:case Jr.PERMISSION_DENIED:case Jr.FAILED_PRECONDITION:case Jr.ABORTED:case Jr.OUT_OF_RANGE:case Jr.UNIMPLEMENTED:case Jr.DATA_LOSS:return!0;default:return Yr(15467,{code:e})}}function tl(e){if(void 0===e)return Wr("GRPC error has no .code"),Jr.UNKNOWN;switch(e){case Js.OK:return Jr.OK;case Js.CANCELLED:return Jr.CANCELLED;case Js.UNKNOWN:return Jr.UNKNOWN;case Js.DEADLINE_EXCEEDED:return Jr.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return Jr.RESOURCE_EXHAUSTED;case Js.INTERNAL:return Jr.INTERNAL;case Js.UNAVAILABLE:return Jr.UNAVAILABLE;case Js.UNAUTHENTICATED:return Jr.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return Jr.INVALID_ARGUMENT;case Js.NOT_FOUND:return Jr.NOT_FOUND;case Js.ALREADY_EXISTS:return Jr.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return Jr.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return Jr.FAILED_PRECONDITION;case Js.ABORTED:return Jr.ABORTED;case Js.OUT_OF_RANGE:return Jr.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return Jr.UNIMPLEMENTED;case Js.DATA_LOSS:return Jr.DATA_LOSS;default:return Yr(39323,{code:e})}}(Zs=Js||(Js={}))[Zs.OK=0]="OK",Zs[Zs.CANCELLED=1]="CANCELLED",Zs[Zs.UNKNOWN=2]="UNKNOWN",Zs[Zs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zs[Zs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zs[Zs.NOT_FOUND=5]="NOT_FOUND",Zs[Zs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zs[Zs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zs[Zs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zs[Zs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zs[Zs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zs[Zs.ABORTED=10]="ABORTED",Zs[Zs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zs[Zs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zs[Zs.INTERNAL=13]="INTERNAL",Zs[Zs.UNAVAILABLE=14]="UNAVAILABLE",Zs[Zs.DATA_LOSS=15]="DATA_LOSS";let nl=null;const rl=new Sr([4294967295,4294967295],0);function al(e){const t=ua().encode(e),n=new _r;return n.update(t),new Uint8Array(n.digest())}function il(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Sr([n,r],0),new Sr([a,i],0)]}class ol{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sl("Invalid padding: ".concat(t));if(n<0)throw new sl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new sl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new sl("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Sr.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Sr.fromNumber(n)));return 1===r.compare(rl)&&(r=new Sr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=al(e),[n,r]=il(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new ol(a,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=al(e),[n,r]=il(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ll{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ll(wa.min(),r,new wi(da),is(),ps())}}class cl{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new cl(n,t,ps(),ps(),ps())}}class ul{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class hl{constructor(e,t){this.targetId=e,this.Ce=t}}class dl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ci.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fl{constructor(){this.Fe=0,this.Me=gl(),this.xe=Ci.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ps(),t=ps(),n=ps();return this.Me.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Yr(38017,{changeType:a})}})),new cl(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=gl()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pl{constructor(e){this.ze=e,this.je=new Map,this.He=is(),this.Je=ml(),this.Ye=ml(),this.Ze=new wi(da)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Yr(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const a=r.target;if(Vo(a))if(0===n){const e=new Ta(a.path);this.tt(t,e,fo.newNoDocument(e,wa.min()))}else Xr(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),a=n?this.lt(n,e,r):1;if(0!==a){this.st(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==nl||nl.ht(function(e,t,n,r,a){var i,o,s,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===a,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(s=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,a))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,o;try{i=Ai(n).toUint8Array()}catch(e){if(e instanceof Ti)return Qr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ol(i,r,a)}catch(e){return Qr(e instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const a=this.ze.Pt(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const a=this._t(r);if(a){if(n.current&&Vo(a.target)){const t=new Ta(a.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,fo.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=ps();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new ll(e,t,this.Ze,this.He,n);return this.He=is(),this.Je=ml(),this.Ye=ml(),this.Ze=new wi(da),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fl,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ei(da),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ei(da),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||qr("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fl),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ml(){return new wi(Ta.comparator)}function gl(){return new wi(Ta.comparator)}const yl={asc:"ASCENDING",desc:"DESCENDING"},vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bl={and:"AND",or:"OR"};class wl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xl(e,t){return e.useProto3Json||Ba(t)?t:{value:t}}function kl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function El(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sl(e,t){return kl(e,t.toTimestamp())}function _l(e){return Xr(!!e,49232),wa.fromTimestamp(function(e){const t=Di(e);return new ba(t.seconds,t.nanos)}(e))}function Tl(e,t){return Cl(e,t).canonicalString()}function Cl(e,t){const n=function(e){return new Ea(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nl(e){const t=Ea.fromString(e);return Xr(Yl(t),10190,{key:t.toString()}),t}function Dl(e,t){return Tl(e.databaseId,t.path)}function Il(e,t){const n=Nl(t);if(n.get(1)!==e.databaseId.projectId)throw new Zr(Jr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zr(Jr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ta(Pl(n))}function Al(e,t){return Tl(e.databaseId,t)}function Ol(e){const t=Nl(e);return 4===t.length?Ea.emptyPath():Pl(t)}function Rl(e){return new Ea(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pl(e){return Xr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ml(e,t,n){return{name:Dl(e,t),fields:n.value.mapValue.fields}}function jl(e,t){let n;if(t instanceof Bs)n={update:Ml(e,t.key,t.value)};else if(t instanceof Qs)n={delete:Dl(e,t.key)};else if(t instanceof zs)n={update:Ml(e,t.key,t.data),updateMask:Kl(t.fieldMask)};else{if(!(t instanceof Ks))return Yr(16599,{ft:t.type});n={verify:Dl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ss)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _s)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ds)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Yr(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yr(27497)}(e,t.precondition)),n}function Ll(e,t){return{documents:[Al(e,t.path)]}}function Fl(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Al(e,a);const i=function(e){if(0!==e.length)return Ql(xo.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ql(e.field),direction:Bl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=xl(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:a}}function Ul(e){let t=Ol(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Xr(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Vl(e);return t instanceof xo&&Eo(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new yo(Wl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ba(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new po(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new po(n,t)}(n.endAt)),zo(t,a,o,i,s,"F",l,c)}function Vl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wl(e.unaryFilter.field);return wo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wl(e.unaryFilter.field);return wo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wl(e.unaryFilter.field);return wo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wl(e.unaryFilter.field);return wo.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yr(61313);default:return Yr(60726)}}(e):void 0!==e.fieldFilter?function(e){return wo.create(Wl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yr(58110);default:return Yr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xo.create(e.compositeFilter.filters.map((e=>Vl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Yr(1026)}}(e.compositeFilter.op))}(e):Yr(30097,{filter:e})}function Bl(e){return yl[e]}function zl(e){return vl[e]}function Hl(e){return bl[e]}function ql(e){return{fieldPath:e.canonicalString()}}function Wl(e){return _a.fromServerFormat(e.fieldPath)}function Ql(e){return e instanceof wo?function(e){if("=="===e.op){if(io(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NAN"}};if(ao(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(io(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NAN"}};if(ao(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(e.field),op:zl(e.op),value:e.value}}}(e):e instanceof xo?function(e){const t=e.getFilters().map((e=>Ql(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hl(e.op),filters:t}}}(e):Yr(54877,{filter:e})}function Kl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Yl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gl{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wa.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wa.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ci.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xl{constructor(e){this.wt=e}}function $l(e){const t=Ul({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Go(t,t.limit,"L"):t}class Jl{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ii(e.integerValue));else if("doubleValue"in e){const n=Ii(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),za(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Di(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ai(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?co(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):so(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Yr(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const a=e.fields||{};this.Mt(t,53);const i=Qi,o=(null===(r=null===(n=a[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Ii(o)),this.Nt(i,t),this.Ct(a[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Ta.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Jl.Wt=new Jl;class Zl{constructor(){this.Cn=new ec}addToCollectionParentIndex(e,t){return this.Cn.add(t),ja.resolve()}getCollectionParents(e,t){return ja.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ja.resolve()}deleteFieldIndex(e,t){return ja.resolve()}deleteAllFieldIndexes(e){return ja.resolve()}createTargetIndexes(e,t){return ja.resolve()}getDocumentsMatchingTarget(e,t){return ja.resolve(null)}getIndexType(e,t){return ja.resolve(0)}getFieldIndexes(e,t){return ja.resolve([])}getNextCollectionGroupToUpdate(e){return ja.resolve(null)}getMinOffset(e,t){return ja.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,t){return ja.resolve(Aa.min())}updateCollectionGroup(e,t,n){return ja.resolve()}updateIndexEntries(e,t){return ja.resolve()}}class ec{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ei(Ea.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ei(Ea.comparator)).toArray()}}new Uint8Array(0);const tc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nc=41943040;class rc{static withCacheSize(e){return new rc(e,rc.DEFAULT_COLLECTION_PERCENTILE,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}rc.DEFAULT_COLLECTION_PERCENTILE=10,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rc.DEFAULT=new rc(nc,rc.DEFAULT_COLLECTION_PERCENTILE,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rc.DISABLED=new rc(-1,0,0);class ac{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ac(0)}static lr(){return new ac(-1)}}const ic="LruGarbageCollector",oc=1048576;function sc(e,t){let[n,r]=e,[a,i]=t;const o=da(n,a);return 0===o?da(r,i):o}class lc{constructor(e){this.Er=e,this.buffer=new Ei(sc),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();sc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){qr(ic,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fa(e)?qr(ic,"Ignoring IndexedDB error during garbage collection: ",e):await Ma(e)}await this.mr(3e5)}))}}class uc{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ja.resolve(Ua.le);const n=new lc(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qr("LruGarbageCollector","Garbage collection skipped; disabled"),ja.resolve(tc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(qr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),tc):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,a,i,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(qr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(a=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Hr()<=en.DEBUG&&qr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ja.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e}))))}}function hc(e,t){return new uc(e,t)}class dc{constructor(){this.changes=new rs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ja.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fs(n.mutation,e,_i.empty(),ba.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ps()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ps();const r=cs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ss();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=cs();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ps())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let a=is();const i=hs(),o=hs();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof zs)?a=a.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),Fs(o.mutation,t,o.mutation.getFieldMask(),ba.now())):i.set(t.key,_i.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new fc(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=hs();let r=new wi(((e,t)=>e-t)),a=ps();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||_i.empty();o=a.applyToLocalView(i,o),n.set(e,o);const s=(r.get(a.batchId)||ps()).add(e);r=r.insert(a.batchId,s)}))})).next((()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=us();l.forEach((e=>{if(!a.has(e)){const r=js(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,s,c))}return ja.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ta.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ja.resolve(cs());let o=Ca,s=a;return i.next((t=>ja.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?ja.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,s,t,ps()))).next((e=>({batchId:o,changes:ls(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ta(t)).next((e=>{let t=ss();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=ss();return this.indexManager.getCollectionParents(e,a).next((o=>ja.forEach(o,(o=>{const s=function(e,t){return new Bo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((e=>{a.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fo.newInvalidDocument(r)))}));let n=ss();return e.forEach(((e,r)=>{const i=a.get(e);void 0!==i&&Fs(i.mutation,r,_i.empty(),ba.now()),Zo(t,r)&&(n=n.insert(e,r))})),n}))}}class mc{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ja.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_l(e.createTime)}}(t)),ja.resolve()}getNamedQuery(e,t){return ja.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:$l(e.bundledQuery),readTime:_l(e.readTime)}}(t)),ja.resolve()}}class gc{constructor(){this.overlays=new wi(Ta.comparator),this.Qr=new Map}getOverlay(e,t){return ja.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cs();return ja.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),ja.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),ja.resolve()}getOverlaysForCollection(e,t,n){const r=cs(),a=t.length+1,i=new Ta(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ja.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new wi(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=cs(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=cs(),s=a.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ja.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xs(t,n));let a=this.Qr.get(t);void 0===a&&(a=ps(),this.Qr.set(t,a)),this.Qr.set(t,a.add(n.key))}}class yc{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(e){return ja.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ja.resolve()}}class vc{constructor(){this.$r=new Ei(bc.Ur),this.Kr=new Ei(bc.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new bc(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new bc(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new Ta(new Ea([])),n=new bc(t,e),r=new bc(t,e+1),a=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),a.push(e.key)})),a}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ta(new Ea([])),n=new bc(t,e),r=new bc(t,e+1);let a=ps();return this.Kr.forEachInRange([n,r],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new bc(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class bc{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ta.comparator(e.key,t.key)||da(e.Zr,t.Zr)}static Wr(e,t){return da(e.Zr,t.Zr)||Ta.comparator(e.key,t.key)}}class wc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ei(bc.Ur)}checkEmpty(e){return ja.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ys(a,t,n,r);this.mutationQueue.push(i);for(const o of r)this.Xr=this.Xr.add(new bc(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ja.resolve(i)}lookupMutationBatch(e,t){return ja.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),a=r<0?0:r;return ja.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ja.resolve(0===this.mutationQueue.length?Va:this.nr-1)}getAllMutationBatches(e){return ja.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new bc(t,0),r=new bc(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);a.push(t)})),ja.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ei(da);return t.forEach((e=>{const t=new bc(e,0),r=new bc(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),ja.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;Ta.isDocumentKey(a)||(a=a.child(""));const i=new bc(new Ta(a),0);let o=new Ei(da);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Zr)),!0)}),i),ja.resolve(this.ni(o))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xr(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return ja.forEach(t.mutations,(r=>{const a=new bc(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new bc(t,0),r=this.Xr.firstAfterOrEqual(n);return ja.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ja.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xc{constructor(e){this.ii=e,this.docs=new wi(Ta.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ja.resolve(n?n.document.mutableCopy():fo.newInvalidDocument(t))}getEntries(e,t){let n=is();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fo.newInvalidDocument(e))})),ja.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=is();const i=t.path,o=new Ta(i.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Oa(Ia(o),n)<=0||(r.has(o.key)||Zo(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return ja.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Yr(9500)}si(e,t){return ja.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new kc(this)}getSize(e){return ja.resolve(this.size)}}class kc extends dc{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),ja.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Ec{constructor(e){this.persistence=e,this.oi=new rs((e=>Fo(e)),Uo),this.lastRemoteSnapshotVersion=wa.min(),this.highestTargetId=0,this._i=0,this.ai=new vc,this.targetCount=0,this.ui=ac.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),ja.resolve()}getLastRemoteSnapshotVersion(e){return ja.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ja.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ja.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),ja.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ac(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ja.resolve()}updateTargetData(e,t){return this.Tr(t),ja.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ja.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.oi.forEach(((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(i),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ja.waitFor(a).next((()=>r))}getTargetCount(e){return ja.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return ja.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),ja.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((t=>{a.push(r.markPotentiallyOrphaned(e,t))})),ja.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ja.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return ja.resolve(n)}containsKey(e,t){return ja.resolve(this.ai.containsKey(t))}}class Sc{constructor(e,t){this.ci={},this.overlays={},this.li=new Ua(0),this.hi=!1,this.hi=!0,this.Pi=new yc,this.referenceDelegate=e(this),this.Ti=new Ec(this),this.indexManager=new Zl,this.remoteDocumentCache=function(e){return new xc(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Xl(t),this.Ei=new mc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new wc(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){qr("MemoryPersistence","Starting transaction:",e);const r=new _c(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return ja.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class _c extends Pa{constructor(e){super(),this.currentSequenceNumber=e}}class Tc{constructor(e){this.persistence=e,this.Vi=new vc,this.mi=null}static fi(e){return new Tc(e)}get gi(){if(this.mi)return this.mi;throw Yr(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),ja.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),ja.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ja.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ja.forEach(this.gi,(n=>{const r=Ta.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,wa.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return ja.or([()=>ja.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Cc{constructor(e,t){this.persistence=e,this.yi=new rs((e=>Wa(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=hc(this,t)}static fi(e,t){return new Cc(e,t)}di(){}Ai(e){return ja.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return ja.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?ja.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,a.removeEntry(r,wa.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ja.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),ja.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),ja.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ja.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=to(e.data.value)),t}Dr(e,t,n){return ja.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return ja.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=ps(),r=ps();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Nc(e,t.fromCache,n,r)}}class Dc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ic{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Bt()?8:La(Ut())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ws(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.bs(e,t,r,n).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const n=new Dc;return this.Ss(e,t,n).next((r=>{if(a.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>a.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Hr()<=en.DEBUG&&qr("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ja.resolve()):(Hr()<=en.DEBUG&&qr("QueryEngine","Query:",Jo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Hr()<=en.DEBUG&&qr("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ko(t))):ja.resolve())}ws(e,t){if(qo(t))return ja.resolve(null);let n=Ko(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Go(t,null,"F"),n=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const a=ps(...r);return this.ys.getDocuments(e,a).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.vs(t,r);return this.Cs(t,i,a,n.readTime)?this.ws(e,Go(t,null,"F")):this.Fs(e,i,t,n)}))))})))))}bs(e,t,n,r){return qo(t)||r.isEqual(wa.min())?ja.resolve(null):this.ys.getDocuments(e,n).next((a=>{const i=this.vs(t,a);return this.Cs(t,i,n,r)?ja.resolve(null):(Hr()<=en.DEBUG&&qr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jo(t)),this.Fs(e,i,t,Da(r,Ca)).next((e=>e)))}))}vs(e,t){let n=new Ei(ts(e));return t.forEach(((t,r)=>{Zo(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return Hr()<=en.DEBUG&&qr("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.ys.getDocumentsMatchingQuery(e,t,Aa.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Ac="LocalStore";class Oc{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new wi(da),this.Os=new rs((e=>Fo(e)),Uo),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pc(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function Rc(e,t,n,r){return new Oc(e,t,n,r)}async function Pc(e,t){const n=$r(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((a=>(r=a,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],i=[];let o=ps();for(const e of r){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ks:e,removedBatchIds:a,addedBatchIds:i})))}))}))}function Mc(e){const t=$r(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function jc(e,t,n){let r=ps(),a=ps();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=is();return n.forEach(((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(wa.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):qr(Ac,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)})),{qs:r,Qs:a}}))}function Lc(e,t){const n=$r(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Va),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Fc(e,t){const n=$r(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((a=>a?(r=a,ja.resolve(r)):n.Ti.allocateTargetId(e).next((a=>(r=new Gl(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function Uc(e,t,n){const r=$r(e),a=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!Fa(e))throw e;qr(Ac,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function Vc(e,t,n){const r=$r(e);let a=wa.min(),i=ps();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=$r(e),a=r.Os.get(n);return void 0!==a?ja.resolve(r.xs.get(a)):r.Ti.getTargetData(t,n)}(r,e,Ko(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?a:wa.min(),n?i:ps()))).next((e=>(Bc(r,es(t),e),{documents:e,$s:i})))))}function Bc(e,t,n){let r=e.Ns.get(t)||wa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class zc{constructor(){this.activeTargetIds=gs()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hc{constructor(){this.xo=new zc,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qc{No(e){}shutdown(){}}const Wc="ConnectivityMonitor";class Qc{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){qr(Wc,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){qr(Wc,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kc=null;function Yc(){return null===Kc?Kc=268435456+Math.round(2147483648*Math.random()):Kc++,"0x"+Kc.toString(16)}const Gc="RestConnection",Xc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $c{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===Vi?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,a){const i=Yc(),o=this.jo(e,t.toUriEncodedString());qr(Gc,"Sending RPC '".concat(e,"' ").concat(i,":"),o,n);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,r,a);const{host:l}=new URL(o),c=Rt(l);return this.Jo(e,o,s,n,c).then((t=>(qr(Gc,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw Qr(Gc,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t}))}Yo(e,t,n,r,a,i){return this.zo(e,t,n,r,a)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Br,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Xc[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Jc{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Zc="WebChannelConnection";class eu extends $c{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const i=Yc();return new Promise(((a,o)=>{const s=new Nr;s.setWithCredentials(!0),s.listenOnce(Ir.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Ar.NO_ERROR:const t=s.getResponseJson();qr(Zc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ar.TIMEOUT:qr(Zc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Zr(Jr.DEADLINE_EXCEEDED,"Request time out"));break;case Ar.HTTP_ERROR:const n=s.getStatus();if(qr(Zc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jr).indexOf(t)>=0?t:Jr.UNKNOWN}(t.status);o(new Zr(e,t.message))}else o(new Zr(Jr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zr(Jr.UNAVAILABLE,"Connection failed."));break;default:Yr(9055,{h_:e,streamId:i,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{qr(Zc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);qr(Zc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=Yc(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Mr(),o=Pr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=a.join("");qr(Zc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=i.createWebChannel(c,s);this.E_(u);let h=!1,d=!1;const f=new Jc({Zo:t=>{d?qr(Zc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(qr(Zc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),qr(Zc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Dr.EventType.OPEN,(()=>{d||(qr(Zc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),p(u,Dr.EventType.CLOSE,(()=>{d||(d=!0,qr(Zc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),p(u,Dr.EventType.ERROR,(t=>{d||(d=!0,Qr(Zc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Zr(Jr.UNAVAILABLE,"The operation could not be completed")))})),p(u,Dr.EventType.MESSAGE,(t=>{var n;if(!d){const a=t.data[0];Xr(!!a,16349);const i=a,o=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){qr(Zc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Js[e];if(void 0!==t)return tl(t)}(t),a=o.message;void 0===n&&(n=Jr.INTERNAL,a="Unknown error status: "+t+" with message "+o.message),d=!0,f.u_(new Zr(n,a)),u.close()}else qr(Zc,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.c_(a)}})),p(o,Rr.STAT_EVENT,(t=>{t.stat===Or.PROXY?qr(Zc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Or.NOPROXY&&qr(Zc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function tu(){return"undefined"!=typeof document?document:null}function nu(e){return new wl(e,!0)}class ru{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&qr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const au="PersistentStream";class iu{constructor(e,t,n,r,a,i,o,s){this.xi=e,this.S_=n,this.D_=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ru(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===Jr.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Jr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Zr(Jr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return qr(au,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(qr(au,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ou extends iu{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Xr(void 0===t||"string"==typeof t,58123),Ci.fromBase64String(t||"")):(Xr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ci.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Jr.UNKNOWN:tl(e.code);return new Zr(t,e.message||"")}(o);n=new dl(r,a,i,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Il(e,r.document.name),i=_l(r.document.updateTime),o=r.document.createTime?_l(r.document.createTime):wa.min(),s=new uo({mapValue:{fields:r.document.fields}}),l=fo.newFoundDocument(a,i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ul(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Il(e,r.document),i=r.readTime?_l(r.readTime):wa.min(),o=fo.newNoDocument(a,i),s=r.removedTargetIds||[];n=new ul([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Il(e,r.document),i=r.removedTargetIds||[];n=new ul([],i,a,null)}else{if(!("filter"in t))return Yr(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new $s(r,a),o=e.targetId;n=new hl(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?wa.min():t.readTime?_l(t.readTime):wa.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Rl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vo(r)?{documents:Ll(e,r)}:{query:Fl(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=El(e,t.resumeToken);const r=xl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(wa.min())>0){n.readTime=kl(e,t.snapshotVersion.toTimestamp());const r=xl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Rl(this.serializer),t.removeTarget=e,this.Q_(t)}}class su extends iu{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Xr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xr(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Xr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(Xr(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?_l(e.updateTime):_l(t);return n.isEqual(wa.min())&&(n=_l(t)),new Os(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=_l(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Rl(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>jl(this.serializer,e)))};this.Q_(t)}}class lu{}class cu extends lu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Zr(Jr.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,o]=a;return this.connection.zo(e,Cl(t,n),r,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zr(Jr.UNKNOWN,e.toString())}))}Yo(e,t,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Yo(e,Cl(t,n),r,o,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zr(Jr.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class uu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(Wr(t),this.ua=!1):qr("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const hu="RemoteStore";class du{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No((e=>{n.enqueueAndForget((async()=>{xu(this)&&(qr(hu,"Restarting streams for network reachability change."),await async function(e){const t=$r(e);t.da.add(4),await pu(t),t.Va.set("Unknown"),t.da.delete(4),await fu(t)}(this))}))})),this.Va=new uu(n,r)}}async function fu(e){if(xu(e))for(const t of e.Aa)await t(!0)}async function pu(e){for(const t of e.Aa)await t(!1)}function mu(e,t){const n=$r(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),wu(n)?bu(n):Vu(n).N_()&&yu(n,t))}function gu(e,t){const n=$r(e),r=Vu(n);n.Ea.delete(t),r.N_()&&vu(n,t),0===n.Ea.size&&(r.N_()?r.k_():xu(n)&&n.Va.set("Unknown"))}function yu(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vu(e).Z_(t)}function vu(e,t){e.ma.Ke(t),Vu(e).X_(t)}function bu(e){e.ma=new pl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Vu(e).start(),e.Va.ca()}function wu(e){return xu(e)&&!Vu(e).O_()&&e.Ea.size>0}function xu(e){return 0===$r(e).da.size}function ku(e){e.ma=void 0}async function Eu(e){e.Va.set("Online")}async function Su(e){e.Ea.forEach(((t,n)=>{yu(e,t)}))}async function _u(e,t){ku(e),wu(e)?(e.Va.Pa(t),bu(e)):e.Va.set("Unknown")}async function Tu(e,t,n){if(e.Va.set("Online"),t instanceof dl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){qr(hu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cu(e,n)}else if(t instanceof ul?e.ma.Xe(t):t instanceof hl?e.ma.ot(t):e.ma.nt(t),!n.isEqual(wa.min()))try{const t=await Mc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ea.get(r);a&&e.Ea.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Ci.EMPTY_BYTE_STRING,r.snapshotVersion)),vu(e,t);const a=new Gl(r.target,t,n,r.sequenceNumber);yu(e,a)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){qr(hu,"Failed to raise snapshot:",t),await Cu(e,t)}}async function Cu(e,t,n){if(!Fa(t))throw t;e.da.add(1),await pu(e),e.Va.set("Offline"),n||(n=()=>Mc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{qr(hu,"Retrying IndexedDB access"),await n(),e.da.delete(1),await fu(e)}))}function Nu(e,t){return t().catch((n=>Cu(e,n,t)))}async function Du(e){const t=$r(e),n=Bu(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Va;for(;Iu(t);)try{const e=await Lc(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Au(t,e)}catch(e){await Cu(t,e)}Ou(t)&&Ru(t)}function Iu(e){return xu(e)&&e.Ia.length<10}function Au(e,t){e.Ia.push(t);const n=Bu(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Ou(e){return xu(e)&&!Bu(e).O_()&&e.Ia.length>0}function Ru(e){Bu(e).start()}async function Pu(e){Bu(e).ia()}async function Mu(e){const t=Bu(e);for(const n of e.Ia)t.ta(n.mutations)}async function ju(e,t,n){const r=e.Ia.shift(),a=Gs.from(r,t,n);await Nu(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Du(e)}async function Lu(e,t){t&&Bu(e).ea&&await async function(e,t){if(function(e){return el(e)&&e!==Jr.ABORTED}(t.code)){const n=e.Ia.shift();Bu(e).L_(),await Nu(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Du(e)}}(e,t),Ou(e)&&Ru(e)}async function Fu(e,t){const n=$r(e);n.asyncQueue.verifyOperationInProgress(),qr(hu,"RemoteStore received new credentials");const r=xu(n);n.da.add(3),await pu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await fu(n)}async function Uu(e,t){const n=$r(e);t?(n.da.delete(2),await fu(n)):t||(n.da.add(2),await pu(n),n.Va.set("Unknown"))}function Vu(e){return e.fa||(e.fa=function(e,t,n){const r=$r(e);return r.oa(),new ou(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Eu.bind(null,e),n_:Su.bind(null,e),i_:_u.bind(null,e),Y_:Tu.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),wu(e)?bu(e):e.Va.set("Unknown")):(await e.fa.stop(),ku(e))}))),e.fa}function Bu(e){return e.ga||(e.ga=function(e,t,n){const r=$r(e);return r.oa(),new su(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Pu.bind(null,e),i_:Lu.bind(null,e),na:Mu.bind(null,e),ra:ju.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await Du(e)):(await e.ga.stop(),e.Ia.length>0&&(qr(hu,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class zu{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,o=new zu(e,t,i,r,a);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zr(Jr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hu(e,t){if(Wr("AsyncQueue","".concat(t,": ").concat(e)),Fa(e))return new Zr(Jr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ta.comparator(t.key,n.key):(e,t)=>Ta.comparator(e.key,t.key),this.keyedMap=ss(),this.sortedSet=new wi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wu{constructor(){this.pa=new wi(Ta.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Yr(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qu{constructor(e,t,n,r,a,i,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Qu(e,t,qu.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ku{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Yu{constructor(){this.queries=Gu(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=$r(e),r=n.queries;n.queries=Gu(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Zr(Jr.ABORTED,"Firestore shutting down"))}}function Gu(){return new rs((e=>$o(e)),Xo)}async function Xu(e,t){const n=$r(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.Da()&&t.va()&&(r=2):(i=new Ku,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(a,!0);break;case 1:i.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Hu(e,"Initialization of query '".concat(Jo(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&eh(n)}async function $u(e,t){const n=$r(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.va()?0:1:!i.Da()&&t.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ju(e,t){const n=$r(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(a)&&(r=!0);t.ba=a}}r&&eh(n)}function Zu(e,t,n){const r=$r(e),a=r.queries.get(t);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(t)}function eh(e){e.Ca.forEach((e=>{e.next()}))}var th,nh;(nh=th||(th={})).xa="default",nh.Cache="cache";class rh{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==th.Cache}}class ah{constructor(e){this.key=e}}class ih{constructor(e){this.key=e}}class oh{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ps(),this.mutatedKeys=ps(),this.Za=ts(e),this.Xa=new qu(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Wu,r=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Zo(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Za(u,s)>0||l&&this.Za(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(i=i.add(u),a=d?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Xa:i,nu:n,Cs:o,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const i=e.nu.wa();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yr(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const o=t&&!r?this.su():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Ja;return this.Ja=s,0!==i.length||l?{snapshot:new Qu(this.query,e.Xa,a,i,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Wu,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ps(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new ih(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new ah(n))})),t}au(e){this.Ha=e.$s,this.Ya=ps();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Qu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const sh="SyncEngine";class lh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ch{constructor(e){this.key=e,this.cu=!1}}class uh{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.lu={},this.hu=new rs((e=>$o(e)),Xo),this.Pu=new Map,this.Tu=new Set,this.Iu=new wi(Ta.comparator),this.Eu=new Map,this.du=new vc,this.Au={},this.Ru=new Map,this.Vu=ac.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function hh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Oh(e);let a;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.uu()):a=await fh(r,t,n,!0),a}async function dh(e,t){const n=Oh(e);await fh(n,t,!0,!1)}async function fh(e,t,n,r){const a=await Fc(e.localStore,Ko(t)),i=a.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let s;return r&&(s=await ph(e,t,i,"current"===o,a.resumeToken)),e.isPrimaryClient&&n&&mu(e.remoteStore,a),s}async function ph(e,t,n,r,a){e.fu=(t,n,r)=>async function(e,t,n,r){let a=t.view.tu(n);a.Cs&&(a=await Vc(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,a)})));const i=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,i,o);return Th(e,t.targetId,s.ou),s.snapshot}(e,t,n,r);const i=await Vc(e.localStore,t,!0),o=new oh(t,i.$s),s=o.tu(i.documents),l=cl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=o.applyChanges(s,e.isPrimaryClient,l);Th(e,n,c.ou);const u=new lh(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function mh(e,t,n){const r=$r(e),a=r.hu.get(t),i=r.Pu.get(a.targetId);if(i.length>1)return r.Pu.set(a.targetId,i.filter((e=>!Xo(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Uc(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&gu(r.remoteStore,a.targetId),Sh(r,a.targetId)})).catch(Ma)):(Sh(r,a.targetId),await Uc(r.localStore,a.targetId,!0))}async function gh(e,t){const n=$r(e),r=n.hu.get(t),a=n.Pu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gu(n.remoteStore,r.targetId))}async function yh(e,t){const n=$r(e);try{const e=await function(e,t){const n=$r(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const o=[];t.targetChanges.forEach(((i,s)=>{const l=a.get(s);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,i.removedDocuments,s).next((()=>n.Ti.addMatchingKeys(e,i.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ci.EMPTY_BYTE_STRING,wa.min()).withLastLimboFreeSnapshotVersion(wa.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&o.push(n.Ti.updateTargetData(e,c))}));let s=is(),l=ps();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jc(e,i,t.documentUpdates).next((e=>{s=e.qs,l=e.Qs}))),!r.isEqual(wa.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ja.waitFor(o).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.xs=a,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(Xr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?Xr(r.cu,14607):e.removedDocuments.size>0&&(Xr(r.cu,42227),r.cu=!1))})),await Dh(n,e,t)}catch(e){await Ma(e)}}function vh(e,t,n){const r=$r(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const a=r.view.Fa(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const n=$r(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const a of n.Sa)a.Fa(t)&&(r=!0)})),r&&eh(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bh(e,t,n){const r=$r(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),i=a&&a.key;if(i){let e=new wi(Ta.comparator);e=e.insert(i,fo.newNoDocument(i,wa.min()));const n=ps().add(i),a=new ll(wa.min(),new Map,new wi(da),e,n);await yh(r,a),r.Iu=r.Iu.remove(i),r.Eu.delete(t),Nh(r)}else await Uc(r.localStore,t,!1).then((()=>Sh(r,t,n))).catch(Ma)}async function wh(e,t){const n=$r(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$r(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let o=ja.resolve();return i.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Xr(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(n,e,t,a).next((()=>a.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ps();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Eh(n,r,null),kh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dh(n,e)}catch(e){await Ma(e)}}async function xh(e,t,n){const r=$r(e);try{const e=await function(e,t){const n=$r(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Eh(r,t,n),kh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dh(r,e)}catch(n){await Ma(n)}}function kh(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function Eh(e,t,n){const r=$r(e);let a=r.Au[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Au[r.currentUser.toKey()]=a}}function Sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||_h(e,t)}))}function _h(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(gu(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Nh(e))}function Th(e,t,n){for(const r of n)r instanceof ah?(e.du.addReference(r.key,t),Ch(e,r)):r instanceof ih?(qr(sh,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||_h(e,r.key)):Yr(19791,{pu:r})}function Ch(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(qr(sh,"New document in limbo: "+n),e.Tu.add(r),Nh(e))}function Nh(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Ta(Ea.fromString(t)),r=e.Vu.next();e.Eu.set(r,new ch(n)),e.Iu=e.Iu.insert(n,r),mu(e.remoteStore,new Gl(Ko(Ho(n.path)),r,"TargetPurposeLimboResolution",Ua.le))}}async function Dh(e,t,n){const r=$r(e),a=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach(((e,s)=>{o.push(r.fu(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,a?"current":"not-current")}if(e){a.push(e);const t=Nc.Rs(s.targetId,e);i.push(t)}})))})),await Promise.all(o),r.lu.Y_(a),await async function(e,t){const n=$r(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ja.forEach(t,(t=>ja.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ja.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fa(e))throw e;qr(Ac,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,a)}}}(r.localStore,i))}async function Ih(e,t){const n=$r(e);if(!n.currentUser.isEqual(t)){qr(sh,"User change. New user:",t.toKey());const e=await Pc(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Zr(Jr.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Dh(n,e.ks)}}function Ah(e,t){const n=$r(e),r=n.Eu.get(t);if(r&&r.cu)return ps().add(r.key);{let e=ps();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Oh(e){const t=$r(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ah.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bh.bind(null,t),t.lu.Y_=Ju.bind(null,t.eventManager),t.lu.gu=Zu.bind(null,t.eventManager),t}function Rh(e){const t=$r(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xh.bind(null,t),t}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Rc(this.persistence,new Ic,e.initialUser,this.serializer)}Su(e){return new Sc(Tc.fi,this.serializer)}bu(e){return new Hc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Mh extends Ph{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Xr(this.persistence.referenceDelegate instanceof Cc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new cc(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?rc.withCacheSize(this.cacheSizeBytes):rc.DEFAULT;return new Sc((e=>Cc.fi(e,t)),this.serializer)}}class jh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ih.bind(null,this.syncEngine),await Uu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Yu}createDatastore(e){const t=nu(e.databaseInfo.databaseId),n=function(e){return new eu(e)}(e.databaseInfo);return function(e,t,n,r){return new cu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new du(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>vh(this.syncEngine,e,0)),Qc.C()?new Qc:new qc)}createSyncEngine(e,t){return function(e,t,n,r,a,i,o){const s=new uh(e,t,n,r,a,i);return o&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=$r(e);qr(hu,"RemoteStore shutting down."),t.da.add(5),await pu(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}jh.provider={build:()=>new jh};class Lh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Fh="FirestoreClient";class Uh{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vr.UNAUTHENTICATED,this.clientId=ha.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async e=>{qr(Fh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(qr(Fh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hu(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Vh(e,t){e.asyncQueue.verifyOperationInProgress(),qr(Fh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Bh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zh(e);qr(Fh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Fu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fu(t.remoteStore,n))),e._onlineComponents=t}async function zh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qr(Fh,"Using user provided OfflineComponentProvider");try{await Vh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Jr.FAILED_PRECONDITION||e.code===Jr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await Vh(e,new Ph)}}else qr(Fh,"Using default OfflineComponentProvider"),await Vh(e,new Mh(void 0));return e._offlineComponents}async function Hh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qr(Fh,"Using user provided OnlineComponentProvider"),await Bh(e,e._uninitializedComponentsProvider._online)):(qr(Fh,"Using default OnlineComponentProvider"),await Bh(e,new jh))),e._onlineComponents}function qh(e){return Hh(e).then((e=>e.syncEngine))}async function Wh(e){const t=await Hh(e),n=t.eventManager;return n.onListen=hh.bind(null,t.syncEngine),n.onUnlisten=mh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gh.bind(null,t.syncEngine),n}function Qh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ea;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new Lh({next:n=>{i.xu(),t.enqueueAndForget((()=>$u(e,o))),n.fromCache&&"server"===r.source?a.reject(new Zr(Jr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),o=new rh(n,i,{includeMetadataChanges:!0,Qa:!0});return Xu(e,o)}(await Wh(e),e.asyncQueue,t,n,r))),r.promise}function Kh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yh=new Map;function Gh(e,t,n){if(!n)throw new Zr(Jr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xh(e){if(!Ta.isDocumentKey(e))throw new Zr(Jr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $h(e){if(Ta.isDocumentKey(e))throw new Zr(Jr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Yr(12329,{type:typeof e})}function Zh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zr(Jr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(e);throw new Zr(Jr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const ed="firestore.googleapis.com",td=!0;class nd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zr(Jr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ed,this.ssl=td}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:td;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=nc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<oc)throw new Zr(Jr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Zr(Jr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zr(Jr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Zr(Jr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Zr(Jr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zr(Jr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zr(Jr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new na;switch(e.type){case"firstParty":return new oa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zr(Jr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yh.get(e);t&&(qr("ComponentProvider","Removing Datastore"),Yh.delete(e),t.terminate())}(this),Promise.resolve()}}class ad{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ad(this.firestore,e,this._query)}}class id{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new id(this.firestore,e,this._key)}}class od extends ad{constructor(e,t,n){super(e,t,Ho(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new id(this.firestore,null,new Ta(e))}withConverter(e){return new od(this.firestore,e,this._path)}}function sd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Yt(e),Gh("collection","path",t),e instanceof rd){const n=Ea.fromString(t,...r);return $h(n),new od(e,null,n)}{if(!(e instanceof id||e instanceof od))throw new Zr(Jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ea.fromString(t,...r));return $h(n),new od(e.firestore,null,n)}}function ld(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Yt(e),1===arguments.length&&(t=ha.newId()),Gh("doc","path",t),e instanceof rd){const n=Ea.fromString(t,...r);return Xh(n),new id(e,null,new Ta(n))}{if(!(e instanceof id||e instanceof od))throw new Zr(Jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ea.fromString(t,...r));return Xh(n),new id(e.firestore,e instanceof od?e.converter:null,new Ta(n))}}const cd="AsyncQueue";class ud{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ru(this,"async_queue_retry"),this.rc=()=>{const e=tu();e&&qr(cd,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=tu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=tu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new ea;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(rx){if(!Fa(rx))throw rx;qr(cd,"Operation failed with retryable error: "+rx)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,Wr("INTERNAL UNHANDLED ERROR: ",hd(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=zu.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&Yr(47125,{cc:hd(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function hd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class dd extends rd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ud,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ud(e),this._firestoreClient=void 0,await e}}}function fd(e){if(e._terminated)throw new Zr(Jr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||pd(e),e._firestoreClient}function pd(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new Ui(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Uh(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class md{constructor(e){this._byteString=e}static fromBase64String(e){try{return new md(Ci.fromBase64String(e))}catch(e){throw new Zr(Jr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new md(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zr(Jr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _a(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yd{constructor(e){this._methodName=e}}class vd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zr(Jr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zr(Jr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return da(this._lat,e._lat)||da(this._long,e._long)}}class bd{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const wd=/^__.*__$/;class xd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yr(40011,{Ic:e})}}class Ed{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ed(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(kd(this.Ic)&&wd.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Sd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||nu(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ed({Ic:e,methodName:t,wc:n,path:_a.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(e){const t=e._freezeSettings(),n=nu(e._databaseId);return new Sd(e._databaseId,!!t.ignoreUndefinedProperties,n)}class Td extends yd{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function Cd(e,t,n,r){const a=e.bc(1,t,n);Od("Data must be an object, but it was:",a,r);const i=[],o=uo.empty();vi(r,((e,r)=>{const s=Md(t,e,n);r=Yt(r);const l=a.mc(s);if(r instanceof Td)i.push(s);else{const e=Dd(r,l);null!=e&&(i.push(s),o.set(s,e))}}));const s=new _i(i);return new xd(o,s,a.fieldTransforms)}function Nd(e,t,n,r,a,i){const o=e.bc(1,t,n),s=[Rd(t,r,n)],l=[a];if(i.length%2!=0)throw new Zr(Jr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)s.push(Rd(t,i[d])),l.push(i[d+1]);const c=[],u=uo.empty();for(let d=s.length-1;d>=0;--d)if(!Ld(c,s[d])){const e=s[d];let t=l[d];t=Yt(t);const n=o.mc(e);if(t instanceof Td)c.push(e);else{const r=Dd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new _i(c);return new xd(u,h,o.fieldTransforms)}function Dd(e,t){if(Ad(e=Yt(e)))return Od("Unsupported field value:",t,e),Id(e,t);if(e instanceof yd)return function(e,t){if(!kd(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Dd(a,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Yt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ba.fromDate(e);return{timestampValue:kl(t.serializer,n)}}if(e instanceof ba){const n=new ba(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kl(t.serializer,n)}}if(e instanceof vd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof md)return{bytesValue:El(t.serializer,e._byteString)};if(e instanceof id){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Tl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof bd)return function(e,t){return{mapValue:{fields:{[zi]:{stringValue:Wi},[Qi]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return ys(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Jh(e)))}(e,t)}function Id(e,t){const n={};return bi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vi(e,((e,r)=>{const a=Dd(r,t.Ac(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function Ad(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ba||e instanceof vd||e instanceof md||e instanceof id||e instanceof yd||e instanceof bd)}function Od(e,t,n){if(!Ad(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Jh(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Rd(e,t,n){if((t=Yt(t))instanceof gd)return t._internalPath;if("string"==typeof t)return Md(e,t);throw jd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pd=new RegExp("[~\\*/\\[\\]]");function Md(e,t,n){if(t.search(Pd)>=0)throw jd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new gd(...t.split("."))._internalPath}catch(Jd){throw jd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jd(e,t,n,r,a){const i=r&&!r.isEmpty(),o=void 0!==a;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(a)),l+=")"),new Zr(Jr.INVALID_ARGUMENT,s+e+l)}function Ld(e,t){return e.some((e=>e.isEqual(t)))}class Fd{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new id(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ud(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ud extends Fd{data(){return super.data()}}function Vd(e,t){return"string"==typeof t?Md(e,t):t instanceof gd?t._internalPath:t._delegate._internalPath}function Bd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zr(Jr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Yr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vi(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Qi].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ii(e.doubleValue)));return new bd(a)}convertGeoPoint(e){return new vd(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Li(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fi(e));default:return null}}convertTimestamp(e){const t=Di(e);return new ba(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ea.fromString(e);Xr(Yl(n),9688,{name:e});const r=new Bi(n.get(1),n.get(3)),a=new Ta(n.popFirst(5));return r.isEqual(t)||Wr("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qd extends Fd{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wd extends qd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wd(this._firestore,this._userDataWriter,n.key,n,new Hd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zr(Jr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Wd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Hd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Wd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Kd(t.type),doc:r,oldIndex:a,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Kd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yr(61501,{type:e})}}class Yd extends zd{constructor(e){super(),this.firestore=e}convertBytes(e){return new md(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new id(this.firestore,null,t)}}function Gd(e){e=Zh(e,ad);const t=Zh(e.firestore,dd),n=fd(t),r=new Yd(t);return Bd(e._query),Qh(n,e._query).then((n=>new Qd(t,r,e,n)))}function Xd(e,t,n){e=Zh(e,id);const r=Zh(e.firestore,dd),a=_d(r);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return i="string"==typeof(t=Yt(t))||t instanceof gd?Nd(a,"updateDoc",e._key,t,n,s):Cd(a,"updateDoc",e._key,t),$d(r,[i.toMutation(e._key,Rs.exists(!0))])}function $d(e,t){return function(e,t){const n=new ea;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Rh(e);try{const e=await function(e,t){const n=$r(e),r=ba.now(),a=t.reduce(((e,t)=>e.add(t.key)),ps());let i,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=is(),l=ps();return n.Bs.getEntries(e,a).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((a=>{i=a;const o=[];for(const e of t){const t=Us(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new zs(e.key,t,ho(t.value.mapValue),Rs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:ls(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new wi(da)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Dh(r,e.changes),await Du(r.remoteStore)}catch(e){const t=Hu(e,"Failed to persist write");n.reject(t)}}(await qh(e),t,n))),n.promise}(fd(e),t)}new WeakMap;function Jd(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Jd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Br=e}(ur),ir(new Gt("firestore",((e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),o=new dd(new aa(e.getProvider("auth-internal")),new la(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zr(Jr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bi(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),fr(Fr,Ur,e),fr(Fr,Ur,"esm2017")}();const Zd=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Jd(e))&&(r&&(r+=" "),r+=t);return r},ef="container mx-auto px-4",tf="flex items-center justify-center",nf="flex justify-between items-center",rf="flex items-center justify-start",af="flex flex-col",of={x1:"space-x-1",x2:"space-x-2",x3:"space-x-3",x4:"space-x-4",x6:"space-x-6",y3:"space-y-3",y4:"space-y-4",y6:"space-y-6"},sf={full:"w-full h-full",icon:"w-8 h-8",iconSm:"w-4 h-4",iconLg:"w-5 h-5",avatar:"w-12 h-12",avatarSm:"w-10 h-10",avatarLg:"w-32 h-32"},lf={sm:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"},cf="transition duration-300",uf="transition",hf={responsive:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",flexResponsive:"flex flex-col md:flex-row md:space-x-6",cols2:"grid grid-cols-1 md:grid-cols-2 gap-4",cols3:"grid grid-cols-1 md:grid-cols-3 gap-6",cols4:"grid grid-cols-1 md:grid-cols-4 gap-4"},df={base:"bg-green-600 text-white",hover:"hover:bg-green-700",dark:"bg-green-700",light:"bg-green-500",text:"text-green-600",gradient:"bg-gradient-to-r from-green-500 to-green-600",gradientDark:"bg-gradient-to-r from-green-900 to-green-600"},ff={base:"bg-blue-500 text-white",hover:"hover:bg-blue-600",dark:"bg-blue-600",light:"bg-blue-400",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900"},pf={success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},mf={bg:"dark:bg-stone-800",bgAlt:"dark:bg-black",bgInput:"dark:bg-stone-700",bgCard:"dark:bg-stone-900",bgDashboard:"dark:bg-black",bgDashboardCard:"dark:bg-zinc-900",text:"dark:text-stone-100",textAlt:"dark:text-gray-100",textMuted:"dark:text-gray-400",border:"dark:border-gray-700",borderInput:"dark:border-gray-600",hover:"dark:hover:bg-gray-700",hoverCard:"dark:hover:bg-gray-750"},gf={bg:"bg-white",bgAlt:"bg-gray-50",bgInput:"bg-gray-100",bgDashboard:"bg-gray-100",text:"text-gray-800",textMuted:"text-gray-600",textLight:"text-gray-700",border:"border-gray-300",borderInput:"border-gray-600",hover:"hover:bg-gray-50",hoverAlt:"hover:bg-gray-200"},yf={card:Zd(lf.xl,"shadow-md overflow-hidden",cf,gf.bg,mf.bgAlt,mf.textAlt),dashboardCard:Zd(lf.lg,"shadow",gf.bg,mf.bgDashboardCard,"p-6"),button:{primary:Zd(df.base,df.hover,"font-medium py-2 px-4",lf.lg,uf),secondary:Zd(ff.base,ff.hover,"font-medium py-2 px-4",lf.lg,uf),outline:Zd(gf.bg,gf.border,lf.sm,"px-3 py-1.5",tf,of.x1,"text-sm",gf.hover,uf),icon:Zd("p-2",lf.full,gf.hoverAlt,mf.hover,uf),small:Zd("px-3 py-1 text-sm",lf.sm,uf)},input:Zd("w-full",gf.borderInput,gf.bgInput,mf.bgInput,mf.text,mf.borderInput,lf.sm,"px-3 py-2","border"),text:{heading:Zd("font-bold",gf.text,mf.text),subheading:Zd("font-medium",df.text),muted:Zd("text-sm",gf.textMuted,mf.textMuted),label:Zd("block text-sm font-medium mb-1",gf.textLight,mf.text)},badge:Zd("px-2 py-1 text-xs",lf.full,"font-medium")},vf={main:Zd("min-h-screen",af,mf.bg,mf.text),container:Zd("flex-grow",ef,"py-6")},bf={container:Zd(nf,"mb-6"),h1:Zd("text-2xl md:text-2xl",yf.text.heading),button:yf.button.outline},wf={nav:Zd(df.base,"shadow-lg"),outer:Zd(ef,"py-3",nf),inner:Zd(tf,of.x2),button:Zd(sf.icon,lf.full,df.dark,tf,"font-bold")},xf={toggleButton:yf.button.icon,dark:"text-yellow-500",light:gf.textLight},kf={container:Zd(hf.responsive,"mb-8")},Ef={container:Zd(yf.card,"trainer-card"),imageContainer:Zd("h-40",df.gradient,tf),availabilityOuter:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",availabilityInner:Zd(tf,of.x2),availabilityBackground:Zd(df.light,lf.full,"w-2 h-2"),availability:"text-white text-sm",nameContainer:"justify-between items-start",name:Zd("text-lg",yf.text.heading),specialty:yf.text.subheading,location:Zd("mt-3",yf.text.muted),duration:yf.text.muted,bookContainer:Zd("mt-3",nf),priceContainer:gf.text,price:Zd("font-bold text-xl",mf.text),session:yf.text.muted,bookButton:yf.button.primary},Sf={bookingOuter:Zd(gf.bg,lf.xl,"shadow-lg p-5 mb-8",mf.bgAlt,mf.textAlt),h2:Zd("text-xl",yf.text.heading,"mb-4"),bookingInner:hf.flexResponsive,session:"md:w-1/3 mb-6 md:mb-0"},_f={outerContainer:Zd(df.gradientDark,"text-white",lf.lg,"p-4 mb-4"),innerContainer:Zd(rf,of.x3),initials:Zd(sf.avatar,gf.bg,df.text,lf.full,tf,"font-bold text-xl"),name:"font-bold"},Tf={container:Zd(gf.bgAlt,"text-gray-950",mf.bgCard,mf.text,lf.lg,"p-4"),h4:"font-medium mb-3",innerContainer:of.y3,label:yf.text.label,text:yf.input},Cf={container:Zd("w-full p-4",lf.sm,gf.bg,mf.bgCard,mf.text,"shadow-md mb-5"),heading:Zd("font-medium mb-3","text-gray-900 dark:text-white"),wrapper:Zd("border border-gray-200",lf.lg),monthNav:Zd(nf,"mb-2 border border-gray-300 p-3"),navButton:Zd("text-gray-500","hover:text-gray-900 dark:hover:text-white"),monthTitle:Zd("text-gray-800 dark:text-gray-200 font-semibold"),weekdayContainer:Zd("grid grid-cols-7 gap-1 mb-1","text-center text-xs","text-gray-500 dark:text-gray-400"),dateGrid:"grid grid-cols-7 gap-1",dateCell:{base:Zd("h-8",tf,lf.sm,"text-sm",uf),selected:Zd(df.base),available:Zd("text-gray-900 dark:text-white","cursor-pointer","hover:bg-gray-200 dark:hover:bg-gray-700"),unavailable:Zd("bg-gray-200 text-stone-400","dark:bg-stone-700 dark:text-stone-500","cursor-not-allowed")}},Nf={container:Zd(mf.bgCard,mf.text,"p-4"),heading:"font-medium mb-2",dateDisplay:Zd("text-sm text-gray-400 mb-2"),emptyState:Zd("text-gray-500 text-sm italic"),grid:Zd("grid grid-cols-3 sm:grid-cols-4 gap-2 mb-4"),slotButton:{base:Zd("py-2 px-2 text-center",lf.sm,"border text-sm",uf),selected:Zd(df.base,"border-green-600"),available:Zd("border-gray-600 text-gray-300","hover:bg-gray-100 dark:hover:bg-stone-700")},summary:{container:Zd("border-t border-gray-600 pt-4 text-sm"),text:"mb-1",label:"font-bold"}},Df=(Zd(gf.bg,lf.xl,"shadow-lg p-5 mb-8",mf.bgAlt,mf.textAlt),Zd("text-xl font-bold mb-4",gf.text,mf.textAlt),Zd("text-gray-500 text-center py-4 italic"),Zd("text-red-500 hover:text-red-700 text-sm font-medium",uf),Zd("font-semibold text-lg mb-3",df.text),Zd("bg-gray-50 dark:bg-stone-800",lf.lg,"p-4 mb-3 last:mb-0"),Zd(nf,"items-start mb-2"),Zd("font-medium",gf.text,mf.text),Zd("text-red-500 hover:text-red-700 text-xs",uf),Zd("text-sm",gf.textMuted,mf.text),Zd("font-bold text-lg",df.text),Zd("text-xs text-gray-500 dark:text-gray-400"),Zd("border-t pt-4 mt-4","border-gray-200 dark:border-gray-600"),Zd(nf,"mb-2 last:mb-0"),Zd("font-medium",gf.text,mf.text),Zd("font-bold",gf.text,mf.text),Zd("text-xl font-bold",df.text),{layout:Zd("min-h-screen","border-radius: 0.5rem",gf.bgDashboard,mf.bgDashboard),mainContent:Zd("max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8"),header:{container:Zd(gf.bg,mf.bgDashboardCard,"shadow"),inner:Zd("max-w-7xl mx-auto px-2 sm:px-4 lg:px-8"),content:Zd("flex flex-col sm:flex-row sm:justify-between sm:items-center","py-4 sm:py-6 space-y-4 sm:space-y-0"),left:Zd("flex items-center space-x-3 sm:space-x-4"),avatar:Zd("w-8 h-8 sm:w-10 sm:h-10",lf.full,"object-cover"),title:Zd("text-xl sm:text-2xl font-bold",gf.text,mf.text),subtitle:Zd("text-sm sm:text-base",gf.textMuted,mf.textMuted),right:Zd("flex items-center justify-end space-x-2 sm:space-x-4"),iconButton:Zd("p-2",gf.textMuted,mf.textMuted,"hover:text-gray-900 dark:hover:text-white"),primaryButton:Zd(yf.button.secondary,"text-sm px-3 py-2")},navigation:{container:Zd(gf.bg,mf.bgDashboardCard,"border-b",mf.border,"overflow-x-auto"),inner:Zd("max-w-7xl mx-auto px-2 sm:px-4 lg:px-8"),tabs:Zd("flex space-x-1 sm:space-x-2 md:space-x-8","min-w-max"),tab:{base:Zd("flex items-center space-x-1 sm:space-x-2","py-3 sm:py-4 px-2 sm:px-3 border-b-2 font-medium","text-xs sm:text-sm whitespace-nowrap",uf),active:Zd("border-blue-500 text-blue-600 dark:text-blue-400"),inactive:Zd("border-transparent",gf.textMuted,mf.textMuted,"hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300")}},stats:{grid:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",card:Zd(yf.dashboardCard,"p-3 sm:p-6","flex flex-col sm:flex-row sm:justify-between"),content:"flex-1 mb-2 sm:mb-0",label:Zd("text-xs sm:text-sm",gf.textMuted,mf.textMuted),value:Zd("text-lg sm:text-2xl font-bold",gf.text,mf.text),icon:Zd("w-6 h-6 sm:w-8 sm:h-8","flex-shrink-0 self-center")},section:{container:Zd(yf.dashboardCard,"p-3 sm:p-6"),header:Zd("flex flex-col sm:flex-row sm:justify-between sm:items-center","mb-4 space-y-2 sm:space-y-0"),title:Zd("text-base sm:text-lg font-semibold",mf.text),content:"space-y-3 sm:space-y-4",emptyState:Zd(gf.textMuted,mf.textMuted,"text-center py-6 sm:py-8 text-sm sm:text-base")},form:{group:"space-y-3 sm:space-y-4",label:Zd(yf.text.label,"text-sm"),input:Zd(yf.input,"text-sm sm:text-base, min-h-[44px]"),textarea:Zd(yf.input,"resize-none text-sm sm:text-base"),select:Zd(yf.input,"text-sm sm:text-base"),buttonGroup:Zd("flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3","mt-4 sm:mt-6"),primaryButton:Zd(yf.button.secondary,"w-full sm:w-auto text-sm sm:text-base"),secondaryButton:Zd(yf.button.small,"bg-gray-500 text-white hover:bg-gray-600","w-full sm:w-auto"),timePicker:Zd(gf.borderInput,gf.bgInput,mf.bgInput,mf.text,mf.borderInput,lf.sm,"px-2","border","min-h-[44px]")},table:{container:"overflow-x-auto -mx-3 sm:mx-0",table:"w-full border-collapse min-w-max",header:Zd("border-b",mf.border),headerCell:Zd("text-left p-2 sm:p-3 font-medium text-xs sm:text-sm",gf.textMuted,mf.textMuted),row:Zd("border-b",mf.border,"hover:bg-gray-50 dark:hover:bg-gray-700",uf),cell:Zd("p-2 sm:p-3 text-xs sm:text-sm",mf.text)},filters:{container:Zd("flex flex-wrap gap-2"),button:{base:Zd("px-3 py-1.5 text-xs sm:text-sm rounded w-20",uf),active:Zd(ff.base),inactive:Zd("bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300","hover:bg-gray-300 dark:hover:bg-gray-600")}},status:{confirmed:Zd(pf.success,"text-xs px-2 py-1"),pending:Zd(pf.warning,"text-xs px-2 py-1"),cancelled:Zd(pf.error,"text-xs px-2 py-1")},actions:{container:Zd("flex flex-wrap gap-2 mt-3"),edit:Zd("px-3 py-1.5 text-xs rounded",ff.base,ff.hover,"w-20"),delete:Zd("px-3 py-1.5 text-xs rounded","bg-red-500 text-white hover:bg-red-600","w-20"),add:Zd("px-3 py-1.5 text-xs rounded","bg-green-500 text-white hover:bg-green-600","flex items-center space-x-1","w-20")}}),If=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Af=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Of={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rf=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Pf=(0,r.forwardRef)(((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:h}=e,d=i(e,Rf);return(0,r.createElement)("svg",u(u(u({ref:t},Of),{},{width:a,height:a,stroke:n,strokeWidth:s?24*Number(o)/Number(a):o,className:Af("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...h.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(c)?c:[c]])})),Mf=["className"],jf=(e,t)=>{const n=(0,r.forwardRef)(((n,a)=>{let{className:o}=n,s=i(n,Mf);return(0,r.createElement)(Pf,u({ref:a,iconNode:t,className:Af("lucide-".concat((l=If(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},s));var l}));return n.displayName=If(e),n},Lf=jf("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ff=jf("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);function Uf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme"),r=e||n||"system";document.documentElement.classList.remove("light","dark","adaptive"),"dark"===r?document.documentElement.classList.add("dark"):"light"===r?document.documentElement.classList.add("light"):document.documentElement.classList.add(t?"dark":"light")}var Vf=n(579);function Bf(){const[e,t]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t(document.documentElement.classList.contains("dark"))}),[]);return(0,Vf.jsx)("button",{onClick:()=>{!function(){const e="dark"===(document.documentElement.classList.contains("dark")?"dark":"light")?"light":"dark";localStorage.setItem("theme",e),Uf(e)}(),t((e=>!e))},className:xf.toggleButton,"aria-label":"Toggle dark mode",children:e?(0,Vf.jsx)(Lf,{size:20,className:xf.light}):(0,Vf.jsx)(Ff,{size:20,className:xf.dark})})}function zf(){return(0,Vf.jsx)("nav",{className:wf.nav,children:(0,Vf.jsxs)("div",{className:wf.outer,children:[(0,Vf.jsxs)("div",{className:wf.inner,children:[(0,Vf.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Vf.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),(0,Vf.jsx)("span",{className:"text-xl font-bold",children:"BUILT Relentless"})]}),(0,Vf.jsx)(Bf,{})]})})}function Hf(){return(0,Vf.jsx)("div",{className:bf.container,children:(0,Vf.jsx)("h1",{className:bf.h1,children:"Find Your Trainer"})})}function qf(e){let{trainer:t,onSelect:n}=e;const r=t.photoURL||t.image||t.avatar;return(0,Vf.jsx)("div",{className:Ef.container,children:(0,Vf.jsxs)("div",{className:"flex h-40",children:[(0,Vf.jsxs)("div",{className:"relative w-40 h-40 flex-shrink-0",children:[(0,Vf.jsx)("div",{className:"w-full h-full rounded-l-lg overflow-hidden",children:r?(0,Vf.jsx)("img",{src:t.photoURL||t.image||t.avatar,alt:t.name,className:"w-full h-full object-cover",style:{objectFit:"cover",objectPosition:"center"},onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("bg-gradient-to-br","from-green-400","to-green-600")}}):(0,Vf.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center",children:(0,Vf.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-white opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Vf.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 14l9-5-9-5-9 5 9 5z"}),(0,Vf.jsx)("circle",{cx:12,cy:12,r:10,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1})]})})}),(0,Vf.jsx)("div",{className:Ef.availabilityOuter,children:(0,Vf.jsxs)("div",{className:Ef.availabilityInner,children:[(0,Vf.jsx)("span",{className:Ef.availabilityBackground}),(0,Vf.jsx)("span",{className:Ef.availability,children:t.availability})]})})]}),(0,Vf.jsxs)("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[(0,Vf.jsxs)("div",{className:Ef.nameContainer,children:[(0,Vf.jsx)("h3",{className:Ef.name,children:t.name}),(0,Vf.jsx)("p",{className:Ef.specialty,children:t.specialty})]}),(0,Vf.jsx)("div",{className:"flex justify-end",children:(0,Vf.jsx)("button",{onClick:n,className:Ef.bookButton,children:"Book Now"})})]})]})})}function Wf(e){let{bookingRef:t,trainers:n,setSelectedCoach:r,availability:a,setCoachAvailability:i}=e;return(0,Vf.jsx)("div",{className:kf.container,children:n.map((e=>(0,Vf.jsx)(qf,{trainer:e,onSelect:()=>(e=>{var n;r(e);const o=null!==(n=a.find((t=>t.id===(null===e||void 0===e?void 0:e.id))))&&void 0!==n?n:{};i(o),window.innerWidth<768&&setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100)})(e)},e.id)))})}function Qf(e){let{trainer:t}=e;if(!t)return null;const{initials:n,name:r,specialty:a,location:i,sessionLength:o,price:s}=t;return(0,Vf.jsxs)("div",{className:_f.outerContainer,children:[(0,Vf.jsxs)("div",{className:_f.innerContainer,children:[(0,Vf.jsx)("div",{className:_f.initials,children:n}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h3",{className:_f.name,children:r}),(0,Vf.jsx)("p",{children:a})]})]}),(0,Vf.jsxs)("div",{className:"mt-4 text-sm",children:[(0,Vf.jsxs)("p",{className:"mb-2",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Location:"})," ",i]}),(0,Vf.jsxs)("p",{className:"mb-2",children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Session Length:"})," ",o]}),(0,Vf.jsxs)("p",{children:[(0,Vf.jsx)("span",{className:"font-medium",children:"Price:"})," $",s," per session"]})]})]})}function Kf(){return(0,Vf.jsxs)("div",{className:Tf.container,children:[(0,Vf.jsx)("h4",{className:Tf.h4,children:"Session Details"}),(0,Vf.jsxs)("div",{className:Tf.innerContainer,children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{htmlFor:"focus-area",className:Tf.label,children:"Focus Area"}),(0,Vf.jsxs)("select",{id:"focus-area",className:Tf.text,children:[(0,Vf.jsx)("option",{children:"Shooting Technique"}),(0,Vf.jsx)("option",{children:"Dribbling & Ball Handling"}),(0,Vf.jsx)("option",{children:"Defensive Skills"}),(0,Vf.jsx)("option",{children:"Conditioning & Agility"}),(0,Vf.jsx)("option",{children:"Game Strategy"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{htmlFor:"skill-level",className:Tf.label,children:"Your Skill Level"}),(0,Vf.jsxs)("select",{id:"skill-level",className:Tf.text,children:[(0,Vf.jsx)("option",{children:"Beginner"}),(0,Vf.jsx)("option",{children:"Intermediate"}),(0,Vf.jsx)("option",{children:"Advanced"}),(0,Vf.jsx)("option",{children:"Elite/Professional"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{htmlFor:"notes",className:Tf.label,children:"Notes (optional)"}),(0,Vf.jsx)("textarea",{id:"notes",rows:"2",className:Tf.text,placeholder:"Any specific areas you'd like to work on..."})]})]})]})}const Yf={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Gf(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Xf={date:Gf({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Gf({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Gf({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$f={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Jf(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Zf(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}var ep;const tp={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=Yf[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Xf,formatRelative:(e,t,n,r)=>$f[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Jf({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Jf({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jf({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Jf({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Jf({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(ep={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(ep.matchPattern);if(!n)return null;const r=n[0],a=e.match(ep.parsePattern);if(!a)return null;let i=ep.valueCallback?ep.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:Zf({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Zf({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zf({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Zf({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Zf({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let np={};function rp(){return np}Math.pow(10,8);const ap=6048e5,ip=6e4,op=36e5,sp=Symbol.for("constructDateFrom");function lp(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&sp in e?e[sp](t):e instanceof Date?new e.constructor(t):new Date(t)}function cp(e,t){return lp(t||e,e)}function up(e){const t=cp(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hp(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function dp(e,t,n){const[r,a]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=lp.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(a)}(null===n||void 0===n?void 0:n.in,e,t),i=hp(r),o=hp(a),s=+i-up(i),l=+o-up(o);return Math.round((s-l)/864e5)}function fp(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pp(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in);return dp(n,fp(n))+1}function mp(e,t){var n,r,a,i,o,s;const l=rp(),c=null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:0,u=cp(e,null===t||void 0===t?void 0:t.in),h=u.getDay(),d=(h<c?7:0)+h-c;return u.setDate(u.getDate()-d),u.setHours(0,0,0,0),u}function gp(e,t){return mp(e,u(u({},t),{},{weekStartsOn:1}))}function yp(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),a=lp(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=gp(a),o=lp(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=gp(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function vp(e,t){const n=yp(e,t),r=lp((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gp(r)}function bp(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in),r=+gp(n)-+vp(n);return Math.round(r/ap)+1}function wp(e,t){var n,r,a,i,o,s;const l=cp(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=rp(),h=null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,d=lp((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(c+1,0,h),d.setHours(0,0,0,0);const f=mp(d,t),p=lp((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,h),p.setHours(0,0,0,0);const m=mp(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function xp(e,t){var n,r,a,i,o,s;const l=rp(),c=null!==(n=null!==(r=null!==(a=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,u=wp(e,t),h=lp((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(u,0,c),h.setHours(0,0,0,0);return mp(h,t)}function kp(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in),r=+mp(n,t)-+xp(n,t);return Math.round(r/ap)+1}function Ep(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Sp={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ep("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Ep(n+1,2)},d:(e,t)=>Ep(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Ep(e.getHours()%12||12,t.length),H:(e,t)=>Ep(e.getHours(),t.length),m:(e,t)=>Ep(e.getMinutes(),t.length),s:(e,t)=>Ep(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Ep(Math.trunc(r*Math.pow(10,n-3)),t.length)}},_p="midnight",Tp="noon",Cp="morning",Np="afternoon",Dp="evening",Ip="night",Ap={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Sp.y(e,t)},Y:function(e,t,n,r){const a=wp(e,r),i=a>0?a:1-a;if("YY"===t){return Ep(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Ep(i,t.length)},R:function(e,t){return Ep(yp(e),t.length)},u:function(e,t){return Ep(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ep(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ep(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Sp.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ep(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=kp(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Ep(a,t.length)},I:function(e,t,n){const r=bp(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ep(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Sp.d(e,t)},D:function(e,t,n){const r=pp(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ep(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ep(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ep(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Ep(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?Tp:0===r?_p:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?Dp:r>=12?Np:r>=4?Cp:Ip,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Sp.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Sp.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ep(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ep(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Sp.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Sp.s(e,t)},S:function(e,t){return Sp.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Rp(r);case"XXXX":case"XX":return Pp(r);default:return Pp(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Rp(r);case"xxxx":case"xx":return Pp(r);default:return Pp(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Op(r,":");default:return"GMT"+Pp(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Op(r,":");default:return"GMT"+Pp(r,":")}},t:function(e,t,n){return Ep(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Ep(+e,t.length)}};function Op(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+Ep(i,2)}function Rp(e,t){if(e%60===0){return(e>0?"-":"+")+Ep(Math.abs(e)/60,2)}return Pp(e,t)}function Pp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Ep(Math.trunc(r/60),2)+t+Ep(r%60,2)}const Mp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},jp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Lp={p:jp,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Mp(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Mp(r,t)).replace("{{time}}",jp(a,t))}},Fp=/^D+$/,Up=/^Y+$/,Vp=["D","DD","YY","YYYY"];function Bp(e){return Fp.test(e)}function zp(e){return Up.test(e)}function Hp(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),Vp.includes(e))throw new RangeError(r)}function qp(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Wp(e){return!(!qp(e)&&"number"!==typeof e||isNaN(+cp(e)))}const Qp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yp=/^'([^]*?)'?$/,Gp=/''/g,Xp=/[a-zA-Z]/;function $p(e,t,n){var r,a,i,o,s,l,c,u,h,d,f,p,m,g;const y=rp(),v=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:y.locale)&&void 0!==r?r:tp,b=null!==(i=null!==(o=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:y.firstWeekContainsDate)&&void 0!==o?o:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1,w=null!==(h=null!==(d=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:y.weekStartsOn)&&void 0!==d?d:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==h?h:0,x=cp(e,null===n||void 0===n?void 0:n.in);if(!Wp(x))throw new RangeError("Invalid time value");let k=t.match(Kp).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Lp[t])(e,v.formatLong)}return e})).join("").match(Qp).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Jp(e)};if(Ap[t])return{isToken:!0,value:e};if(t.match(Xp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));v.localize.preprocessor&&(k=v.localize.preprocessor(x,k));const E={firstWeekContainsDate:b,weekStartsOn:w,locale:v};return k.map((r=>{if(!r.isToken)return r.value;const a=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!zp(a))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!Bp(a))||Hp(a,t,String(e));return(0,Ap[a[0]])(x,a,v.localize,E)})).join("")}function Jp(e){const t=e.match(Yp);return t?t[1].replace(Gp,"'"):e}function Zp(e){let{coachAvailability:t,selectedDate:n,onSelectDate:a}=e;const[i,o]=(0,r.useState)(n||new Date),s=i.getFullYear(),l=i.getMonth(),c=new Date(s,l,1).getDay(),u=new Date(s,l+1,0).getDate(),h=Array.from({length:c+u},((e,t)=>{const n=t-c+1;return n>0?new Date(s,l,n):null}));return(0,Vf.jsxs)("div",{className:Cf.container,children:[(0,Vf.jsx)("h3",{className:Cf.heading,children:"Select a Date"}),(0,Vf.jsxs)("div",{className:Cf.wrapper,children:[(0,Vf.jsxs)("div",{className:Cf.monthNav,children:[(0,Vf.jsx)("button",{onClick:()=>{const e=new Date(i);e.setMonth(i.getMonth()-1),o(e)},className:Cf.navButton,children:"\u2190"}),(0,Vf.jsx)("span",{className:Cf.monthTitle,children:(d=i,d.toLocaleDateString("default",{month:"long",year:"numeric"}))}),(0,Vf.jsx)("button",{onClick:()=>{const e=new Date(i);e.setMonth(i.getMonth()+1),o(e)},className:Cf.navButton,children:"\u2192"})]}),(0,Vf.jsx)("div",{className:Cf.weekdayContainer,children:["S","M","T","W","T","F","S"].map(((e,t)=>(0,Vf.jsx)("div",{children:e},t)))}),(0,Vf.jsx)("div",{className:Cf.dateGrid,children:h.map(((e,r)=>{const i=(s=n,(o=e)&&s&&o.getDate()===s.getDate()&&o.getMonth()===s.getMonth()&&o.getFullYear()===s.getFullYear());var o,s;const l=e&&(e=>{var n,r,a;const i=$p(e,"yyyy-MM-dd"),o=$p(e,"EEEE").toLowerCase();if(null!==(n=t.unavailableDates)&&void 0!==n&&n.includes(i))return!1;const s=null===(r=t.customAvailability)||void 0===r?void 0:r[i],l=null===(a=t.weeklyAvailability)||void 0===a?void 0:a[o],c=s&&Object.keys(s).length>0,u=l&&Object.keys(l).length>0;return c||u})(e);return(0,Vf.jsx)("div",{className:Zd(Cf.dateCell.base,{[Cf.dateCell.selected]:i,[Cf.dateCell.available]:!i&&l,[Cf.dateCell.unavailable]:!i&&!l&&e}),onClick:()=>l&&a(e),children:null===e||void 0===e?void 0:e.getDate()},r)}))})]})]});var d}function em(){return Object.assign({},rp())}function tm(e,t){const n=function(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}(t)?new t(0):lp(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class nm{constructor(){l(this,"subPriority",0)}validate(e,t){return!0}}class rm extends nm{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class am extends nm{constructor(e,t){super(),l(this,"priority",10),l(this,"subPriority",-1),this.context=e||(e=>lp(t,e))}set(e,t){return t.timestampIsSet?e:lp(e,tm(e,this.context))}}class im{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new rm(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const om=/^(1[0-2]|0?\d)/,sm=/^(3[0-1]|[0-2]?\d)/,lm=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,cm=/^(5[0-3]|[0-4]?\d)/,um=/^(2[0-3]|[0-1]?\d)/,hm=/^(2[0-4]|[0-1]?\d)/,dm=/^(1[0-1]|0?\d)/,fm=/^(1[0-2]|0?\d)/,pm=/^[0-5]?\d/,mm=/^[0-5]?\d/,gm=/^\d/,ym=/^\d{1,2}/,vm=/^\d{1,3}/,bm=/^\d{1,4}/,wm=/^-?\d+/,xm=/^-?\d/,km=/^-?\d{1,2}/,Em=/^-?\d{1,3}/,Sm=/^-?\d{1,4}/,_m=/^([+-])(\d{2})(\d{2})?|Z/,Tm=/^([+-])(\d{2})(\d{2})|Z/,Cm=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Nm=/^([+-])(\d{2}):(\d{2})|Z/,Dm=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Im(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Am(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Om(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*op+i*ip+1e3*o),rest:t.slice(n[0].length)}}function Rm(e){return Am(wm,e)}function Pm(e,t){switch(e){case 1:return Am(gm,t);case 2:return Am(ym,t);case 3:return Am(vm,t);case 4:return Am(bm,t);default:return Am(new RegExp("^\\d{1,"+e+"}"),t)}}function Mm(e,t){switch(e){case 1:return Am(xm,t);case 2:return Am(km,t);case 3:return Am(Em,t);case 4:return Am(Sm,t);default:return Am(new RegExp("^-?\\d{1,"+e+"}"),t)}}function jm(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Lm(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function Fm(e){return e%400===0||e%4===0&&e%100!==0}function Um(e,t,n){const r=cp(e,null===n||void 0===n?void 0:n.in),a=kp(r,n)-t;return r.setDate(r.getDate()-7*a),cp(r,null===n||void 0===n?void 0:n.in)}function Vm(e,t,n){const r=cp(e,null===n||void 0===n?void 0:n.in),a=bp(r,n)-t;return r.setDate(r.getDate()-7*a),r}const Bm=[31,28,31,30,31,30,31,31,30,31,30,31],zm=[31,29,31,30,31,30,31,31,30,31,30,31];function Hm(e,t,n){const r=cp(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?lp((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function qm(e,t,n){var r,a,i,o,s,l;const c=rp(),u=null!==(r=null!==(a=null!==(i=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(s=n.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==a?a:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0,h=cp(e,null===n||void 0===n?void 0:n.in),d=h.getDay(),f=7-u;return Hm(h,t<0||t>6?t-(d+f)%7:((t%7+7)%7+f)%7-(d+f)%7,n)}function Wm(e,t){const n=cp(e,null===t||void 0===t?void 0:t.in).getDay();return 0===n?7:n}function Qm(e,t,n){const r=cp(e,null===n||void 0===n?void 0:n.in);return Hm(r,t-Wm(r,n),n)}const Km={G:new class extends im{constructor(){super(...arguments),l(this,"priority",140),l(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends im{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Im(Pm(4,e),r);case"yo":return Im(n.ordinalNumber(e,{unit:"year"}),r);default:return Im(Pm(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=Lm(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends im{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Im(Pm(4,e),r);case"Yo":return Im(n.ordinalNumber(e,{unit:"year"}),r);default:return Im(Pm(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=wp(e,r);if(n.isTwoDigitYear){const t=Lm(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),mp(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),mp(e,r)}},R:new class extends im{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return Mm("R"===t?4:t.length,e)}set(e,t,n){const r=lp(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gp(r)}},u:new class extends im{constructor(){super(...arguments),l(this,"priority",130),l(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return Mm("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends im{constructor(){super(...arguments),l(this,"priority",120),l(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return Pm(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends im{constructor(){super(...arguments),l(this,"priority",120),l(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return Pm(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends im{constructor(){super(...arguments),l(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),l(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Im(Am(om,e),r);case"MM":return Im(Pm(2,e),r);case"Mo":return Im(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends im{constructor(){super(...arguments),l(this,"priority",110),l(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Im(Am(om,e),r);case"LL":return Im(Pm(2,e),r);case"Lo":return Im(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends im{constructor(){super(...arguments),l(this,"priority",100),l(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return Am(cm,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Pm(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return mp(Um(e,n,r),r)}},I:new class extends im{constructor(){super(...arguments),l(this,"priority",100),l(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return Am(cm,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Pm(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return gp(Vm(e,n))}},d:new class extends im{constructor(){super(...arguments),l(this,"priority",90),l(this,"subPriority",1),l(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return Am(sm,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Pm(t.length,e)}}validate(e,t){const n=Fm(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=zm[r]:t>=1&&t<=Bm[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends im{constructor(){super(...arguments),l(this,"priority",90),l(this,"subpriority",1),l(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return Am(lm,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Pm(t.length,e)}}validate(e,t){return Fm(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends im{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=qm(e,n,r)).setHours(0,0,0,0),e}},e:new class extends im{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Im(Pm(t.length,e),a);case"eo":return Im(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=qm(e,n,r)).setHours(0,0,0,0),e}},c:new class extends im{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Im(Pm(t.length,e),a);case"co":return Im(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=qm(e,n,r)).setHours(0,0,0,0),e}},i:new class extends im{constructor(){super(...arguments),l(this,"priority",90),l(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Pm(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Im(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Im(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Im(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Im(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Qm(e,n)).setHours(0,0,0,0),e}},a:new class extends im{constructor(){super(...arguments),l(this,"priority",80),l(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(jm(n),0,0,0),e}},b:new class extends im{constructor(){super(...arguments),l(this,"priority",80),l(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(jm(n),0,0,0),e}},B:new class extends im{constructor(){super(...arguments),l(this,"priority",80),l(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(jm(n),0,0,0),e}},h:new class extends im{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return Am(fm,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Pm(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends im{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return Am(um,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Pm(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends im{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return Am(dm,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Pm(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends im{constructor(){super(...arguments),l(this,"priority",70),l(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return Am(hm,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Pm(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends im{constructor(){super(...arguments),l(this,"priority",60),l(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return Am(pm,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Pm(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends im{constructor(){super(...arguments),l(this,"priority",50),l(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return Am(mm,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Pm(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends im{constructor(){super(...arguments),l(this,"priority",30),l(this,"incompatibleTokens",["t","T"])}parse(e,t){return Im(Pm(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends im{constructor(){super(...arguments),l(this,"priority",10),l(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Om(_m,e);case"XX":return Om(Tm,e);case"XXXX":return Om(Cm,e);case"XXXXX":return Om(Dm,e);default:return Om(Nm,e)}}set(e,t,n){return t.timestampIsSet?e:lp(e,e.getTime()-up(e)-n)}},x:new class extends im{constructor(){super(...arguments),l(this,"priority",10),l(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Om(_m,e);case"xx":return Om(Tm,e);case"xxxx":return Om(Cm,e);case"xxxxx":return Om(Dm,e);default:return Om(Nm,e)}}set(e,t,n){return t.timestampIsSet?e:lp(e,e.getTime()-up(e)-n)}},t:new class extends im{constructor(){super(...arguments),l(this,"priority",40),l(this,"incompatibleTokens","*")}parse(e){return Rm(e)}set(e,t,n){return[lp(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends im{constructor(){super(...arguments),l(this,"priority",20),l(this,"incompatibleTokens","*")}parse(e){return Rm(e)}set(e,t,n){return[lp(e,n),{timestampIsSet:!0}]}}},Ym=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xm=/^'([^]*?)'?$/,$m=/''/g,Jm=/\S/,Zm=/[a-zA-Z]/;function eg(e,t,n,r){var a,i,o,s,l,c,u,h,d,f,p,m,g,y;const v=()=>lp((null===r||void 0===r?void 0:r.in)||n,NaN),b=em(),w=null!==(a=null!==(i=null===r||void 0===r?void 0:r.locale)&&void 0!==i?i:b.locale)&&void 0!==a?a:tp,x=null!==(o=null!==(s=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:b.firstWeekContainsDate)&&void 0!==s?s:null===(h=b.locale)||void 0===h||null===(h=h.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1,k=null!==(d=null!==(f=null!==(p=null!==(m=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==m?m:null===r||void 0===r||null===(g=r.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==p?p:b.weekStartsOn)&&void 0!==f?f:null===(y=b.locale)||void 0===y||null===(y=y.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==d?d:0;if(!t)return e?v():cp(n,null===r||void 0===r?void 0:r.in);const E={firstWeekContainsDate:x,weekStartsOn:k,locale:w},S=[new am(null===r||void 0===r?void 0:r.in,n)],_=t.match(Gm).map((e=>{const t=e[0];if(t in Lp){return(0,Lp[t])(e,w.formatLong)}return e})).join("").match(Ym),T=[];for(let I of _){null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!zp(I)||Hp(I,t,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!Bp(I)||Hp(I,t,e);const n=I[0],a=Km[n];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=T.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(I,"` at the same time"))}else if("*"===a.incompatibleTokens&&T.length>0)throw new RangeError("The format string mustn't contain `".concat(I,"` and any other token at the same time"));T.push({token:n,fullToken:I});const r=a.run(e,I,w.match,E);if(!r)return v();S.push(r.setter),e=r.rest}else{if(n.match(Zm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===I?I="'":"'"===n&&(I=I.match(Xm)[1].replace($m,"'")),0!==e.indexOf(I))return v();e=e.slice(I.length)}}if(e.length>0&&Jm.test(e))return v();const C=S.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>S.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let N=cp(n,null===r||void 0===r?void 0:r.in);if(isNaN(+N))return v();const D={};for(const I of C){if(!I.validate(N,E))return v();const e=I.set(N,D,E);Array.isArray(e)?(N=e[0],Object.assign(D,e[1])):N=e}return N}function tg(e,t){return+cp(e)<+cp(t)}function ng(e,t,n){const r=cp(e,null===n||void 0===n?void 0:n.in);return r.setTime(r.getTime()+t*ip),r}function rg(e,t){return+cp(e)>+cp(t)}function ag(e){var t;let{coachAvailability:n,selectedDate:r,selectedTimes:a,onToggleTime:i}=e;if(!r||!n)return null;const o=$p(r,"EEEE").toLowerCase(),s=function(e){const t=[];return e.forEach(((e,n)=>{let{start:r,end:a}=e;if(r&&a)try{let e=eg(r,"HH:mm",new Date);const n=eg(a,"HH:mm",new Date);for(;tg(e,n);){const r=ng(e,30);if(rg(r,n))break;t.push({start:$p(e,"HH:mm"),end:$p(r,"HH:mm")}),e=r}}catch(i){console.error("\u274c Failed to parse time block: { start: ".concat(r,", end: ").concat(a," }"),i)}else console.warn("\u26d4 Skipping invalid range at index ".concat(n,":"),{start:r,end:a})})),t}(Object.values((null===n||void 0===n||null===(t=n.weeklyAvailability)||void 0===t?void 0:t[o])||{})),l=$p(r,"MMMM d, yyyy");return 0===s.length?(0,Vf.jsxs)("div",{className:Nf.container,children:[(0,Vf.jsx)("h3",{className:Nf.heading,children:"Available Time Slots"}),(0,Vf.jsx)("p",{className:Nf.dateDisplay,children:l}),(0,Vf.jsx)("p",{className:Nf.emptyState,children:"No available times for this date"})]}):(0,Vf.jsxs)("div",{className:Nf.container,children:[(0,Vf.jsx)("h3",{className:Nf.heading,children:"Available Time Slots"}),(0,Vf.jsx)("p",{className:Nf.dateDisplay,children:l}),(0,Vf.jsx)("div",{className:Nf.grid,children:s.map((e=>{let{start:t,end:n}=e;const r=null===a||void 0===a?void 0:a.includes(t);return(0,Vf.jsx)("button",{onClick:()=>null===i||void 0===i?void 0:i(t),className:Zd(Nf.slotButton.base,r?Nf.slotButton.selected:Nf.slotButton.available),children:$p(eg(t,"HH:mm",new Date),"h:mm a")},"".concat(t,"-").concat(n))}))})]})}function ig(e,t){return+cp(e)-+cp(t)}function og(e,t,n){const r=ig(e,t)/ip;return(a=null===n||void 0===n?void 0:n.roundingMethod,e=>{const t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(r);var a}function sg(e){let{selectedBlocks:t,onClear:n}=e;if(!t||0===Object.keys(t).length)return null;const r={},a={};for(const[c,u]of Object.entries(t))for(const{time:e,coach:t}of u){if(!e||!t)continue;const n=t.name||"Unknown Coach",i=t.price||25;a[n]=i,r[n]||(r[n]={}),r[n][c]||(r[n][c]=[]),r[n][c].push(e)}const i=Object.keys(r);if(0===i.length)return null;let o=0,s=0;const l=i.map((e=>{const t=Object.values(r[e]).reduce(((e,t)=>e+t.length),0),n=a[e]||25,i=t*n;return o+=t,s+=i,{name:e,blocks:t,pricePerBlock:n,total:i}}));return console.log("totalBlocks",o),console.log("totalPrice",s),console.log("coachSummaries",l),(0,Vf.jsxs)("div",{className:"dark:bg-stone-900 dark:text-stone-100 p-4 mt-6 rounded-lg border border-gray-700",children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Vf.jsx)("h3",{className:"font-medium text-lg",children:"Booking Summary"}),o>0&&(0,Vf.jsx)("button",{className:"text-red-500 text-sm underline hover:text-red-400",onClick:n,children:"Clear All"})]}),(0,Vf.jsxs)("div",{className:"space-y-6",children:[i.map((e=>{const t=Object.entries(r[e]).sort(((e,t)=>{let[n]=e,[r]=t;return new Date(n)-new Date(r)}));l.find((t=>t.name===e));return(0,Vf.jsxs)("div",{children:[(0,Vf.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vf.jsx)("h4",{className:"text-base font-semibold text-stone-700 dark:text-white",children:e}),(0,Vf.jsx)("div",{className:"text-sm text-gray-300"})]}),t.map((e=>{let[t,n]=e;const r=function(e){if(!Array.isArray(e)||e.some((e=>"string"!==typeof e||!e.match(/\d{2}:\d{2}/))))return console.warn("Invalid time list:",e),[];const t=[...e].sort(((e,t)=>eg(e,"HH:mm",new Date)-eg(t,"HH:mm",new Date))),n=[];let r=t[0],a=r;for(let i=1;i<=t.length;i++){const e=t[i],o=eg(a,"HH:mm",new Date);(!e||og(eg(e,"HH:mm",new Date),o)>30)&&(n.push([r,$p(ng(o,30),"HH:mm")]),r=e),a=e}return n}(n);return(0,Vf.jsxs)("div",{className:"mb-2",children:[(0,Vf.jsx)("p",{className:"text-sm font-semibold text-gray-300 mb-1",children:$p(new Date(t),"MMMM d, yyyy")}),(0,Vf.jsx)("ul",{className:"flex flex-wrap gap-2 text-sm text-green-400",children:r.map(((e,t)=>{let[n,r]=e;return(0,Vf.jsxs)("li",{className:"px-2 py-1 bg-green-900 rounded",children:[$p(eg(n,"HH:mm",new Date),"h:mm a")," \u2013"," ",$p(eg(r,"HH:mm",new Date),"h:mm a")]},t)}))})]},t)}))]},e)})),(0,Vf.jsxs)("div",{className:"pt-4 border-gray-600 space-y-2",children:[l.length>1&&(0,Vf.jsx)("div",{className:"space-y-1 text-sm text-gray-300 border-t border-gray-600 pt-2",children:l.map((e=>(0,Vf.jsxs)("div",{className:"flex justify-between",children:[(0,Vf.jsxs)("span",{children:[e.name,": ",e.blocks," ",1===e.blocks?"slot":"slots"]}),(0,Vf.jsxs)("span",{children:["$",e.total]})]},e.name)))}),(0,Vf.jsxs)("div",{className:"flex justify-between text-sm font-semibold border-t border-gray-600 pt-2",children:[(0,Vf.jsxs)("span",{children:["Total Slots: ",o]}),(0,Vf.jsxs)("span",{children:["Total Price: $",s]})]})]})]})]})}function lg(e){let{selectedCoach:t,coachAvailability:n}=e;const[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(new Date),[h,d]=(0,r.useState)({}),f=Object.keys(h).length>0;return(0,Vf.jsxs)("div",{className:Sf.bookingOuter,children:[(0,Vf.jsx)("h2",{className:Sf.h2,children:"Book Your Training Session"}),(0,Vf.jsxs)("div",{className:Sf.bookingInner,children:[(0,Vf.jsxs)("div",{className:Sf.session,children:[(0,Vf.jsx)(Qf,{trainer:t}),(0,Vf.jsx)(Kf,{})]}),(0,Vf.jsxs)("div",{className:"md:w-2/3 space-y-6",children:[(0,Vf.jsx)(Zp,{coachAvailability:n,selectedDate:a,onSelectDate:o}),a&&(0,Vf.jsx)(ag,{coachAvailability:n,selectedDate:a,selectedTimes:(e=>{if(!e)return[];const t=$p(e,"yyyy-MM-dd");return(h[t]||[]).map((e=>e.time))})(a),onToggleTime:e=>((e,n)=>{if(!t)return;const r=$p(e,"yyyy-MM-dd");d((e=>{const a=e[r]||[];let o;if(o=a.some((e=>e.time===n))?a.filter((e=>e.time!==n)):[...a,{time:n,coach:{id:t.id,name:t.name,price:t.price}}],0===o.length){const{[r]:t}=e;return i(e,[r].map(s))}return u(u({},e),{},{[r]:o})}))})(a,e)}),f&&(0,Vf.jsx)(sg,{selectedBlocks:h,onClear:()=>d({})}),f&&(0,Vf.jsx)(Vf.Fragment,{children:(0,Vf.jsx)("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition",children:"Complete Booking"})})]})]})]})}fr("firebase","11.9.0","app");const cg="firebasestorage.googleapis.com",ug="storageBucket";class hg extends Ht{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(pg(e),"Firebase Storage: ".concat(t," (").concat(pg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var dg,fg;function pg(e){return"storage/"+e}function mg(){return new hg(dg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gg(){return new hg(dg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yg(){return new hg(dg.CANCELED,"User canceled the upload/download.")}function vg(){return new hg(dg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bg(e){return new hg(dg.INVALID_ARGUMENT,e)}function wg(){return new hg(dg.APP_DELETED,"The Firebase app was deleted.")}function xg(e,t){return new hg(dg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function kg(e){throw new hg(dg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(dg||(dg={}));class Eg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Eg.makeFromUrl(e,t)}catch(rx){return new Eg(e,"")}if(""===n.path)return n;throw r=e,new hg(dg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const a=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===cg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let a=r[t.indices.path];a||(a=""),n=new Eg(e,a),t.postModify(n);break}}if(null==n)throw function(e){return new hg(dg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Sg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function _g(e){return"string"===typeof e||e instanceof String}function Tg(e){return Cg()&&e instanceof Blob}function Cg(){return"undefined"!==typeof Blob}function Ng(e,t,n,r){if(r<t)throw bg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Dg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ig(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ag(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fg||(fg={}));class Og{constructor(e,t,n,r,a,i,o,s,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=i,this.callback_=o,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Rg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===fg.NO_ERROR,a=n.getStatus();if(!t||Ag(a,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===fg.ABORT;return void e(!1,new Rg(!1,null,t))}const i=-1!==this.successCodes_.indexOf(a);e(!0,new Rg(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,a=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(a,a.getResponse());void 0!==e?n(e):n()}catch(rx){r(rx)}else if(null!==a){const e=mg();e.serverResponse=a.getErrorText(),this.errorCallback_?r(this.errorCallback_(a,e)):r(e)}else if(t.canceled){r(this.appDelete_?wg():yg())}else{r(gg())}};this.canceled_?t(0,new Rg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,a=null,i=null,o=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){a=setTimeout((()=>{a=null,e(f,l())}),t)}function d(){i&&clearTimeout(i)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==a?(e||(s=2),clearTimeout(a),h(0)):e||(s=1)))}return h(0),i=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Rg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Pg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Mg(){const e=Pg();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Cg())return new Blob(n);throw new hg(dg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function jg(e){if("undefined"===typeof atob)throw t="base-64",new hg(dg.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Lg="raw",Fg="base64",Ug="base64url",Vg="data_url";class Bg{constructor(e,t){this.data=e,this.contentType=t||null}}function zg(e,t){switch(e){case Lg:return new Bg(Hg(t));case Fg:case Ug:return new Bg(qg(e,t));case Vg:return new Bg(function(e){const t=new Wg(e);return t.base64?qg(Fg,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(rx){throw xg(Vg,"Malformed data URL.")}return Hg(t)}(t.rest)}(t),new Wg(t).contentType)}throw mg()}function Hg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function qg(e,t){switch(e){case Fg:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw xg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Ug:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw xg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jg(t)}catch(rx){if(rx.message.includes("polyfill"))throw rx;throw xg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class Wg{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw xg(Vg,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Qg{constructor(e,t){let n=0,r="";Tg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Qg(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Qg(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Cg()){const e=t.map((e=>e instanceof Qg?e.data_:e));return new Qg(Mg.apply(null,e))}{const e=t.map((e=>_g(e)?zg(Lg,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let a=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[a++]=e[t]})),new Qg(r,!0)}}uploadData(){return this.data_}}function Kg(e){let t;try{t=JSON.parse(e)}catch(rx){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function Yg(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Gg(e,t){return t}class Xg{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Gg}}let $g=null;function Jg(){if($g)return $g;const e=[];e.push(new Xg("bucket")),e.push(new Xg("generation")),e.push(new Xg("metageneration")),e.push(new Xg("name","fullPath",!0));const t=new Xg("name");t.xform=function(e,t){return function(e){return!_g(e)||e.length<2?e:Yg(e)}(t)},e.push(t);const n=new Xg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Xg("timeCreated")),e.push(new Xg("updated")),e.push(new Xg("md5Hash",null,!0)),e.push(new Xg("cacheControl",null,!0)),e.push(new Xg("contentDisposition",null,!0)),e.push(new Xg("contentEncoding",null,!0)),e.push(new Xg("contentLanguage",null,!0)),e.push(new Xg("contentType",null,!0)),e.push(new Xg("metadata","customMetadata",!0)),$g=e,$g}function Zg(e,t,n){const r={type:"file"},a=n.length;for(let i=0;i<a;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,a=new Eg(n,r);return t._makeStorageReference(a)}})}(r,e),r}function ey(e,t,n){const r=Kg(t);if(null===r)return null;return Zg(e,r,n)}function ty(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const r=t[a];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ny{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ry(e){if(!e)throw mg()}function ay(e,t){return function(n,r){const a=ey(e,r,t);return ry(null!==a),a}}function iy(e,t){return function(n,r){const a=ey(e,r,t);return ry(null!==a),function(e,t,n,r){const a=Kg(t);if(null===a)return null;if(!_g(a.downloadTokens))return null;const i=a.downloadTokens;if(0===i.length)return null;const o=encodeURIComponent;return i.split(",").map((t=>{const a=e.bucket,i=e.fullPath;return Dg("/b/"+o(a)+"/o/"+o(i),n,r)+Ig({alt:"media",token:t})}))[0]}(a,r,e.host,e._protocol)}}function oy(e){return function(t,n){let r;var a,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new hg(dg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new hg(dg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new hg(dg.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,r=new hg(dg.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function sy(e){const t=oy(e);return function(n,r){let a=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,a=new hg(dg.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ly(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function cy(e,t,n,r,a){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;const l=ly(t,r,a),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ty(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",h=Qg.getBlob(c,r,u);if(null===h)throw vg();const d={name:l.fullPath},f=Dg(i,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ny(f,"POST",ay(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=oy(t),m}class uy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fg.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=fg.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=fg.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r,a){if(this.sent_)throw kg("cannot .send() more than once");if(Rt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(rx){return-1}}getResponse(){if(!this.sent_)throw kg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class hy extends uy{initXhr(){this.xhr_.responseType="text"}}function dy(){return new hy}class fy{constructor(e,t){this._service=e,this._location=t instanceof Eg?t:Eg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fy(e,t)}get root(){const e=new Eg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yg(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Eg(this._location.bucket,e);return new fy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new hg(dg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function py(e,t,n){e._throwIfRoot("uploadBytes");const r=cy(e.storage,e._location,Jg(),new Qg(t,!0),n);return e.storage.makeRequestWithTokens(r,dy).then((t=>({metadata:t,ref:e})))}function my(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Dg(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new ny(r,"GET",iy(e,n),a);return i.errorHandler=sy(t),i}(e.storage,e._location,Jg());return e.storage.makeRequestWithTokens(t,dy).then((e=>{if(null===e)throw new hg(dg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function gy(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Eg(e._location.bucket,n);return new fy(e.storage,r)}function yy(e,t){if(e instanceof wy){const n=e;if(null==n._bucket)throw new hg(dg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ug+"' property when initializing the app?");const r=new fy(n,n._bucket);return null!=t?yy(r,t):r}return void 0!==t?gy(e,t):e}function vy(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof wy)return new fy(e,t);throw bg("To use ref(service, url), the first argument must be a Storage instance.")}return yy(e,t)}function by(e,t){const n=null===t||void 0===t?void 0:t[ug];return null==n?null:Eg.makeFromBucketSpec(n,e)}class wy{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=i,this._bucket=null,this._host=cg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Eg.makeFromBucketSpec(r,this._host):by(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Eg.makeFromBucketSpec(this._url,e):this._bucket=by(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ng("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ng("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fy(this,e)}_makeRequest(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Sg(wg());{const i=function(e,t,n,r,a,i){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Ig(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Og(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o,s)}(e,this._appId,n,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const xy="@firebase/storage",ky="0.13.12",Ey="storage";function Sy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new wy(r,a,i,n,ur)}ir(new Gt(Ey,Sy,"PUBLIC").setMultipleInstances(!0)),fr(xy,ky,""),fr(xy,ky,"esm2017");const _y=hr({apiKey:"AIzaSyCrDBWI-GcPQi6gjQ_kxcau4XURzJr7XRc",authDomain:"built-relentless.firebaseapp.com",projectId:"built-relentless",storageBucket:"built-relentless.firebasestorage.app",messagingSenderId:"1095158432810",appId:"G-55RFX43SJR"}),Ty=function(e,t){const n="object"==typeof e?e:dr(),r="string"==typeof e?e:t||Vi,a=or(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=It("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;e=Zh(e,rd);const i=Rt(t),o=e._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&(Pt("https://".concat(l)),Ft("Firestore",!0)),o.host!==ed&&o.host!==l&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Qt(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vr.MOCK_USER;else{t=Mt(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Zr(Jr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vr(i)}e._authCredentials=new ra(new ta(t,n))}}(a,...e)}return a}(_y),Cy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr(),t=arguments.length>1?arguments[1]:void 0;e=Yt(e);const n=or(e,Ey).getImmediate({identifier:t}),r=It("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const a=Rt(t);a&&(Pt("https://".concat(e.host)),Ft("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Mt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(_y),Ny=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const a=Object.getOwnPropertyDescriptor(e,n),i=Object.getOwnPropertyDescriptor(t,n);!Dy(a,i)&&r||Object.defineProperty(e,n,i)},Dy=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Iy=(e,t)=>"/* Wrapped ".concat(e,"*/\n").concat(t),Ay=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Oy=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function Ry(e,t){let{ignoreNonConfigurable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:r}=e;for(const a of Reflect.ownKeys(t))Ny(e,t,a,n);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":"with ".concat(n.trim(),"() "),a=Iy.bind(null,r,t.toString());Object.defineProperty(a,"name",Oy);const{writable:i,enumerable:o,configurable:s}=Ay;Object.defineProperty(e,"toString",{value:a,writable:i,enumerable:o,configurable:s})})(e,t,r),e}const Py=new WeakMap,My=new WeakMap;function jy(e){let{cacheKey:t,cache:n=new Map,maxAge:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===r)return e;if("number"===typeof r){const e=2147483647;if(r>e)throw new TypeError("The `maxAge` option cannot exceed ".concat(e,"."));if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];const s=t?t(i):i[0],l=n.get(s);if(l)return l.data;const c=e.apply(this,i),u="function"===typeof r?r(...i):r;if(n.set(s,{data:c,maxAge:u?Date.now()+u:Number.POSITIVE_INFINITY}),u&&u>0&&u!==Number.POSITIVE_INFINITY){var h,d;const t=setTimeout((()=>{n.delete(s)}),u);null===(h=t.unref)||void 0===h||h.call(t);const r=null!==(d=My.get(e))&&void 0!==d?d:new Set;r.add(t),My.set(e,r)}return c};return Ry(a,e,{ignoreNonConfigurable:!0}),Py.set(a,n),a}function Ly(e){return"string"===typeof e}function Fy(e,t,n){return n.indexOf(e)===t}function Uy(e){return-1===e.indexOf(",")?e:e.split(",")}function Vy(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return Vy(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return Vy(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,a=e.split("-"),i=a[0],o=a[1],s=void 0===o?"":o;return"".concat(i,"-").concat(s.toUpperCase())}var By=jy((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,a=t.fallbackLocale,i=void 0===a?"en-US":a,o=[];if("undefined"!==typeof navigator){for(var s=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];s=s.concat(Uy(u))}var h=navigator.language,d=h?Uy(h):h;o=o.concat(s,d)}return r&&o.push(i),o.filter(Ly).map(Vy).filter(Fy)}),{cacheKey:JSON.stringify});var zy=jy((function(e){return By(e)[0]||null}),{cacheKey:JSON.stringify});const Hy=zy;function qy(e,t,n){return function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const i=e(r)+a;return t(i)}}function Wy(e){return function(t){return new Date(e(t).getTime()-1)}}function Qy(e,t){return function(n){return[e(n),t(n)]}}function Ky(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;const t=Number.parseInt(e,10);if("string"===typeof e&&!Number.isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Yy(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Gy(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Xy(e){const t=Ky(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const $y=qy(Ky,Xy,-100),Jy=qy(Ky,Xy,100),Zy=Wy(Jy),ev=qy(Ky,Zy,-100),tv=(qy(Ky,Zy,100),Qy(Xy,Zy));function nv(e){const t=Ky(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const rv=qy(Ky,nv,-10),av=qy(Ky,nv,10),iv=Wy(av),ov=qy(Ky,iv,-10),sv=(qy(Ky,iv,10),Qy(nv,iv));function lv(e){const t=Ky(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}const cv=qy(Ky,lv,-1),uv=qy(Ky,lv,1),hv=Wy(uv),dv=qy(Ky,hv,-1),fv=(qy(Ky,hv,1),Qy(lv,hv));function pv(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const a=Ky(n),i=Yy(n)+r,o=new Date;return o.setFullYear(a,i,1),o.setHours(0,0,0,0),e(o)}}function mv(e){const t=Ky(e),n=Yy(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}const gv=pv(mv,-1),yv=pv(mv,1),vv=Wy(yv),bv=pv(vv,-1),wv=(pv(vv,1),Qy(mv,vv));function xv(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const a=Ky(n),i=Yy(n),o=Gy(n)+r,s=new Date;return s.setFullYear(a,i,o),s.setHours(0,0,0,0),e(s)}}function kv(e){const t=Ky(e),n=Yy(e),r=Gy(e),a=new Date;return a.setFullYear(t,n,r),a.setHours(0,0,0,0),a}xv(kv,-1);const Ev=Wy(xv(kv,1)),Sv=(xv(Ev,-1),xv(Ev,1),Qy(kv,Ev));function _v(e){return Gy(vv(e))}var Tv="gregory",Cv="hebrew",Nv="islamic",Dv="iso8601",Iv={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Av=[0,1,2,3,4,5,6],Ov=new Map;function Rv(e){return function(t,n){return function(e){return function(t,n){var r=t||Hy();Ov.has(r)||Ov.set(r,new Map);var a=Ov.get(r);return a.has(e)||a.set(e,new Intl.DateTimeFormat(r||void 0,e).format),a.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}Rv({day:"numeric",month:"numeric",year:"numeric"});var Pv=Rv({day:"numeric"}),Mv=Rv({day:"numeric",month:"long",year:"numeric"}),jv=Rv({month:"long"}),Lv=Rv({month:"long",year:"numeric"}),Fv=Rv({weekday:"short"}),Uv=Rv({weekday:"long"}),Vv=Rv({year:"numeric"}),Bv=Av[0],zv=Av[5],Hv=Av[6];function qv(e,t){void 0===t&&(t=Dv);var n=e.getDay();switch(t){case Dv:return(n+6)%7;case Nv:return(n+1)%7;case Cv:case Tv:return n;default:throw new Error("Unsupported calendar type.")}}function Wv(e,t){void 0===t&&(t=Dv);var n=Ky(e),r=Yy(e),a=e.getDate()-qv(e,t);return new Date(n,r,a)}function Qv(e,t){switch(e){case"century":return Xy(t);case"decade":return nv(t);case"year":return lv(t);case"month":return mv(t);case"day":return kv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Kv(e,t){switch(e){case"century":return Jy(t);case"decade":return av(t);case"year":return uv(t);case"month":return yv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Yv(e,t){switch(e){case"century":return Zy(t);case"decade":return iv(t);case"year":return hv(t);case"month":return vv(t);case"day":return Ev(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Gv(e,t){switch(e){case"century":return tv(t);case"decade":return sv(t);case"year":return fv(t);case"month":return wv(t);case"day":return Sv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Xv(e,t,n){return n.map((function(n){return(t||Vv)(e,n)})).join(" \u2013 ")}function $v(e,t,n){return Xv(e,t,sv(n))}function Jv(e,t){void 0===t&&(t=Dv);var n=e.getDay();switch(t){case Nv:case Cv:return n===zv||n===Hv;case Dv:case Tv:return n===Hv||n===Bv;default:throw new Error("Unsupported calendar type.")}}var Zv="react-calendar__navigation";function eb(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,a=void 0===r?Lv:r,i=e.formatYear,o=void 0===i?Vv:i,s=e.locale,l=e.maxDate,c=e.minDate,u=e.navigationAriaLabel,h=void 0===u?"":u,d=e.navigationAriaLive,f=e.navigationLabel,p=e.next2AriaLabel,m=void 0===p?"":p,g=e.next2Label,y=void 0===g?"\xbb":g,v=e.nextAriaLabel,b=void 0===v?"":v,w=e.nextLabel,x=void 0===w?"\u203a":w,k=e.prev2AriaLabel,E=void 0===k?"":k,S=e.prev2Label,_=void 0===S?"\xab":S,T=e.prevAriaLabel,C=void 0===T?"":T,N=e.prevLabel,D=void 0===N?"\u2039":N,I=e.setActiveStartDate,A=e.showDoubleView,O=e.view,R=e.views.indexOf(O)>0,P="century"!==O,M=function(e,t){switch(e){case"century":return $y(t);case"decade":return rv(t);case"year":return cv(t);case"month":return gv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t),j=P?function(e,t){switch(e){case"decade":return rv(t,-100);case"year":return cv(t,-10);case"month":return gv(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t):void 0,L=Kv(O,t),F=P?function(e,t){switch(e){case"decade":return av(t,100);case"year":return uv(t,10);case"month":return yv(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t):void 0,U=function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return ev(t);case"decade":return ov(t);case"year":return dv(t);case"month":return bv(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t);return c&&c>=e}(),V=P&&function(){if(j.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return ov(t,-100);case"year":return dv(t,-10);case"month":return bv(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t);return c&&c>=e}(),B=l&&l<L,z=P&&l&&l<F;function H(e){var t=function(){switch(O){case"century":return function(e,t,n){return Xv(e,t,tv(n))}(s,o,e);case"decade":return $v(s,o,e);case"year":return o(s,e);case"month":return a(s,e);default:throw new Error("Invalid view: ".concat(O,"."))}}();return f?f({date:e,label:t,locale:s||zy()||void 0,view:O}):t}return(0,Vf.jsxs)("div",{className:Zv,children:[null!==_&&P?(0,Vf.jsx)("button",{"aria-label":E,className:"".concat(Zv,"__arrow ").concat(Zv,"__prev2-button"),disabled:V,onClick:function(){I(j,"prev2")},type:"button",children:_}):null,null!==D&&(0,Vf.jsx)("button",{"aria-label":C,className:"".concat(Zv,"__arrow ").concat(Zv,"__prev-button"),disabled:U,onClick:function(){I(M,"prev")},type:"button",children:D}),function(){var e="".concat(Zv,"__label");return(0,Vf.jsxs)("button",{"aria-label":h,"aria-live":d,className:e,disabled:!R,onClick:n,style:{flexGrow:1},type:"button",children:[(0,Vf.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:H(t)}),A?(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,Vf.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:H(L)})]}):null]})}(),null!==x&&(0,Vf.jsx)("button",{"aria-label":b,className:"".concat(Zv,"__arrow ").concat(Zv,"__next-button"),disabled:B,onClick:function(){I(L,"next")},type:"button",children:x}),null!==y&&P?(0,Vf.jsx)("button",{"aria-label":m,className:"".concat(Zv,"__arrow ").concat(Zv,"__next2-button"),disabled:z,onClick:function(){I(F,"next2")},type:"button",children:y}):null]})}var tb=function(){return tb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},tb.apply(this,arguments)},nb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function rb(e){return"".concat(e,"%")}function ab(e){var t=e.children,n=e.className,a=e.count,i=e.direction,o=e.offset,s=e.style,l=e.wrap,c=nb(e,["children","className","count","direction","offset","style","wrap"]);return(0,Vf.jsx)("div",tb({className:n,style:tb({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},s)},c,{children:r.Children.map(t,(function(e,t){var n=o&&0===t?rb(100*o/a):null;return(0,r.cloneElement)(e,tb(tb({},e.props),{style:{flexBasis:rb(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))}))}))}function ib(e,t){return t[0]<=e&&t[1]>=e}function ob(e,t){return ib(e[0],t)||ib(e[1],t)}function sb(e,t,n){var r=[];if(ob(t,e)){r.push(n);var a=ib(e[0],t),i=ib(e[1],t);a&&r.push("".concat(n,"Start")),i&&r.push("".concat(n,"End")),a&&i&&r.push("".concat(n,"BothEnds"))}return r}function lb(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,a="react-calendar__tile",i=[a];if(!n)return i;var o=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Gv(t,n)}();if(ib(o,s)&&i.push("".concat(a,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return i;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Gv(n,t)}();c=s,(l=u)[0]<=c[0]&&l[1]>=c[1]?i.push("".concat(a,"--active")):ob(u,s)&&i.push("".concat(a,"--hasActive"));var h=sb(u,s,"".concat(a,"--range"));i.push.apply(i,h);var d=Array.isArray(t)?t:[t];if(r&&1===d.length){var f=sb(r>u[0]?[u[0],r]:[r,u[0]],s,"".concat(a,"--hover"));i.push.apply(i,f)}return i}function cb(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,a=e.dateTransform,i=e.dateType,o=e.end,s=e.hover,l=e.offset,c=e.renderTile,u=e.start,h=e.step,d=void 0===h?1:h,f=e.value,p=e.valueType,m=[],g=u;g<=o;g+=d){var y=a(g);m.push(c({classes:lb({date:y,dateType:i,hover:s,value:f,valueType:p}),date:y}))}return(0,Vf.jsx)(ab,{className:t,count:r,offset:l,wrap:!0,children:m})}function ub(e){var t=e.activeStartDate,n=e.children,a=e.classes,i=e.date,o=e.formatAbbr,s=e.locale,l=e.maxDate,c=e.maxDateTransform,u=e.minDate,h=e.minDateTransform,d=e.onClick,f=e.onMouseOver,p=e.style,m=e.tileClassName,g=e.tileContent,y=e.tileDisabled,v=e.view,b=(0,r.useMemo)((function(){return"function"===typeof m?m({activeStartDate:t,date:i,view:v}):m}),[t,i,m,v]),w=(0,r.useMemo)((function(){return"function"===typeof g?g({activeStartDate:t,date:i,view:v}):g}),[t,i,g,v]);return(0,Vf.jsxs)("button",{className:Zd(a,b),disabled:u&&h(u)>i||l&&c(l)<i||(null===y||void 0===y?void 0:y({activeStartDate:t,date:i,view:v})),onClick:d?function(e){return d(i,e)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:p,type:"button",children:[o?(0,Vf.jsx)("abbr",{"aria-label":o(s,i),children:n}):n,w]})}var hb=function(){return hb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},hb.apply(this,arguments)},db=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},fb="react-calendar__century-view__decades__decade";function pb(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,a=e.formatYear,i=void 0===a?Vv:a,o=db(e,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),fb&&c.push(fb),Xy(s).getFullYear()!==r&&c.push("".concat(fb,"--neighboringCentury")),(0,Vf.jsx)(ub,hb({},o,{classes:c,maxDateTransform:iv,minDateTransform:nv,view:"century",children:$v(l,i,s)}))}var mb=function(){return mb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mb.apply(this,arguments)},gb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function yb(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,a=e.value,i=e.valueType,o=gb(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=Ky(Xy(t)),l=s+(r?119:99);return(0,Vf.jsx)(cb,{className:"react-calendar__century-view__decades",dateTransform:nv,dateType:"decade",end:l,hover:n,renderTile:function(e){var n=e.date,r=gb(e,["date"]);return(0,Vf.jsx)(pb,mb({},o,r,{activeStartDate:t,currentCentury:s,date:n}),n.getTime())},start:s,step:10,value:a,valueType:i})}var vb=function(){return vb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},vb.apply(this,arguments)};function bb(e){return(0,Vf.jsx)("div",{className:"react-calendar__century-view",children:(0,Vf.jsx)(yb,vb({},e))})}var wb=function(){return wb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wb.apply(this,arguments)},xb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},kb="react-calendar__decade-view__years__year";function Eb(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,a=e.formatYear,i=void 0===a?Vv:a,o=xb(e,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),kb&&c.push(kb),nv(s).getFullYear()!==r&&c.push("".concat(kb,"--neighboringDecade")),(0,Vf.jsx)(ub,wb({},o,{classes:c,maxDateTransform:hv,minDateTransform:lv,view:"decade",children:i(l,s)}))}var Sb=function(){return Sb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Sb.apply(this,arguments)},_b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Tb(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,a=e.value,i=e.valueType,o=_b(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=Ky(nv(t)),l=s+(r?11:9);return(0,Vf.jsx)(cb,{className:"react-calendar__decade-view__years",dateTransform:lv,dateType:"year",end:l,hover:n,renderTile:function(e){var n=e.date,r=_b(e,["date"]);return(0,Vf.jsx)(Eb,Sb({},o,r,{activeStartDate:t,currentDecade:s,date:n}),n.getTime())},start:s,value:a,valueType:i})}var Cb=function(){return Cb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Cb.apply(this,arguments)};function Nb(e){return(0,Vf.jsx)("div",{className:"react-calendar__decade-view",children:(0,Vf.jsx)(Tb,Cb({},e))})}var Db=function(){return Db=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Db.apply(this,arguments)},Ib=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ab=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function Ob(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,a=void 0===r?jv:r,i=e.formatMonthYear,o=void 0===i?Lv:i,s=Ib(e,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return(0,Vf.jsx)(ub,Db({},s,{classes:Ab(Ab([],n,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:o,maxDateTransform:vv,minDateTransform:mv,view:"year",children:a(c,l)}))}var Rb=function(){return Rb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Rb.apply(this,arguments)},Pb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Mb(e){var t=e.activeStartDate,n=e.hover,r=e.value,a=e.valueType,i=Pb(e,["activeStartDate","hover","value","valueType"]),o=Ky(t);return(0,Vf.jsx)(cb,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(o,e,1),mv(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=Pb(e,["date"]);return(0,Vf.jsx)(Ob,Rb({},i,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:a})}var jb=function(){return jb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},jb.apply(this,arguments)};function Lb(e){return(0,Vf.jsx)("div",{className:"react-calendar__year-view",children:(0,Vf.jsx)(Mb,jb({},e))})}var Fb=function(){return Fb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Fb.apply(this,arguments)},Ub=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Vb="react-calendar__month-view__days__day";function Bb(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,a=e.currentMonthIndex,i=e.formatDay,o=void 0===i?Pv:i,s=e.formatLongDate,l=void 0===s?Mv:s,c=Ub(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=c.date,h=c.locale,d=[];return r&&d.push.apply(d,r),Vb&&d.push(Vb),Jv(u,t)&&d.push("".concat(Vb,"--weekend")),u.getMonth()!==a&&d.push("".concat(Vb,"--neighboringMonth")),(0,Vf.jsx)(ub,Fb({},c,{classes:d,formatAbbr:l,maxDateTransform:Ev,minDateTransform:kv,view:"month",children:o(h,u)}))}var zb=function(){return zb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},zb.apply(this,arguments)},Hb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function qb(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,a=e.showFixedNumberOfWeeks,i=e.showNeighboringMonth,o=e.value,s=e.valueType,l=Hb(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Ky(t),u=Yy(t),h=a||i,d=qv(t,n),f=h?0:d,p=1+(h?-d:0),m=function(){if(a)return p+42-1;var e=_v(t);if(i){var r=new Date;return r.setFullYear(c,u,e),r.setHours(0,0,0,0),e+(7-qv(r,n)-1)}return e}();return(0,Vf.jsx)(cb,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,u,e),kv(t)},dateType:"day",hover:r,end:m,renderTile:function(e){var r=e.date,a=Hb(e,["date"]);return(0,Vf.jsx)(Bb,zb({},l,a,{activeStartDate:t,calendarType:n,currentMonthIndex:u,date:r}),r.getTime())},offset:f,start:p,value:o,valueType:s})}var Wb="react-calendar__month-view__weekdays",Qb="".concat(Wb,"__weekday");function Kb(e){for(var t,n=e.calendarType,r=e.formatShortWeekday,a=void 0===r?Fv:r,i=e.formatWeekday,o=void 0===i?Uv:i,s=e.locale,l=e.onMouseLeave,c=mv(new Date),u=Ky(c),h=Yy(c),d=[],f=1;f<=7;f+=1){var p=new Date(u,h,f-qv(c,n)),m=o(s,p);d.push((0,Vf.jsx)("div",{className:Zd(Qb,(t=p,t.getDay()===(new Date).getDay()&&"".concat(Qb,"--current")),Jv(p,n)&&"".concat(Qb,"--weekend")),children:(0,Vf.jsx)("abbr",{"aria-label":m,title:m,children:a(s,p).replace(".","")})},f))}return(0,Vf.jsx)(ab,{className:Wb,count:7,onFocus:l,onMouseOver:l,children:d})}var Yb=function(){return Yb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Yb.apply(this,arguments)},Gb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Xb="react-calendar__tile";function $b(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=(0,Vf.jsx)("span",{children:n});if(t){var a=e.date,i=e.onClickWeekNumber,o=e.weekNumber,s=Gb(e,["date","onClickWeekNumber","weekNumber"]);return(0,Vf.jsx)("button",Yb({},s,{className:Xb,onClick:function(e){return i(o,a,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber,s=Gb(e,["date","onClickWeekNumber","weekNumber"]);return(0,Vf.jsx)("div",Yb({},s,{className:Xb,children:r}))}function Jb(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,a=e.onMouseLeave,i=e.showFixedNumberOfWeeks,o=function(){if(i)return 6;var e=_v(t)-(7-qv(t,n));return 1+Math.ceil(e/7)}(),s=function(){for(var e=Ky(t),r=Yy(t),a=Gy(t),i=[],s=0;s<o;s+=1)i.push(Wv(new Date(e,r,a+7*s),n));return i}(),l=s.map((function(e){return function(e,t){void 0===t&&(t=Dv);var n,r=t===Tv?Tv:Dv,a=Wv(e,t),i=Ky(e)+1;do{n=Wv(new Date(i,0,r===Dv?4:1),t),i-=1}while(e<n);return Math.round((a.getTime()-n.getTime())/6048e5)+1}(e,n)}));return(0,Vf.jsx)(ab,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map((function(e,t){var n=s[t];if(!n)throw new Error("date is not defined");return(0,Vf.jsx)($b,{date:n,onClickWeekNumber:r,weekNumber:e},e)}))})}var Zb=function(){return Zb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Zb.apply(this,arguments)},ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function tw(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,a=e.showFixedNumberOfWeeks,i=e.calendarType,o=void 0===i?function(e){if(e)for(var t=0,n=Object.entries(Iv);t<n.length;t++){var r=n[t],a=r[0];if(r[1].includes(e))return a}return Dv}(n):i,s=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,u=e.showWeekNumbers,h=ew(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var d="react-calendar__month-view";return(0,Vf.jsx)("div",{className:Zd(d,u?"".concat(d,"--weekNumbers"):""),children:(0,Vf.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[u?(0,Vf.jsx)(Jb,{activeStartDate:t,calendarType:o,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:a}):null,(0,Vf.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,Vf.jsx)(Kb,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),(0,Vf.jsx)(qb,Zb({calendarType:o},h))]})]})})}var nw=function(){return nw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nw.apply(this,arguments)},rw="react-calendar",aw=["century","decade","year","month"],iw=["decade","year","month","day"],ow=new Date;ow.setFullYear(1,0,1),ow.setHours(0,0,0,0);var sw=new Date(864e13);function lw(e){return e instanceof Date?e:new Date(e)}function cw(e,t){return aw.slice(aw.indexOf(e),aw.indexOf(t)+1)}function uw(e,t,n){return e&&function(e,t,n){return-1!==cw(t,n).indexOf(e)}(e,t,n)?e:n}function hw(e){var t=aw.indexOf(e);return iw[t]}function dw(e,t){var n=e.value,r=e.minDate,a=e.maxDate,i=e.maxDetail,o=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=lw(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!o)return null;var s=hw(i);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Qv(s,o);case 1:return Yv(s,o);default:throw new Error("Invalid index value: ".concat(t))}}(),r,a)}var fw=function(e){return dw(e,0)},pw=function(e){return dw(e,1)},mw=function(e){return[fw,pw].map((function(t){return t(e)}))};function gw(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,a=e.minDetail,i=e.value;return Qv(uw(e.view,a,n),fw({value:i,minDate:r,maxDate:t,maxDetail:n})||new Date)}function yw(e){return e&&(!Array.isArray(e)||1===e.length)}function vw(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var bw=(0,r.forwardRef)((function(e,t){var n=e.activeStartDate,a=e.allowPartialRange,i=e.calendarType,o=e.className,s=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,u=e.formatDay,h=e.formatLongDate,d=e.formatMonth,f=e.formatMonthYear,p=e.formatShortWeekday,m=e.formatWeekday,g=e.formatYear,y=e.goToRangeStartOnSelect,v=void 0===y||y,b=e.inputRef,w=e.locale,x=e.maxDate,k=void 0===x?sw:x,E=e.maxDetail,S=void 0===E?"month":E,_=e.minDate,T=void 0===_?ow:_,C=e.minDetail,N=void 0===C?"century":C,D=e.navigationAriaLabel,I=e.navigationAriaLive,A=e.navigationLabel,O=e.next2AriaLabel,R=e.next2Label,P=e.nextAriaLabel,M=e.nextLabel,j=e.onActiveStartDateChange,L=e.onChange,F=e.onClickDay,U=e.onClickDecade,V=e.onClickMonth,B=e.onClickWeekNumber,z=e.onClickYear,H=e.onDrillDown,q=e.onDrillUp,W=e.onViewChange,Q=e.prev2AriaLabel,K=e.prev2Label,Y=e.prevAriaLabel,G=e.prevLabel,X=e.returnValue,$=void 0===X?"start":X,J=e.selectRange,Z=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringCentury,ae=e.showNeighboringDecade,ie=e.showNeighboringMonth,oe=void 0===ie||ie,se=e.showWeekNumbers,le=e.tileClassName,ce=e.tileContent,ue=e.tileDisabled,he=e.value,de=e.view,fe=(0,r.useState)(s),pe=fe[0],me=fe[1],ge=(0,r.useState)(null),ye=ge[0],ve=ge[1],be=(0,r.useState)(Array.isArray(l)?l.map((function(e){return null!==e?lw(e):null})):null!==l&&void 0!==l?lw(l):null),we=be[0],xe=be[1],ke=(0,r.useState)(c),Ee=ke[0],Se=ke[1],_e=n||pe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,a=e.defaultView,i=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,c=e.value,u=e.view,h=uw(u,l,o),d=t||n;return d?Qv(h,d):gw({maxDate:i,maxDetail:o,minDate:s,minDetail:l,value:c||r,view:u||a})}({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:c,maxDate:k,maxDetail:S,minDate:T,minDetail:N,value:he,view:de}),Te=function(){var e=J&&yw(we)?we:void 0!==he?he:we;return e?Array.isArray(e)?e.map((function(e){return null!==e?lw(e):null})):null!==e?lw(e):null:null}(),Ce=hw(S),Ne=uw(de||Ee,N,S),De=cw(N,S),Ie=J?ye:null,Ae=De.indexOf(Ne)<De.length-1,Oe=De.indexOf(Ne)>0,Re=(0,r.useCallback)((function(e){return function(){switch($){case"start":return fw;case"end":return pw;case"range":return mw;default:throw new Error("Invalid returnValue.")}}()({maxDate:k,maxDetail:S,minDate:T,value:e})}),[k,S,T,$]),Pe=(0,r.useCallback)((function(e,t){me(e);var n={action:t,activeStartDate:e,value:Te,view:Ne};j&&!vw(_e,e)&&j(n)}),[_e,j,Te,Ne]),Me=(0,r.useCallback)((function(e,t){var n=function(){switch(Ne){case"century":return U;case"decade":return z;case"year":return V;case"month":return F;default:throw new Error("Invalid view: ".concat(Ne,"."))}}();n&&n(e,t)}),[F,U,V,z,Ne]),je=(0,r.useCallback)((function(e,t){if(Ae){Me(e,t);var n=De[De.indexOf(Ne)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");me(e),Se(n);var r={action:"drillDown",activeStartDate:e,value:Te,view:n};j&&!vw(_e,e)&&j(r),W&&Ne!==n&&W(r),H&&H(r)}}),[_e,Ae,j,Me,H,W,Te,Ne,De]),Le=(0,r.useCallback)((function(){if(Oe){var e=De[De.indexOf(Ne)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Qv(e,_e);me(t),Se(e);var n={action:"drillUp",activeStartDate:t,value:Te,view:e};j&&!vw(_e,t)&&j(n),W&&Ne!==e&&W(n),q&&q(n)}}),[_e,Oe,j,q,W,Te,Ne,De]),Fe=(0,r.useCallback)((function(e,t){var n=Te;Me(e,t);var r,i=J&&!yw(n);if(J)if(i)r=Qv(Ce,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[Qv(e,r[0]),Yv(e,r[1])]}(Ce,n,e)}else r=Re(e);var o=!J||i||v?gw({maxDate:k,maxDetail:S,minDate:T,minDetail:N,value:r,view:Ne}):null;t.persist(),me(o),xe(r);var s={action:"onChange",activeStartDate:o,value:r,view:Ne};if(j&&!vw(_e,o)&&j(s),L)if(J)if(yw(r)){if(a){if(Array.isArray(r))throw new Error("value must not be an array");L([r||null,null],t)}}else L(r||null,t);else L(r||null,t)}),[_e,a,Re,v,k,S,T,N,j,L,Me,J,Te,Ce,Ne]);function Ue(e){ve(e)}function Ve(){ve(null)}function Be(e){var t={activeStartDate:e?Kv(Ne,_e):Qv(Ne,_e),hover:Ie,locale:w,maxDate:k,minDate:T,onClick:Ae?je:Fe,onMouseOver:J?Ue:void 0,tileClassName:le,tileContent:ce,tileDisabled:ue,value:Te,valueType:Ce};switch(Ne){case"century":return(0,Vf.jsx)(bb,nw({formatYear:g,showNeighboringCentury:re},t));case"decade":return(0,Vf.jsx)(Nb,nw({formatYear:g,showNeighboringDecade:ae},t));case"year":return(0,Vf.jsx)(Lb,nw({formatMonth:d,formatMonthYear:f},t));case"month":return(0,Vf.jsx)(tw,nw({calendarType:i,formatDay:u,formatLongDate:h,formatShortWeekday:p,formatWeekday:m,onClickWeekNumber:B,onMouseLeave:J?Ve:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Z,showNeighboringMonth:oe,showWeekNumbers:se},t));default:throw new Error("Invalid view: ".concat(Ne,"."))}}(0,r.useImperativeHandle)(t,(function(){return{activeStartDate:_e,drillDown:je,drillUp:Le,onChange:Fe,setActiveStartDate:Pe,value:Te,view:Ne}}),[_e,je,Le,Fe,Pe,Te,Ne]);var ze=Array.isArray(Te)?Te:[Te];return(0,Vf.jsxs)("div",{className:Zd(rw,J&&1===ze.length&&"".concat(rw,"--selectRange"),Z&&"".concat(rw,"--doubleView"),o),ref:b,children:[ne?(0,Vf.jsx)(eb,{activeStartDate:_e,drillUp:Le,formatMonthYear:f,formatYear:g,locale:w,maxDate:k,minDate:T,navigationAriaLabel:D,navigationAriaLive:I,navigationLabel:A,next2AriaLabel:O,next2Label:R,nextAriaLabel:P,nextLabel:M,prev2AriaLabel:Q,prev2Label:K,prevAriaLabel:Y,prevLabel:G,setActiveStartDate:Pe,showDoubleView:Z,view:Ne,views:De}):null,(0,Vf.jsxs)("div",{className:"".concat(rw,"__viewContainer"),onBlur:J?Ve:void 0,onMouseLeave:J?Ve:void 0,children:[Be(),Z?Be(!0):null]})]})}));const ww=bw,xw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function kw(){var e;const[t,n]=(0,r.useState)({}),[a,i]=(0,r.useState)({}),[o,s]=(0,r.useState)(null),[l,c]=(0,r.useState)({start:"",end:""});return(0,Vf.jsxs)("div",{className:"p-4 space-y-6",children:[(0,Vf.jsx)("h2",{className:"text-xl font-bold",children:"Trainer Availability Dashboard"}),(0,Vf.jsxs)("section",{className:"border p-4 rounded shadow",children:[(0,Vf.jsx)("h3",{className:"font-semibold mb-2",children:"Weekly Availability"}),xw.map((e=>{var r;return(0,Vf.jsxs)("div",{className:"mb-2",children:[(0,Vf.jsxs)("span",{className:"font-medium mr-2",children:[e,":"]}),(0,Vf.jsx)("input",{type:"time",className:"mr-2 border rounded px-2",onChange:e=>c(u(u({},l),{},{start:e.target.value}))}),(0,Vf.jsx)("input",{type:"time",className:"mr-2 border rounded px-2",onChange:e=>c(u(u({},l),{},{end:e.target.value}))}),(0,Vf.jsx)("button",{onClick:()=>((e,t)=>{n((n=>{const r=n[e]||[];return u(u({},n),{},{[e]:[...r,t]})}))})(e,[l.start,l.end]),className:"bg-green-600 text-white px-2 py-1 rounded",children:"Add Slot"}),(0,Vf.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:null===(r=t[e])||void 0===r?void 0:r.map(((e,t)=>(0,Vf.jsxs)("span",{className:"mr-2",children:["[",e[0],"\u2013",e[1],"]"]},t)))})]},e)})),(0,Vf.jsx)("button",{onClick:()=>{const e={};for(const[n,r]of Object.entries(t))e[n]=[...r];n(e)},className:"mt-3 bg-blue-600 text-white px-3 py-1 rounded",children:"Copy Schedule Forward"})]}),(0,Vf.jsxs)("section",{className:"border p-4 rounded shadow",children:[(0,Vf.jsx)("h3",{className:"font-semibold mb-2",children:"Custom Availability (e.g. Breaks)"}),(0,Vf.jsx)(ww,{onChange:s,value:o,className:"mb-4"}),(0,Vf.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Vf.jsx)("input",{type:"time",className:"border rounded px-2",value:l.start,onChange:e=>c(u(u({},l),{},{start:e.target.value}))}),(0,Vf.jsx)("input",{type:"time",className:"border rounded px-2",value:l.end,onChange:e=>c(u(u({},l),{},{end:e.target.value}))}),(0,Vf.jsx)("button",{className:"bg-green-700 text-white px-3 rounded",onClick:()=>{const e=[l.start,l.end];o&&((e,t)=>{const n=e.toISOString().split("T")[0];i((e=>{const r=e[n]||[];return u(u({},e),{},{[n]:[...r,t]})}))})(o,e)},children:"Add Custom Slot"})]}),o&&(0,Vf.jsx)("div",{className:"text-sm text-gray-600",children:(null===(e=a[o.toISOString().split("T")[0]])||void 0===e?void 0:e.map(((e,t)=>(0,Vf.jsxs)("span",{className:"mr-2",children:["[",e[0],"\u2013",e[1],"]"]},t))))||(0,Vf.jsx)("span",{children:"No custom slots yet"})})]})]})}const Ew=jf("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Sw=jf("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),_w=jf("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Tw=jf("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Cw=jf("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nw=jf("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);function Dw(e){let{coach:t}=e;return(0,Vf.jsx)("header",{className:Df.header.container,children:(0,Vf.jsx)("div",{className:Df.header.inner,children:(0,Vf.jsxs)("div",{className:Df.header.content,children:[(0,Vf.jsxs)("div",{className:Df.header.left,children:[(0,Vf.jsx)("img",{src:t.image||t.avatar||"/default-avatar.png",alt:t.name,className:Df.header.avatar,onError:e=>{e.target.src="/default-avatar.png"}}),(0,Vf.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Vf.jsxs)("h1",{className:Df.header.title,children:[(0,Vf.jsx)("span",{className:"hidden sm:inline",children:"Coach Dashboard"}),(0,Vf.jsx)("span",{className:"sm:hidden",children:"Dashboard"})]}),(0,Vf.jsxs)("p",{className:Df.header.subtitle,children:[(0,Vf.jsxs)("span",{className:"hidden sm:inline",children:["Welcome back, ",t.name||"Coach"]}),(0,Vf.jsx)("span",{className:"sm:hidden",children:t.name||"Coach"})]})]})]}),(0,Vf.jsxs)("div",{className:Df.header.right,children:[(0,Vf.jsx)("button",{className:Df.header.iconButton,children:(0,Vf.jsx)(Nw,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,Vf.jsxs)("button",{className:Df.header.primaryButton,children:[(0,Vf.jsx)("span",{className:"hidden sm:inline",children:"View Public Profile"}),(0,Vf.jsx)("span",{className:"sm:hidden",children:"Profile"})]})]})]})})})}function Iw(e){let{tabs:t,activeTab:n,setActiveTab:r}=e;return(0,Vf.jsx)("nav",{className:Df.navigation.container,children:(0,Vf.jsx)("div",{className:Df.navigation.inner,children:(0,Vf.jsx)("div",{className:"".concat(Df.navigation.tabs," dashboard-nav-tabs"),children:t.map((e=>{const t=e.icon,a=n===e.id;return(0,Vf.jsxs)("button",{onClick:()=>r(e.id),className:"".concat(Df.navigation.tab.base," ").concat(a?Df.navigation.tab.active:Df.navigation.tab.inactive),children:[(0,Vf.jsx)(t,{className:"w-4 h-4 flex-shrink-0"}),(0,Vf.jsx)("span",{children:e.label})]},e.id)}))})})})}const Aw=jf("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);function Ow(e,t){var n;const r=()=>lp(null===t||void 0===t?void 0:t.in,NaN),a=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,i=function(e){const t={},n=e.split(Rw.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Rw.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Rw.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=Rw.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let o;if(i.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,a);o=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Pw);if(!n)return new Date(NaN);const r=!!n[4],a=Lw(n[1]),i=Lw(n[2])-1,o=Lw(n[3]),s=Lw(n[4]),l=Lw(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Uw[t]||(Vw(e)?29:28))}(t,i,o)&&function(e,t){return t>=1&&t<=(Vw(e)?366:365)}(t,a)?(e.setUTCFullYear(t,i,Math.max(a,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!o||isNaN(+o))return r();const s=+o;let l,c=0;if(i.time&&(c=function(e){const t=e.match(Mw);if(!t)return NaN;const n=Fw(t[1]),r=Fw(t[2]),a=Fw(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*op+r*ip+1e3*a}(i.time),isNaN(c)))return r();if(!i.timezone){const e=new Date(s+c),n=cp(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(jw);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*op+a*ip)}(i.timezone),isNaN(l)?r():cp(s+c+l,null===t||void 0===t?void 0:t.in)}const Rw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Lw(e){return e?parseInt(e):1}function Fw(e){return e&&parseFloat(e.replace(",","."))||0}const Uw=[31,null,31,30,31,30,31,31,30,31,30,31];function Vw(e){return e%400===0||e%4===0&&e%100!==0}function Bw(e){let{coach:t,stats:n}=e;const{todayBookings:r,todayCount:a,weekCount:i,totalEarnings:o}=n,s=t.price||t.hourlyRate||0,l=e=>{if(!e)return"TBA";try{if(e.includes("T")){return $p(Ow(e),"h:mm a")}return $p(eg(e,"HH:mm",new Date),"h:mm a")}catch(t){return console.warn("Failed to format time:",e,t),e}},c=e=>{if(!e)return"TBA";const t=e.start?l(e.start):"",n=e.end?l(e.end):"";return t&&n?"".concat(t," - ").concat(n):t||n||"TBA"},u=e=>{if(!e)return 60;if(e.duration)return parseInt(e.duration);if(!e.start||!e.end)return 60;try{let t,n;if(e.start.includes("T")&&e.end.includes("T")){t=Ow(e.start),n=Ow(e.end);const r=n-t;return Math.max(Math.round(r/6e4),0)}{const[t,n]=e.start.split(":").map(Number),[r,a]=e.end.split(":").map(Number),i=60*t+n,o=60*r+a;return Math.max(o-i,0)}}catch(t){return console.warn("Failed to calculate duration:",e,t),60}},h=[{label:"Today's Sessions",value:a,icon:Sw,color:"text-blue-500"},{label:"This Week",value:i,icon:Aw,color:"text-green-500"},{label:"Week Earnings",value:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o||0),icon:Tw,color:"text-yellow-500"},{label:"Hourly Rate",value:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s||0),icon:Ew,color:"text-purple-500"}];return(0,Vf.jsxs)("div",{className:Df.section.content,children:[(0,Vf.jsx)("div",{className:Df.stats.grid,children:h.map(((e,t)=>{const n=e.icon;return(0,Vf.jsxs)("div",{className:Df.stats.card,children:[(0,Vf.jsxs)("div",{className:Df.stats.content,children:[(0,Vf.jsx)("p",{className:Df.stats.label,children:e.label}),(0,Vf.jsx)("p",{className:Df.stats.value,children:e.value})]}),(0,Vf.jsx)(n,{className:"".concat(Df.stats.icon," ").concat(e.color)})]},t)}))}),(0,Vf.jsxs)("div",{className:Df.section.container,children:[(0,Vf.jsx)("h3",{className:Df.section.title,children:"Today's Schedule"}),0===r.length?(0,Vf.jsx)("p",{className:Df.section.emptyState,children:"No sessions scheduled for today"}):(0,Vf.jsx)("div",{className:Df.section.content,children:r.map((e=>{return(0,Vf.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:(t=e.firstName,n=e.lastName,t||n?"".concat(t||""," ").concat(n||"").trim():"Client")}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Training Session"})]}),(0,Vf.jsxs)("div",{className:"text-right",children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:c(e.timeSlot)}),(0,Vf.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u(e.timeSlot),"min"]})]})]},e.id);var t,n}))})]})]})}function zw(e){let{coach:t,bookings:n}=e;const[a,i]=(0,r.useState)("all"),o=t.price||t.hourlyRate||0,s=n.filter((e=>{if("today"===a){const t=(new Date).toLocaleDateString("en-CA");return e.date===t}if("week"===a){const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(n.getTime()+6048e5),a=new Date("".concat(e.date,"T23:59:59"));return console.log("Week filter:",{startOfToday:n,weekFromNow:r,bookingDateString:e.date,bookingDate:a,isInRange:a>=n&&a<=r}),a>=n&&a<=r}return!0}));console.log("filteredBookings",s);const l=s.sort(((e,t)=>{const n=e=>{const t=e.timeSlot;if(!t)return new Date("".concat(e.date,"T00:00:00"));if(t.start&&t.start.includes("T"))try{return Ow(t.start)}catch(r){console.warn("Failed to parse ISO datetime:",t.start)}const n=t.start||e.time||"00:00";return new Date("".concat(e.date,"T").concat(n))};return n(e)-n(t)}));console.log("sortedBookings",l);const c=(e,t)=>{var n,r;return((null===e||void 0===e||null===(n=e.charAt(0))||void 0===n?void 0:n.toUpperCase())||"")+((null===t||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"")||"C"},u=e=>{if(!e)return"TBA";try{if(e.includes("T")){return $p(Ow(e),"h:mm a")}return $p(eg(e,"HH:mm",new Date),"h:mm a")}catch(t){return console.warn("Failed to format time:",e,t),e}},h=e=>{if(!e)return"TBA";const t=e.start?u(e.start):"",n=e.end?u(e.end):"";return t&&n?"".concat(t," - ").concat(n):t||n||"TBA"},d=e=>{if(!e)return 60;if(e.duration)return parseInt(e.duration);if(!e.start||!e.end)return 60;try{let t,n;if(!e.start.includes("T")||!e.end.includes("T")){const[t,n]=e.start.split(":").map(Number),[r,a]=e.end.split(":").map(Number),i=60*t+n,o=60*r+a;return Math.max(o-i,0)}t=Ow(e.start),n=Ow(e.end);const r=n-t;return Math.max(Math.round(r/6e4),0)}catch(t){return console.warn("Failed to calculate duration:",e,t),60}},f=e=>{if(!e)return"TBA";try{const t=new Date("".concat(e,"T12:00:00"));return console.log("Formatted date:",t,e),$p(t,"MMM d, yyyy")}catch(t){return e}};return(0,Vf.jsxs)("div",{className:Df.section.container,children:[(0,Vf.jsxs)("div",{className:Df.section.header,children:[(0,Vf.jsx)("h3",{className:Df.section.title,children:"Upcoming Bookings"}),(0,Vf.jsx)("div",{className:Df.filters.container,children:[{id:"all",label:"All"},{id:"today",label:"Today"},{id:"week",label:"Week"}].map((e=>(0,Vf.jsx)("button",{onClick:()=>i(e.id),className:"".concat(Df.filters.button.base," ").concat(a===e.id?Df.filters.button.active:Df.filters.button.inactive),children:e.label},e.id)))})]}),0===l.length?(0,Vf.jsx)("p",{className:Df.section.emptyState,children:"No bookings found for the selected filter."}):(0,Vf.jsx)("div",{className:Df.section.content,children:l.map((e=>{return(0,Vf.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[(0,Vf.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vf.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vf.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:c(e.firstName,e.lastName)}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:(t=e.firstName,n=e.lastName,t||n?"".concat(t||""," ").concat(n||"").trim():"Client")}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Training Session"})]})]}),(0,Vf.jsx)("span",{className:"".concat(yf.badge," ").concat(Df.status[e.status]||Df.status.pending),children:e.status||"pending"})]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Date"}),(0,Vf.jsx)("p",{className:"dark:text-white",children:f(e.date)})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Time"}),(0,Vf.jsx)("p",{className:"dark:text-white",children:h(e.timeSlot)})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Duration"}),(0,Vf.jsxs)("p",{className:"dark:text-white",children:[d(e.timeSlot),"min"]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Revenue"}),(0,Vf.jsxs)("p",{className:"dark:text-white",children:["$",(o*d(e.timeSlot)/60).toFixed(0)]})]})]}),e.notes&&(0,Vf.jsx)("div",{className:"mt-3 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:(0,Vf.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Notes: ",e.notes]})}),(0,Vf.jsxs)("div",{className:Df.actions.container,children:[(0,Vf.jsx)("button",{className:Df.actions.edit,children:"Edit"}),(0,Vf.jsx)("button",{className:Df.actions.delete,children:"Cancel"})]})]},e.id);var t,n}))})]})}const Hw=jf("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qw=jf("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ww=jf("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Qw=e=>{let{value:t,onChange:n,className:r}=e;const{hour:a,minute:i,period:o}=(e=>{if(!e)return{hour:"09",minute:"00",period:"AM"};const[t,n]=e.split(":"),r=parseInt(t),a=r>=12?"PM":"AM";return{hour:(0===r?12:r>12?r-12:r).toString().padStart(2,"0"),minute:n,period:a}})(t),s=(e,t,r)=>{const s=((e,t,n)=>{let r=parseInt(e);return"AM"===n&&12===r&&(r=0),"PM"===n&&12!==r&&(r+=12),"".concat(r.toString().padStart(2,"0"),":").concat(t)})(e||a,t||i,r||o);n(s)},l=Array.from({length:12},((e,t)=>{const n=(t+1).toString().padStart(2,"0");return(0,Vf.jsx)("option",{value:n,children:n},n)})),c=Array.from({length:12},((e,t)=>{const n=(5*t).toString().padStart(2,"0");return(0,Vf.jsx)("option",{value:n,children:n},n)}));return(0,Vf.jsxs)("div",{className:"inline-flex items-center border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-800 ".concat(r),children:[(0,Vf.jsx)("select",{value:a,onChange:e=>s(e.target.value,i,o),className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm sm:text-base min-h-[44px]",children:l}),(0,Vf.jsx)("span",{className:"px-1 dark:text-white",children:":"}),(0,Vf.jsx)("select",{value:i,onChange:e=>s(a,e.target.value,o),className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm sm:text-base min-h-[44px]",children:c}),(0,Vf.jsxs)("select",{value:o,onChange:e=>s(a,i,e.target.value),className:"px-2 py-2 outline-none appearance-none bg-transparent dark:text-white text-sm sm:text-base min-h-[44px] border-l border-gray-200 dark:border-gray-600 ml-1",children:[(0,Vf.jsx)("option",{value:"AM",children:"AM"}),(0,Vf.jsx)("option",{value:"PM",children:"PM"})]})]})},Kw=e=>{let{value:t,onChange:n,className:a}=e;const[i,o]=(0,r.useState)(t||"30"),s=Array.from({length:24},((e,t)=>{const n=10+10*t;return(0,Vf.jsx)("option",{value:n,children:n},n)}));return(0,Vf.jsxs)("div",{className:"inline-flex items-center ".concat(a),children:[(0,Vf.jsx)("select",{value:i,onChange:e=>{return t=e.target.value,o(t),void n(t);var t},className:"px-1.5 py-2.5 outline-none appearance-none bg-transparent dark:text-white text-md text-center",style:{width:"50px"},children:s}),(0,Vf.jsx)("span",{className:"px-1 dark:text-white text-md",children:"mins"})]})};function Yw(e){let{availability:t,onAvailabilityUpdate:n,loading:a}=e;const[o,l]=(0,r.useState)({}),c=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];(0,r.useEffect)((()=>{if(null!==t&&void 0!==t&&t.weeklyAvailability)l(t.weeklyAvailability);else{const e={};c.forEach((t=>{e[t]={}})),l(e)}}),[t]);const h=(e,t,n,r)=>{l((a=>{var i;return u(u({},a),{},{[e]:u(u({},a[e]),{},{[t]:u(u({},null===(i=a[e])||void 0===i?void 0:i[t]),{},{[n]:r})})})}))};return(0,Vf.jsxs)("div",{className:Df.section.container,children:[(0,Vf.jsx)("h3",{className:Df.section.title,children:"Weekly Availability"}),(0,Vf.jsx)("div",{className:Df.section.content,children:c.map((e=>(0,Vf.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-3 sm:p-4",children:[(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 space-y-2 sm:space-y-0",children:[(0,Vf.jsx)("h4",{className:"font-medium capitalize dark:text-white",children:e}),(0,Vf.jsxs)("button",{onClick:()=>(e=>{const t=Object.keys(o[e]||{}).map((e=>parseInt(e))).filter((e=>!isNaN(e))),n=t.length>0?Math.max(...t)+1:0;l((t=>u(u({},t),{},{[e]:u(u({},t[e]),{},{[n]:{start:"09:00",end:"17:00",minSessionLength:"30",maxSessionLength:"120"}})})))})(e),className:"".concat(Df.actions.add," w-full sm:w-auto justify-center sm:justify-start"),children:[(0,Vf.jsx)(Hw,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:"Add Slot"})]})]}),(0,Vf.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[Object.entries(o[e]||{}).map((t=>{let[n,r]=t;return(0,Vf.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1",children:[(0,Vf.jsx)(Qw,{value:r.start||"09:00",onChange:t=>h(e,n,"start",t),className:Df.form.timePicker}),(0,Vf.jsx)("span",{className:"dark:text-white text-sm sm:text-base px-1 sm:px-0",children:"to"}),(0,Vf.jsx)(Qw,{value:r.end||"17:00",onChange:t=>h(e,n,"end",t),className:Df.form.timePicker}),(0,Vf.jsx)("span",{className:"p-4"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Vf.jsx)("span",{className:"dark:text-white text-sm whitespace-nowrap",children:"Session:"}),(0,Vf.jsx)(Kw,{value:r.minSessionLength||"30",onChange:t=>h(e,n,"minSessionLength",t),className:Df.form.timePicker}),(0,Vf.jsx)("span",{className:"dark:text-white text-sm",children:"to"}),(0,Vf.jsx)(Kw,{value:r.maxSessionLength||"120",onChange:t=>h(e,n,"maxSessionLength",t),className:Df.form.timePicker})]})]}),(0,Vf.jsx)("button",{onClick:()=>((e,t)=>{l((n=>{const r=n[e]||{},{[t]:a}=r,o=i(r,[t].map(s));return u(u({},n),{},{[e]:o})}))})(e,n),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded transition-colors self-center sm:self-auto min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,Vf.jsx)(qw,{className:"w-4 h-4"})})]},n)})),0===Object.keys(o[e]||{}).length&&(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400 italic text-sm",children:"No availability set"})]})]},e)))}),(0,Vf.jsxs)("div",{className:"".concat(Df.form.buttonGroup," flex-col sm:flex-row space-y-2 sm:space-y-0"),children:[(0,Vf.jsxs)("button",{onClick:async()=>{n&&await n(o)},disabled:a,className:"".concat(Df.form.primaryButton," flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] w-full sm:w-auto ").concat(a?"cursor-wait":""),children:[(0,Vf.jsx)(Ww,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:a?"Saving...":"Save Changes"})]}),(0,Vf.jsx)("button",{onClick:()=>{const e={};c.forEach((t=>{e[t]="sunday"===t?{}:"saturday"===t?{0:{start:"10:00",end:"15:00",minSessionLength:"30",maxSessionLength:"120"}}:{0:{start:"17:00",end:"21:00",minSessionLength:"30",maxSessionLength:"120"}}})),l(e)},disabled:a,className:"".concat(Df.form.secondaryButton," disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] w-full sm:w-auto"),children:"Reset to Default"})]})]})}function Gw(e){let{coach:t,onPricingUpdate:n,loading:a}=e;const[i,o]=(0,r.useState)(t.price||t.hourlyRate||0),s=[{title:"Single Session",description:"1 hour training session",price:i,pricePerSession:null},{title:"5-Session Package",description:"5% discount applied",price:(5*i*.95).toFixed(0),pricePerSession:(.95*i).toFixed(0)},{title:"10-Session Package",description:"10% discount applied",price:(10*i*.9).toFixed(0),pricePerSession:(.9*i).toFixed(0)}];return(0,Vf.jsxs)("div",{className:Df.section.container,children:[(0,Vf.jsx)("h3",{className:Df.section.title,children:"Pricing Management"}),(0,Vf.jsxs)("div",{className:Df.form.group,children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Hourly Rate"}),(0,Vf.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"$"}),(0,Vf.jsx)("input",{type:"number",value:i,onChange:e=>o(parseInt(e.target.value)||0),className:"w-32 px-3 py-2 border dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white"}),(0,Vf.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"per hour"})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("h4",{className:"font-medium dark:text-white mb-3",children:"Session Packages"}),(0,Vf.jsx)("div",{className:Df.section.content,children:s.map(((e,t)=>(0,Vf.jsxs)("div",{className:"flex items-center justify-between p-3 border dark:border-gray-700 rounded",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("p",{className:"font-medium dark:text-white",children:e.title}),(0,Vf.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,Vf.jsxs)("div",{className:"text-right",children:[(0,Vf.jsxs)("p",{className:"font-medium dark:text-white",children:["$",e.price]}),e.pricePerSession&&(0,Vf.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",e.pricePerSession,"/session"]})]})]},t)))})]}),(0,Vf.jsx)("button",{onClick:async()=>{n&&await n({hourlyRate:i})},disabled:a,className:"".concat(Df.form.primaryButton," disabled:opacity-50 disabled:cursor-not-allowed ").concat(a?"cursor-wait":""),children:a?"Updating...":"Update Pricing"})]})]})}const Xw=jf("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$w=jf("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);function Jw(e){let{coachId:t,currentPhoto:n,onPhotoUpdate:a}=e;const[i,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null);return(0,Vf.jsxs)("div",{className:"space-y-3",children:[(0,Vf.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Vf.jsxs)("div",{className:"relative",children:[(0,Vf.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const n=e.target.files[0];if(n&&t)if(n.type.startsWith("image/"))if(n.size>5242880)l("File size must be less than 5MB.");else{o(!0),l(null);try{const e=Date.now(),o=n.name.split(".").pop(),s="".concat(e,".").concat(o),l=(r=Cy,i="profile-photos/".concat(t,"/").concat(s),vy(r=Yt(r),i));await function(e,t,n){return py(e=Yt(e),t,n)}(l,n);const c=await function(e){return my(e=Yt(e))}(l);await Xd(ld(Ty,"trainers","coach_".concat(t)),{photoURL:c}),a&&a(c),console.log("Photo uploaded successfully:",c)}catch(s){console.error("Upload error:",s),l("Failed to upload photo. Please try again.")}finally{o(!1)}var r,i}else l("Please select an image file.")},className:"hidden",id:"photo-upload-".concat(t),disabled:i}),(0,Vf.jsx)("label",{htmlFor:"photo-upload-".concat(t),className:"".concat(Df.form.secondaryButton," cursor-pointer ").concat(i?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:i?"Uploading...":"Change Photo"})]}),s&&(0,Vf.jsx)("p",{className:"text-red-500 text-sm text-center",children:s}),i&&(0,Vf.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vf.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,Vf.jsx)("p",{className:"text-gray-400 text-sm",children:"Uploading photo..."})]})]}),(0,Vf.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Supported formats: JPG, PNG, GIF (max 5MB)"})]})}function Zw(e){let{coach:t,editingProfile:n,setEditingProfile:a,onProfileUpdate:i,loading:o}=e;const[s,l]=(0,r.useState)({name:t.name||"",email:t.email||"",phone:t.phone||"",specialties:t.specialties||[],bio:t.bio||"",experience:t.experience||""}),c=(e,t)=>{l((n=>u(u({},n),{},{[e]:t})))};return(0,Vf.jsxs)("div",{className:Df.section.container,children:[(0,Vf.jsxs)("div",{className:Df.section.header,children:[(0,Vf.jsx)("h3",{className:Df.section.title,children:"Profile Information"}),(0,Vf.jsxs)("button",{onClick:()=>a(!n),className:"".concat(Df.form.primaryButton," flex items-center space-x-1"),children:[n?(0,Vf.jsx)(Xw,{className:"w-4 h-4"}):(0,Vf.jsx)($w,{className:"w-4 h-4"}),(0,Vf.jsx)("span",{children:n?"Cancel":"Edit"})]})]}),(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Vf.jsx)("div",{className:"md:col-span-1",children:(0,Vf.jsxs)("div",{className:"text-center",children:[(0,Vf.jsx)("img",{src:t.photoURL||t.image||t.avatar||"/default-avatar.png",alt:t.name,className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover border-4 border-gray-200 dark:border-gray-600",onError:e=>{e.target.src="/default-avatar.png"}}),n&&(0,Vf.jsx)("div",{className:"mt-4",children:(0,Vf.jsx)(Jw,{coachId:t.id,currentPhoto:t.photoURL||t.image||t.avatar})})]})}),(0,Vf.jsx)("div",{className:"md:col-span-2",children:(0,Vf.jsxs)("div",{className:Df.form.group,children:[(0,Vf.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Full Name"}),n?(0,Vf.jsx)("input",{type:"text",value:s.name,onChange:e=>c("name",e.target.value),className:Df.form.input}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.name||"Not set"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Email"}),n?(0,Vf.jsx)("input",{type:"email",value:s.email,onChange:e=>c("email",e.target.value),className:Df.form.input}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.email||"Not set"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Phone"}),n?(0,Vf.jsx)("input",{type:"tel",value:s.phone,onChange:e=>c("phone",e.target.value),className:Df.form.input}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.phone||"Not set"})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Experience (years)"}),n?(0,Vf.jsx)("input",{type:"number",value:s.experience,onChange:e=>c("experience",e.target.value),className:Df.form.input}):(0,Vf.jsxs)("p",{className:"dark:text-white",children:[t.experience||"Not set"," years"]})]})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Specialties"}),n?(0,Vf.jsx)("input",{type:"text",value:s.specialties.join(", "),onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e));l((e=>u(u({},e),{},{specialties:t})))})(e.target.value),placeholder:"Weight Training, HIIT, Nutrition",className:Df.form.input}):(0,Vf.jsx)("div",{className:"flex flex-wrap gap-2",children:t.specialties&&t.specialties.length>0?t.specialties.map((e=>(0,Vf.jsx)("span",{className:"".concat(yf.badge," bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:e},e))):(0,Vf.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No specialties set"})})]}),(0,Vf.jsxs)("div",{children:[(0,Vf.jsx)("label",{className:Df.form.label,children:"Bio"}),n?(0,Vf.jsx)("textarea",{value:s.bio,onChange:e=>c("bio",e.target.value),rows:3,placeholder:"Tell clients about yourself...",className:Df.form.textarea}):(0,Vf.jsx)("p",{className:"dark:text-white",children:t.bio||"No bio available"})]}),n&&(0,Vf.jsxs)("div",{className:Df.form.buttonGroup,children:[(0,Vf.jsx)("button",{onClick:async()=>{i&&await i(s),a(!1)},disabled:o,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed ".concat(o?"cursor-wait":""),children:o?"Saving...":"Save Changes"}),(0,Vf.jsx)("button",{onClick:()=>{l({name:t.name||"",email:t.email||"",phone:t.phone||"",specialties:t.specialties||[],bio:t.bio||"",experience:t.experience||""}),a(!1)},disabled:o,className:"".concat(Df.form.secondaryButton," disabled:opacity-50 disabled:cursor-not-allowed"),children:"Cancel"})]})]})})]})]})}function ex(e){let{trainers:t=[],bookings:n=[],availability:a=[]}=e;const{trainerId:i}=me();console.log("paramId",i);const o=i||"nique";console.log("trainers",t),console.log(t.map((e=>e.id))),console.log("coachId",o);const[s,l]=(0,r.useState)("overview"),[c,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),g=(0,r.useMemo)((()=>t.find((e=>e.id===o))||{}),[t,o]),y=(0,r.useMemo)((()=>n.find((e=>e.id===o))||null),[n,o]);console.log("coachBookingData",y);const v=(0,r.useMemo)((()=>null!==y&&void 0!==y&&y.bookings?Object.entries(y.bookings).map((e=>{let[t,n]=e;return u({id:t},n)})):[]),[y]);console.log("coachBookings",v);const b=(0,r.useMemo)((()=>a.find((e=>e.id===o))||{}),[a,o]);console.log("coachAvailability",b);const w=(0,r.useMemo)((()=>{const e=new Date,t=e.toISOString().split("T")[0],n=v.filter((e=>e.date===t)),r=new Date(e.getTime()+6048e5),a=v.filter((t=>{const n=new Date(t.date);return n>=e&&n<=r})),i=a.reduce(((e,t)=>e+(g.price||g.hourlyRate||0)*(t.duration||60)/60),0);return{todayBookings:n,weekBookings:a,totalEarnings:i,todayCount:n.length,weekCount:a.length}}),[v,g]),x=[{id:"overview",label:"Overview",icon:Ew},{id:"bookings",label:"Bookings",icon:Sw},{id:"availability",label:"Availability",icon:_w},{id:"pricing",label:"Pricing",icon:Tw},{id:"profile",label:"Profile",icon:Cw}];if(!g||!g.id)return(0,Vf.jsx)("div",{className:Df.layout,children:(0,Vf.jsx)("div",{className:Df.mainContent,children:(0,Vf.jsx)("div",{className:Df.section.container,children:(0,Vf.jsxs)("div",{className:"text-center",children:[(0,Vf.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Coach not found"}),(0,Vf.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Coach ID: ",o]})]})})})});const k=async e=>{f(!0);const t=await(async(e,t)=>{try{const n=ld(Ty,"trainers","coach_".concat(e));return await Xd(n,t),{success:!0}}catch(n){return console.error("Error updating coach profile:",n),{success:!1,error:n.message}}})(o,e);t.success?m("Profile updated successfully!"):m("Error: ".concat(t.error)),f(!1),setTimeout((()=>m("")),3e3)},E=async e=>{f(!0);const t=await(async(e,t)=>{try{const n=ld(Ty,"availability","coach_".concat(e));return await Xd(n,{weeklyAvailability:t}),{success:!0}}catch(n){return console.error("Error updating availability:",n),{success:!1,error:n.message}}})(o,e);t.success?m("Availability updated successfully!"):m("Error: ".concat(t.error)),f(!1),setTimeout((()=>m("")),3e3)},S=async e=>{f(!0);const t=await(async(e,t)=>{try{const n=ld(Ty,"trainers","coach_".concat(e));return await Xd(n,{price:t.hourlyRate,updatedAt:(new Date).toISOString()}),{success:!0}}catch(n){return console.error("Error updating pricing:",n),{success:!1,error:n.message}}})(o,e);t.success?m("Pricing updated successfully!"):m("Error: ".concat(t.error)),f(!1),setTimeout((()=>m("")),3e3)};return(0,Vf.jsxs)("div",{className:Df.layout,children:[(0,Vf.jsx)(Dw,{coach:g}),p&&(0,Vf.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-lg shadow-lg z-50 ".concat(p.includes("Error")?"bg-red-500 text-white":"bg-green-500 text-white"),children:p}),(0,Vf.jsx)(Iw,{tabs:x,activeTab:s,setActiveTab:l}),(0,Vf.jsx)("main",{className:Df.mainContent,children:(()=>{const e={coach:g,bookings:v,availability:b,stats:w,loading:d,onProfileUpdate:k,onAvailabilityUpdate:E,onPricingUpdate:S};switch(s){case"overview":default:return(0,Vf.jsx)(Bw,u({},e));case"bookings":return(0,Vf.jsx)(zw,u({},e));case"availability":return(0,Vf.jsx)(Yw,u({},e));case"pricing":return(0,Vf.jsx)(Gw,u({},e));case"profile":return(0,Vf.jsx)(Zw,u(u({},e),{},{editingProfile:c,setEditingProfile:h}))}})()})]})}function tx(e){let{trainers:t,selectedCoach:n,setSelectedCoach:r,availability:a,coachAvailability:i,setCoachAvailability:o,bookingRef:s}=e;return(0,Vf.jsxs)(Vf.Fragment,{children:[(0,Vf.jsx)(Hf,{}),(0,Vf.jsx)(Wf,{bookingRef:s,trainers:t,setSelectedCoach:r,availability:a,setCoachAvailability:o}),(0,Vf.jsx)("div",{ref:s,children:(0,Vf.jsx)(lg,{selectedCoach:n,coachAvailability:i})})]})}function nx(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),i=(0,r.useRef)(null),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[h,d]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async function(e){const t=sd(e,"trainers"),n=(await Gd(t)).docs.map((e=>u({id:e.id},e.data())));return localStorage.setItem("trainers_cache",JSON.stringify(n)),n})(Ty).then(t),async function(e){const t=sd(e,"availability");return(await Gd(t)).docs.map((e=>u({id:e.id},e.data())))}(Ty).then(s),async function(e){const t=sd(e,"bookings");return(await Gd(t)).docs.map((e=>u({id:e.id},e.data())))}(Ty).then(c)}),[]),console.log("Trainers: ",e,"\nAvailability: ",o,"\nSelected Coach: ",n),(0,Vf.jsxs)("main",{className:vf.main,children:[(0,Vf.jsx)(zf,{}),(0,Vf.jsx)("div",{className:vf.container,children:(0,Vf.jsxs)(Oe,{children:[(0,Vf.jsx)(Ie,{path:"/",element:(0,Vf.jsx)(tx,{trainers:e,selectedCoach:n,setSelectedCoach:a,availability:o,coachAvailability:h,setCoachAvailability:d,bookingRef:i})}),(0,Vf.jsx)(Ie,{path:"/dashboard",element:(0,Vf.jsx)(ex,{trainers:e,bookings:l,availability:o})}),e.length>0&&(0,Vf.jsx)(Ie,{path:"/dashboard/:trainerId",element:(0,Vf.jsx)(ex,{trainers:e,bookings:l,availability:o})}),(0,Vf.jsx)(Ie,{path:"/trainer",element:(0,Vf.jsx)(kw,{trainers:e,bookings:l})})]})})]})}Uf();a.createRoot(document.getElementById("root")).render((0,Vf.jsx)(r.StrictMode,{children:(0,Vf.jsx)(ft,{basename:"/trainer-booking-app",children:(0,Vf.jsx)(nx,{})})}))})();
//# sourceMappingURL=main.59d710d7.js.map